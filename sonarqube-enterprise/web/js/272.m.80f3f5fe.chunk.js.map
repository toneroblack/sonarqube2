{"version":3,"sources":["webpack:///./src/main/js/apps/overview/styles.css?d11e","webpack:///./src/main/js/apps/overview/components/MeasurementLabel.tsx","webpack:///./src/main/js/apps/overview/components/IssueLabel.tsx","webpack:///./src/main/js/apps/overview/components/IssueRating.tsx","webpack:///./src/main/js/apps/overview/components/QualityGateCondition.tsx","webpack:///./src/main/js/apps/overview/components/QualityGateConditions.tsx","webpack:///./src/main/js/apps/overview/styles.css","webpack:///./src/main/js/components/ui/DismissableAlert.css?8b48","webpack:///./src/main/js/components/ui/DismissableAlert.css","webpack:///./src/main/js/apps/overview/branches/Event.tsx","webpack:///./src/main/js/apps/overview/branches/Analysis.tsx","webpack:///./src/main/js/apps/overview/branches/ActivityPanel.tsx","webpack:///./src/main/js/components/ui/DismissableAlert.tsx","webpack:///./src/main/js/apps/overview/branches/FirstAnalysisNextStepsNotif.tsx","webpack:///./src/main/js/apps/overview/branches/DrilldownMeasureValue.tsx","webpack:///./src/main/js/apps/overview/branches/ApplicationLeakPeriodInfo.tsx","webpack:///./src/main/js/apps/overview/branches/ProjectLeakPeriodInfo.tsx","webpack:///./src/main/js/apps/overview/branches/LeakPeriodInfo.tsx","webpack:///./src/main/js/apps/overview/branches/DebtValue.tsx","webpack:///./src/main/js/apps/overview/branches/SecurityHotspotsReviewed.tsx","webpack:///./src/main/js/apps/overview/branches/MeasuresPanelIssueMeasureRow.tsx","webpack:///./src/main/js/apps/overview/branches/MeasuresPanel.tsx","webpack:///./src/main/js/apps/overview/branches/MeasuresPanelNoNewCode.tsx","webpack:///./src/main/js/apps/overview/branches/NoCodeWarning.tsx","webpack:///./src/main/js/apps/overview/branches/QualityGatePanelSection.tsx","webpack:///./src/main/js/apps/overview/branches/QualityGatePanel.tsx","webpack:///./src/main/js/apps/overview/branches/BranchOverviewRenderer.tsx","webpack:///./src/main/js/apps/overview/branches/BranchOverview.tsx","webpack:///./src/main/js/apps/overview/components/App.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.js","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css?7974","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFormatter.js","webpack:///./node_modules/sonar-ui-common/components/intl/DateFromNow.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/IssueTypeIcon.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/sonar-ui-common/components/icons/BranchIcon.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./src/main/js/components/activity-graph/utils.ts","webpack:///./node_modules/sonar-ui-common/components/icons/IssueIcon.js","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./node_modules/lodash/find.js","webpack:///./node_modules/lodash/_createFind.js","webpack:///./node_modules/lodash/findIndex.js","webpack:///./src/main/js/types/project-activity.ts","webpack:///./node_modules/lodash/flatMap.js","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./src/main/js/apps/settings/components/AdditionalCategoryKeys.ts","webpack:///./src/main/js/api/application.ts","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/sonar-ui-common/components/icons/ProjectEventIcon.js","webpack:///./src/main/js/components/shared/DrilldownLink.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/BoxedTabs.js","webpack:///./node_modules/lodash/chunk.js","webpack:///./src/main/js/apps/overview/utils.ts","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.css?8cf1","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.css","webpack:///./node_modules/sonar-ui-common/components/icons/ChartLegendIcon.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/math.js","webpack:///./node_modules/d3-shape/src/arc.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-shape/src/area.js","webpack:///./node_modules/d3-shape/src/descending.js","webpack:///./node_modules/d3-shape/src/identity.js","webpack:///./node_modules/d3-shape/src/pie.js","webpack:///./node_modules/d3-shape/src/curve/radial.js","webpack:///./node_modules/d3-shape/src/lineRadial.js","webpack:///./node_modules/d3-shape/src/areaRadial.js","webpack:///./node_modules/d3-shape/src/pointRadial.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/d3-shape/src/link/index.js","webpack:///./node_modules/d3-shape/src/symbol/circle.js","webpack:///./node_modules/d3-shape/src/symbol/cross.js","webpack:///./node_modules/d3-shape/src/symbol/diamond.js","webpack:///./node_modules/d3-shape/src/symbol/star.js","webpack:///./node_modules/d3-shape/src/symbol/square.js","webpack:///./node_modules/d3-shape/src/symbol/triangle.js","webpack:///./node_modules/d3-shape/src/symbol/wye.js","webpack:///./node_modules/d3-shape/src/symbol.js","webpack:///./node_modules/d3-shape/src/noop.js","webpack:///./node_modules/d3-shape/src/curve/basis.js","webpack:///./node_modules/d3-shape/src/curve/basisClosed.js","webpack:///./node_modules/d3-shape/src/curve/basisOpen.js","webpack:///./node_modules/d3-shape/src/curve/bundle.js","webpack:///./node_modules/d3-shape/src/curve/cardinal.js","webpack:///./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack:///./node_modules/d3-shape/src/curve/cardinalOpen.js","webpack:///./node_modules/d3-shape/src/curve/catmullRom.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack:///./node_modules/d3-shape/src/curve/linearClosed.js","webpack:///./node_modules/d3-shape/src/curve/monotone.js","webpack:///./node_modules/d3-shape/src/curve/natural.js","webpack:///./node_modules/d3-shape/src/curve/step.js","webpack:///./node_modules/d3-shape/src/offset/none.js","webpack:///./node_modules/d3-shape/src/order/none.js","webpack:///./node_modules/d3-shape/src/stack.js","webpack:///./node_modules/d3-shape/src/offset/expand.js","webpack:///./node_modules/d3-shape/src/offset/diverging.js","webpack:///./node_modules/d3-shape/src/offset/silhouette.js","webpack:///./node_modules/d3-shape/src/offset/wiggle.js","webpack:///./node_modules/d3-shape/src/order/appearance.js","webpack:///./node_modules/d3-shape/src/order/ascending.js","webpack:///./node_modules/d3-shape/src/order/descending.js","webpack:///./node_modules/d3-shape/src/order/insideOut.js","webpack:///./node_modules/d3-shape/src/order/reverse.js","webpack:///./node_modules/sonar-ui-common/components/icons/HistoryIcon.js","webpack:///./src/main/js/api/projectActivity.ts","webpack:///./src/main/js/components/activity-graph/styles.css?935f","webpack:///./src/main/js/apps/projectActivity/components/DefinitionChangeEventInner.tsx","webpack:///./src/main/js/apps/projectActivity/components/RichQualityGateEventInner.tsx","webpack:///./src/main/js/helpers/periods.ts","webpack:///./node_modules/sonar-ui-common/components/charts/LineChart.css?3c71","webpack:///./src/main/js/api/time-machine.ts","webpack:///./src/main/js/components/activity-graph/styles.css","webpack:///./node_modules/sonar-ui-common/components/charts/AdvancedTimeline.js","webpack:///./node_modules/sonar-ui-common/components/charts/AdvancedTimeline.css?6788","webpack:///./node_modules/sonar-ui-common/components/charts/AdvancedTimeline.css","webpack:///./node_modules/sonar-ui-common/components/charts/LineChart.css","webpack:///./src/main/js/components/common/ActivityLink.tsx","webpack:///./src/main/js/components/common/ActivityLink.css?a97d","webpack:///./src/main/js/components/common/ActivityLink.css","webpack:///./src/main/js/components/activity-graph/GraphsLegendItem.tsx","webpack:///./src/main/js/components/activity-graph/GraphsLegendCustom.tsx","webpack:///./src/main/js/components/activity-graph/GraphsLegendStatic.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContent.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentCoverage.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentDuplication.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentEvents.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltipsContentIssues.tsx","webpack:///./src/main/js/components/activity-graph/GraphsTooltips.tsx","webpack:///./src/main/js/components/activity-graph/GraphHistory.tsx","webpack:///./src/main/js/components/activity-graph/GraphsHistory.tsx","webpack:///./src/main/js/components/activity-graph/AddGraphMetricPopup.tsx","webpack:///./src/main/js/components/activity-graph/AddGraphMetric.tsx","webpack:///./src/main/js/components/activity-graph/GraphsHeader.tsx"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","MeasurementLabel","getLabelText","branchLike","component","measures","type","useDiffMetric","this","props","expandedLabelKey","labelKey","linesMetric","measure","value","defaultMessage","id","values","count","className","key","metric","centered","iconClass","undefined","icon","size","Number","link","decimals","omitExtraDecimalZeros","label","helpTooltip","params","resolved","types","sinceLeakPeriod","to","SecurityHotspot","overlay","rating","tooltip","renderRatingLink","getIssuesUrl","customQuery","query","Object","assign","condition","threshold","level","error","warning","severities","children","toLowerCase","metricKey","METRICS_TO_URL_MAPPING","reliability_rating","getUrlForBugsOrVulnerabilities","Bug","new_reliability_rating","security_rating","Vulnerability","new_security_rating","sqale_rating","getUrlForCodeSmells","new_maintainability_rating","security_hotspots_reviewed","getUrlForSecurityHotspot","new_security_hotspots_reviewed","DrilldownLink","period","isDiff","actual","operator","op","wrapWithLink","Measure","metricType","name","LEVEL_ORDER","QualityGateConditions","collapsible","failedConditions","collapsed","toggleCollapsed","Boolean","length","sortedConditions","indexOf","renderConditions","renderCollapsed","slice","map","onClick","___CSS_LOADER_API_IMPORT___","push","event","category","title","eventCategory","qualityGate","stillFailing","status","small","description","analysis","sortedEvents","events","qualifier","Application","Project","date","analyses","graph","leakPeriodDate","loading","measuresHistory","metrics","series","graphs","shownLeakPeriodDate","startDate","reduce","oldest","history","getTime","Date","filteredAnalyses","filter","a","GraphsHeader","updateGraph","onGraphChange","GraphsHistory","ActivityLink","alertKey","display","variant","show","setShow","Alert","thin","withCurrentUser","currentUser","branchesEnabled","detectedCIOnLastAnalysis","projectBinding","showConfigurePullRequestDecoNotif","showConfigureCINotif","showOnlyConfigureCI","showOnlyConfigurePR","showBoth","isProjectAdmin","configuration","showSettings","tutorialsLink","pathname","projectSettingsLink","link_project_settings","link_ci","DrilldownMeasureValue","leakPeriod","fromNow","projectName","intl","formatDate","formatTime","leakPeriodLabel","includes","mode","LeakPeriodInfo","new_technical_debt","sqale_index","SecurityHotspotsReviewed","CoverageRating","MeasuresPanelIssueMeasureRow","isNewCodeTab","isApp","toString","CodeSmell","IssueLabel","IssueRating","MeasuresPanelTabs","MeasuresPanelNoNewCode","branch","hasBadReferenceBranch","hasBadNewCodeSettingSameRef","parameter","badExplanationKey","showSettingsLink","style","height","alt","src","maxWidth","setting_link","learn_more_link","MeasuresPanel","appLeak","hasDiffMeasures","some","m","tab","selectTab","New","Overall","tabs","position","top","grid","onSelect","selected","coverage","new_coverage","Coverage","tests","Duplication","duplicated_blocks","find","projects","qgStatus","newCodeFailedConditions","c","overallFailedConditions","showName","qgStatuses","overallLevel","s","success","overallFailedConditionsCount","acc","showIgnoredConditionWarning","p","ignoredConditions","failed","loadingHistory","loadingStatus","projectIsEmpty","A11ySkipTarget","anchor","FROM_DATE","setFullYear","getFullYear","super","mounted","loadStatus","loadApplicationStatus","loadProjectStatus","async","setState","appStatus","application","appMeasures","loadMeasuresAndMeta","appBranchName","appDetails","then","leaks","sortedLeaks","leak","Promise","all","project","projectDetails","projectBranchLike","isMain","excludedFromPurge","conditions","results","getFailedConditions","projectStatus","projectKey","metricKeys","componentKey","loadHistory","loadHistoryMeasures","loadAnalyses","doneLoadingHistory","state","graphMetrics","from","join","getTopLevelComponent","detectedCI","current","breadcrumbs","Portfolio","handleGraphChange","prevProps","lines","new_lines","EmptyOverview","lazyLoadComponent","PullRequestOverview","isPortfolio","appState","branchLikes","Suggestions","suggestions","analysisDate","hasAnalyses","isPending","isInProgress","withRouter","withAppState","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","hasOwnProperty","__","constructor","prototype","create","defineProperty","classNames","React","DeferredSpinner_1","Checkbox","_super","_this","apply","arguments","handleClick","preventDefault","currentTarget","blur","disabled","onCheck","checked","render","_a","right","thirdState","createElement","note","href","role","defaultProps","PureComponent","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","isArrayLike","isObjectLike","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","array","iteratee","comparator","index","isCommon","result","valuesLength","outer","computed","valuesIndex","toNumber","baseIteratee","baseMap","isArray","collection","__assign","t","n","call","react_intl_1","dates_1","formatterOption","year","month","day","longFormatterOption","long","FormattedDate","parseDate","date_fns_1","l10n_1","DateTimeFormatter_1","originalChildren","f","hourPrecision","Fragment","translate","differenceInHours","now","parsedDate","formattedDate","FormattedRelative","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","weight","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","IssueIcon_1","iconProps","baseAssignValue","createAggregator","groupBy","toFinite","remainder","baseDifference","baseFlatten","baseRest","isArrayLikeObject","difference","Icon_1","fill","ThemedIcon","theme","colors","blue","KNOWN_RATINGS","enhanceMeasure","getLeakValue","getRatingTooltip","finalMetricKey","substr","predicate","fromIndex","fromRight","formattedValue","_b","DEFAULT_GRAPH","issues","GRAPHS_METRICS_DISPLAYED","bugs","code_smells","vulnerabilities","lines_to_cover","uncovered_lines","duplications","ncloc","duplicated_lines","GRAPHS_METRICS","concat","duplicated_lines_density","isCustomGraph","custom","getGraphTypes","ignoreCustom","hasDataValues","serie","data","point","y","hasHistoryData","getSeriesMetricType","getDisplayedHistoryMetrics","customMetrics","getHistoryMetrics","splitSeriesInGraphs","maxGraph","maxSeries","generateSeries","displayedMetrics","uncoveredLines","linesToCover","idx","x","translatedName","generateCoveredLinesMetric","findMetric","saveActivityGraph","namespace","getActivityGraph","customGraphs","split","BugIcon_1","CodeSmellIcon_1","SecurityHotspotIcon_1","VulnerabilityIcon_1","MultiSelectOption","active","element","onHover","renderLabel","onFocus","onMouseOver","onSelectChange","handleSelectChange","item","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","prevState","activeIdx","getAllElements","handleKeyboard","evt","keyCode","stopPropagation","selectNextElement","selectPreviousElement","toggleSelect","onSearch","stopLoading","isNewElement","onUnselect","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","listSize","unselectedElements","setElementActive","allElements","container","addEventListener","nextProps","totalElements","searchInput","focus","removeEventListener","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","ref","div","autoFocus","onChange","placeholder","createFind","keys","findIndexFunc","iterable","baseFindIndex","toInteger","nativeMax","Math","max","GraphType","DonutChart","SIZE_TO_WIDTH_MAPPING","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","muted","padAngle","numberValue","gray71","green","barBackgroundColor","lineCoverageRed","width","thickness","ALM_INTEGRATION","ANALYSIS_SCOPE_CATEGORY","LANGUAGES_CATEGORY","NEW_CODE_PERIOD_CATEGORY","PULL_REQUEST_DECORATION_BINDING_CATEGORY","getApplicationLeak","r","getApplicationDetails","addApplicationBranch","catch","updateApplicationBranch","deleteApplicationBranch","getApplicationProjects","addProjectToApplication","removeProjectFromApplication","refreshApplication","createApplication","visibility","deleteApplication","editApplication","lodash_1","_c","isNaN","inRange","baseIsEqual","other","stroke","strokeWidth","ISSUE_MEASURES","issueParamsPerMetric","blocker_violations","new_blocker_violations","critical_violations","new_critical_violations","major_violations","new_major_violations","minor_violations","new_minor_violations","info_violations","new_info_violations","open_issues","statuses","reopened_issues","confirmed_issues","false_positive_issues","resolutions","new_code_smells","new_bugs","new_vulnerabilities","isIssueMeasure","propsToIssueParams","renderIssuesLink","url","listView","__makeTemplateObject","cooked","raw","templateObject_1","templateObject_2","templateObject_3","theme_1","TabContainer","styled","baseBorder","barBorderColor","highlightHoverMixin","barBackgroundColorHighlight","StyledTab","button","themeSize","ActiveBorder","themeColor","baseSlice","isIterateeCall","nativeCeil","ceil","guard","resIndex","METRICS","alert_status","quality_gate_details","security_hotspots","new_security_hotspots","security_review_rating","new_security_review_rating","new_lines_to_cover","new_duplicated_lines_density","ncloc_language_distribution","PR_METRICS","HISTORY_METRICS_LIST","MeasurementType","MEASUREMENTS_MAP","newMetric","newLinesMetric","afterMergeMetric","newLinesExpandedLabelKey","getIssueRatingName","ratingName","getIssueIconClass","getIssueMetricKey","getIssueRatingMetricKey","newRating","getMeasurementIconClass","getMeasurementMetricKey","getMeasurementAfterMergeMetricKey","getMeasurementLinesMetricKey","getMeasurementLabelKeys","COLORS","darkBlue","pi","PI","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","_","path","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","Error","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","atan2","min","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","constant","padRadius","context","buffer","r0","t0","t1","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","Linear","_context","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","defined","curve","output","line","defined0","area","j","k","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","identity","sortValues","descending","sort","pie","v","sum","arcs","pa","curveRadialLinear","curveRadial","Radial","_curve","radial","lineRadial","angle","radius","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","source","linkTarget","target","argv","curveHorizontal","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","tan30","tan30_2","kr","kx","ky","sqrt3","symbols","circle","cross","diamond","square","star","triangle","wye","symbol","that","Basis","BasisClosed","noop","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","pow","catmullRom","CatmullRomClosed","CatmullRomOpen","LinearClosed","sign","slope3","h0","h1","s0","s1","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","_t0","px","py","i0","i1","Step","_t","stepBefore","stepAfter","order","o","stackValue","offset","stack","oz","kz","sz","sij","ki","si","none","yp","yn","s2","sij0","s3","sk","peaks","peak","vi","vj","Infinity","sums","ascending","reverse","appearance","bottom","tops","bottoms","getProjectActivity","createEvent","deleteEvent","changeEvent","deleteAnalysis","isDefinitionChangeEvent","definitionChange","DefinitionChangeEventInner","expanded","toggleProjectsList","renderProjectLink","renderBranch","mainBranch","changeType","message","newBranch","oldBranch","turned","renderProjectChange","isRichQualityGateEvent","RichQualityGateEventInner","failing","getPeriodLabel","dateFormatter","modeParam","getPeriodDate","isApplicationPeriod","getAllTimeMachineData","prev","getTimeMachineData","ps","paging","pageIndex","pageSize","total","d3_array_1","d3_scale_1","d3_shape_1","types_1","AdvancedTimeline","getRatingScale","availableHeight","scalePoint","domain","range","getLevelScale","getYScale","flatData","scaleLinear","nice","getXScale","availableWidth","endDate","dateRange","extent","start","end","xScale","scaleTime","sortBy","clamp","maxXRange","getScales","padding","flatten","yScale","getSelectedDatePos","selectedDate","firstSerie","findIndex","valueOf","xRange","xPos","selectedDateXPos","selectedDateIdx","getEventMarker","half","handleWheel","parentBbox","getBoundingClientRect","mouseXPos","pageX","left","speed","deltaMode","zoomSpeed","leftPos","round","deltaY","rightPos","invert","handleZoomUpdate","updateZoom","handleMouseMove","updateTooltipPos","handleMouseEnter","mouseOver","handleMouseOut","updateTooltip","updateSelectedDate","setLeakLegendTextWidth","node","leakLegendTextWidth","bisectX","bisector","previousPoint","nextPoint","xPos_1","renderHorizontalGrid","formatYTick","ticks","maxYTicksCount","formattedTicks","tick","uniq","textAnchor","renderXAxisTicks","format","tickFormat","transform","nextTick","renderNewCodeLegend","legendBackgroundPosition","legendBackgroundWidth","legendMargin","legendPosition","legendTextAnchor","leakStart","leakWidth","yRange","legendMinWidth","rawSizes","legendPadding","leakPrimaryColor","renderLeak","displayNewCodeLegend","ThemeConsumer","renderLines","lineGenerator","basisCurve","curveBasis","renderDots","serieIdx","pointNotDefined","hasPointBefore","hasPointAfter","isDefined","dots","renderAreas","areaGenerator","renderSelectedDate","renderClipPath","renderMouseEventsOverlay","zoomEnabled","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","scales","selectedDatePos","throttle","componentDidUpdate","isEqual","disableZoom","isZoomed","hideGrid","hideXAxis","showAreas","eventSize","removeMetric","isActionable","legendClass","showWarning","GraphsLegendCustom","hasData","legendItem","GraphsLegendStatic","GraphsTooltipsContent","GraphsTooltipsContentCoverage","addSeparator","tooltipIdx","uncovered","uncoveredValue","coverageValue","colSpan","GraphsTooltipsContentDuplication","duplicationDensity","duplicationDensityValue","GraphsTooltipsContentEvents","METRIC_RATING","GraphsTooltipsContentIssues","ratingValue","formatValue","tooltipPos","placement","RightTop","graphWidth","LeftTop","tooltipContent","renderContent","metricsType","formatTooltipValue","tooltipXPos","graphEndDate","graphStartDate","isCustom","removeCustomMetric","AutoSizer","updateGraphZoom","getSelectedDateEvents","graphSeries","AddGraphMetricPopup","metricsTypeFilter","MultiSelect","selectedMetrics","getLocalizedMetricNameFromKey","filterMetricsElements","hidden","getSelectedMetricsElements","resolve","addMetric","filteredMetrics","closeOnClick","closeOnClickOutside","option","addCustomMetric","selectOptions","clearable","searchable"],"mappings":"gFAAA,IAAIA,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,kCCpBjB,2GA4Ce,MAAMG,UAAyB,YAA9C,c,oBACE,KAAAC,aAAe,KACb,MAAM,WAAEC,EAAF,UAAcC,EAAd,SAAyBC,EAAzB,KAAmCC,EAAnC,cAAyCC,GAAgB,GAAUC,KAAKC,OACxE,iBAAEC,EAAF,SAAoBC,GAAa,YAAwBL,EAAMC,GAC/DK,EAAc,YAA6BN,EAAMC,GACjDM,EAAU,sBAAYR,EAAUO,GAEtC,GAAKC,EAEE,CACL,MAAMC,EAAQP,EAAgB,YAAaM,GAAWA,EAAQC,MAE9D,OACE,gBAAC,mBAAgB,CACfC,eAAgB,oBAAUL,GAC1BM,GAAIN,EACJO,OAAQ,CACNC,MACE,gBAAC,IAAa,CACZf,WAAYA,EACZgB,UAAU,MACVf,UAAWA,EAAUgB,IACrBC,OAAQT,GACP,wBAAcE,EAAO,iBAfhC,OAAO,oBAAUH,IAwBrB,SACE,MAAM,WAAER,EAAF,SAAcmB,EAAd,UAAwBlB,EAAxB,SAAmCC,EAAnC,KAA6CC,EAA7C,cAAmDC,GAAgB,GAAUC,KAAKC,MAClFc,EAAY,YAAwBjB,GACpCe,EAAS,YAAwBf,EAAMC,GACvCM,EAAU,sBAAYR,EAAUgB,GAEtC,IAAIP,EAKJ,GAJID,IACFC,EAAQP,EAAgB,YAAaM,GAAWA,EAAQC,YAG5CU,IAAVV,EACF,OACE,uBAAKK,UAAU,uBACb,qCAAkB,oBAAU,WAAYA,UAAU,kCAClD,wBAAMA,UAAU,mBAAmBX,KAAKN,iBAK9C,MAAMuB,EAAO,gBAAoBF,EAAW,CAAEG,KAAM,MAAOZ,MAAOa,OAAOb,KACnEc,EACJ,gBAAC,IAAa,CACZzB,WAAYA,EACZgB,UAAU,qCACVf,UAAWA,EAAUgB,IACrBC,OAAQA,GACP,wBAAcP,EAAO,UAAW,CAAEe,SAAU,EAAGC,uBAAuB,KAGrEC,EAAQvB,KAAKN,eAEnB,OAAOoB,EACL,uBAAKH,UAAU,8BACb,uBAAKA,UAAU,mDACb,wBAAMA,UAAU,oBAAoBM,GACnCG,GAEH,uBAAKT,UAAU,0BAA0BY,IAG3C,uBAAKZ,UAAU,uBACb,wBAAMA,UAAU,oBAAoBM,GACpC,uBAAKN,UAAU,uBACb,4BAAOS,GACP,wBAAMT,UAAU,cAAcY,Q,qeCxCzB,YAxCR,SAAoBtB,GACzB,MAAM,WAAEN,EAAF,UAAcC,EAAd,YAAyB4B,EAAzB,SAAsC3B,EAAtC,KAAgDC,EAAhD,cAAsDC,GAAgB,GAAUE,EAChFY,EAAS,YAAkBf,EAAMC,GACjCM,EAAU,sBAAYR,EAAUgB,GAChCE,EAAY,YAAkBjB,GAEpC,IAAIQ,EACAD,IACFC,EAAQP,EAAgB,YAAaM,GAAWA,EAAQC,OAG1D,MAAMmB,E,+VAAM,IACP,YAAmB9B,GADZ,CAEV+B,SAAU,QACVC,MAAO7B,EACP8B,gBAAiB7B,EAAgB,OAAS,UAG5C,OACE,qCACaiB,IAAVV,EACC,qCAAkB,oBAAU,WAAYK,UAAU,kCAElD,gBAAC,IAAI,CACHA,UAAU,qCACVkB,GACE/B,IAAS,IAAUgC,gBACf,YAAgClC,EAAUgB,IAAKa,GAC/C,YAAsB7B,EAAUgB,IAAKa,IAE1C,wBAAcnB,EAAO,cAGzB,gBAAoBS,EAAW,CAAEJ,UAAW,wCAC5C,yBAAeE,GACfW,GAAe,gBAAC,IAAW,CAACb,UAAU,qBAAqBoB,QAASP,S,kCC5E3E,mFA+Ee,YAXR,SAAqBvB,GAC1B,MAAM,KAAEH,GAASG,EAEjB,OACE,gCACE,wBAAMU,UAAU,sCAAsC,YAAmBb,IApC/E,SAA0BG,GACxB,MAAM,WAAEN,EAAF,UAAcC,EAAd,cAAyBG,GAAgB,EAAzC,SAAgDF,EAAhD,KAA0DC,GAASG,EACnE+B,EAAS,YAAwBlC,EAAMC,GACvCM,EAAU,sBAAYR,EAAUmC,GAEtC,IAAKA,IAAW3B,EACd,OACE,uBAAKM,UAAU,UACb,gBAAC,IAAM,CAACL,WAAOU,KAKrB,MAAMV,EAAQD,IAAYN,EAAgB,YAAaM,GAAWA,EAAQC,OACpE2B,EAAU3B,GAAS,YAAiB0B,EAAQb,OAAOb,IAEzD,OACE,gBAAC,IAAO,CAACyB,QAASE,GAChB,4BACE,gBAAC,IAAa,CACZtC,WAAYA,EACZgB,UAAU,oBACVf,UAAWA,EAAUgB,IACrBC,OAAQmB,GACR,gBAAC,IAAM,CAAC1B,MAAOA,OAalB4B,CAAiBjC,Q,u6BChCT,MAAM,UAA6B,gBAAlD,c,oBACE,KAAAkC,aAAe,CAACP,EAA0BQ,KACxC,MAAMC,EAAK,GACTX,SAAU,SACP,YAAmB1B,KAAKC,MAAMN,YAFxB,GAGNyC,GAKL,OAHIR,GACFU,OAAOC,OAAOF,EAAO,CAAET,gBAAiB,SAEnC,YAAsB5B,KAAKC,MAAML,UAAUgB,IAAKyB,IAGzD,yBAAyBT,GACvB,MAAMS,EAAK,KACN,YAAmBrC,KAAKC,MAAMN,aAKnC,OAHIiC,GACFU,OAAOC,OAAOF,EAAO,CAAET,gBAAiB,SAEnC,YAAgC5B,KAAKC,MAAML,UAAUgB,IAAKyB,GAGnE,oBAAoBT,GAClB,OAAO5B,KAAKmC,aAAaP,EAAiB,CAAED,MAAO,eAGrD,+BAA+B7B,EAAc8B,GAC3C,MAOM,UAAEY,GAAcxC,KAAKC,MACrBwC,EAAgC,UAApBD,EAAUE,MAAoBF,EAAUG,MAAQH,EAAUI,QAE5E,OAAO5C,KAAKmC,aAAaP,EAAiB,CACxCD,MAAO7B,EACP+C,WAZmC,CACnC,+BACA,yBACA,mBACA,WAQyC1B,OAAOsB,GAAa,KAIjE,aAAaK,GACX,MAAM,WAAEnD,EAAF,UAAcC,EAAd,UAAyB4C,GAAcxC,KAAKC,MAE5CU,EAAY,EAChB,kCAD0B,0CAES6B,EAAUE,MAAMK,gBAG/CC,EAAYR,EAAUnC,QAAQQ,OAAOD,IAErCqC,EAAiD,CACrD,CAAC,IAAUC,oBAAqB,IAC9BlD,KAAKmD,+BAA+B,IAAUC,KAAK,GACrD,CAAC,IAAUC,wBAAyB,IAClCrD,KAAKmD,+BAA+B,IAAUC,KAAK,GACrD,CAAC,IAAUE,iBAAkB,IAC3BtD,KAAKmD,+BAA+B,IAAUI,eAAe,GAC/D,CAAC,IAAUC,qBAAsB,IAC/BxD,KAAKmD,+BAA+B,IAAUI,eAAe,GAC/D,CAAC,IAAUE,cAAe,IAAMzD,KAAK0D,qBAAoB,GACzD,CAAC,IAAUC,4BAA6B,IAAM3D,KAAK0D,qBAAoB,GACvE,CAAC,IAAUE,4BAA6B,IAAM5D,KAAK6D,0BAAyB,GAC5E,CAAC,IAAUC,gCAAiC,IAAM9D,KAAK6D,0BAAyB,IAGlF,OAAOZ,EAAuBD,GAC5B,gBAAC,IAAI,CAACrC,UAAWA,EAAWkB,GAAIoB,EAAuBD,MACpDF,GAGH,gBAACiB,EAAA,EAAa,CACZpE,WAAYA,EACZgB,UAAWA,EACXf,UAAWA,EAAUgB,IACrBC,OAAQ2B,EAAUnC,QAAQQ,OAAOD,IACjCgB,gBAAqC,MAApBY,EAAUwB,QAC1BlB,GAKP,S,MACE,MAAM,UAAEN,GAAcxC,KAAKC,OACrB,QAAEI,GAAYmC,GACd,OAAE3B,GAAWR,EAEb4D,EAAS,uBAAapD,EAAOD,KAE7B6B,EAAiC,UAApBD,EAAUE,MAAoBF,EAAUG,MAAQH,EAAUI,QACvEsB,EAAU1B,EAAUwB,OAAuB,QAAf,EAAC3D,EAAQ2D,cAAM,eAAE1D,MAAQD,EAAQC,MAEnE,IAAI6D,EAAW,oBAAU,yBAA0B3B,EAAU4B,IAM7D,MAJoB,WAAhBvD,EAAOf,OACTqE,EAAW,oBAAU,yBAA0B3B,EAAU4B,GAAI,WAGxDpE,KAAKqE,aACV,uBAAK1D,UAAU,iEACb,uBAAKA,UAAU,kEACb,gBAAC2D,EAAA,EAAO,CACNjD,SAAU,EACV2B,UAAW3C,EAAQQ,OAAOD,IAC1B2D,WAAYlE,EAAQQ,OAAOf,KAC3BQ,MAAO4D,KAIX,2BACE,wBAAMvD,UAAU,8DACd,gBAAC,IAAa,CAACA,UAAU,sBAAsB0B,MAAOxB,EAAOD,MAC5DC,EAAO2D,OAERP,GAA8B,MAApBzB,EAAUwB,QACpB,wBAAMrD,UAAU,4EACb,oBAAU,sCAGf,wBAAMA,UAAU,sCACbwD,E,IAAW,wBAAc1B,EAAW5B,EAAOf,WCzIxD,MAAM2E,EAAc,CAAC,QAAS,QAWvB,SAASC,EAAsBzE,GACpC,MAAM,WAAEN,EAAF,YAAcgF,EAAd,UAA2B/E,EAA3B,iBAAsCgF,GAAqB3E,GAC1D4E,EAAWC,GAAmB,WAAeC,QAAQJ,IAE5D,GAAgC,IAA5BC,EAAiBI,OACnB,OAAO,KAGT,MAAMC,EAAmB,IAAOL,EAAkBpC,GAChDiC,EAAYS,QAAQ1C,EAAUE,QAGhC,IAAIyC,EACAC,EASJ,OARIP,GAAaI,EAAiBD,OAhBb,GAiBnBG,EAAmBF,EAAiBI,MAAM,EAjBvB,GAkBnBD,GAAkB,IAElBD,EAAmBF,EACnBG,GAAkB,GAIlB,uBACEzE,UAAU,wCACVH,GAAG,yCACF2E,EAAiBG,IAAI9C,GACpB,gBAAC,EAAoB,CACnB7C,WAAYA,EACZC,UAAWA,EACX4C,UAAWA,EACX5B,IAAK4B,EAAUnC,QAAQQ,OAAOD,OAGjCwE,GACC,gBAAC,aAAU,CACTzE,UAAU,iDACV4E,QAAS,IAAMT,GAAiBD,IAC/B,kCACC,oCACAI,EAAiBD,OA1CN,GA4Cb,gBAAC,IAAe,CAACrE,UAAU,yBAOtB,WAAW+D,I,sBCtF1BlF,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,umIAAwmI,KAEjoID,EAAOK,QAAUA,G,qBCNjB,IAAIT,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,sBClBjBE,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,uIAAwI,KAEjKD,EAAOK,QAAUA,G,saCyEF,cAjDR,UAAe,MAAEkG,IACtB,GAAuB,YAAnBA,EAAMC,SACR,OACE,wBACEhF,UAAU,2CACViF,MAAK,UAAK,oBAAU,WAAf,YAA6BF,EAAMlB,OACvCkB,EAAMlB,MAKb,MAAMqB,EAAgB,oBAAU,iBAAkBH,EAAMC,UACxD,OAAI,YAAwBD,GAExB,uBAAK/E,UAAU,2BACb,wBAAMA,UAAU,QAAQkF,IAK1B,YAAuBH,GAEvB,uBAAK/E,UAAU,2BACb,wBAAMA,UAAU,QAAQkF,EAAsB,KAAC,IAC9CH,EAAMI,YAAYC,aACjB,gBAAC,mBAAgB,CACfxF,eAAgB,oBAAU,8BAC1BC,GAAG,6BACHC,OAAQ,CAAEuF,OAAQ,gBAAC,IAAK,CAACtD,MAAOgD,EAAMI,YAAYE,OAAQC,OAAO,OAGnE,gBAAC,IAAK,CAACvD,MAAOgD,EAAMI,YAAYE,OAAQC,OAAO,KAOrD,uBAAKtF,UAAU,2BACb,wBAAMA,UAAU,QAAQkF,EAAsB,KAAC,IAC9CH,EAAMQ,YACL,0BAAQN,MAAOF,EAAMQ,aAAcR,EAAMlB,MAEzC,8BAASkB,EAAMlB,U,oXCNR,cApCR,SAAD,GAAwD,IAArC,SAAE2B,GAAmC,EAAtBlG,EAAsB,kBAC5D,MAAMmG,EAAe,IACnBD,EAASE,OAETX,GAA6B,YAAnBA,EAAMC,SAAyB,EAAI,EAE7C,YAIIW,EACJrG,EAAMqG,YAAc,IAAmBC,YACnC,IAAmBA,YACnB,IAAmBC,QAEzB,OACE,sBAAI7F,UAAU,qBACZ,uBAAKA,UAAU,8BACb,8BACE,gBAAC,IAAiB,CAAC8F,KAAMN,EAASM,SAIrCL,EAAapB,OAAS,EACrB,uBAAKrE,UAAU,4BACZyF,EAAad,IAAII,GAChB,gBAAC,EAAK,CAACA,MAAOA,EAAO9E,IAAK8E,EAAM9E,QAIpC,wBAAMD,UAAU,QAAQ,oBAAU,4BAA6B2F,QC8ExD,cAvFR,SAAuBrG,GAC5B,MAAM,SACJyG,EAAW,GADP,WAEJ/G,EAFI,UAGJC,EAHI,MAIJ+G,EAAQ,IAJJ,eAKJC,EALI,QAMJC,EANI,gBAOJC,EAPI,QAQJC,GACE9G,EAEE+G,EAAS,YACbF,EACAH,EACAI,EACA,YAA2BJ,EAAO,KAE9BM,EAAS,YAAoBD,EArBhB,EACQ,GAqB3B,IAAIE,EACJ,QAAuBlG,IAAnB4F,EAA8B,CAChC,MAAMO,EAAYL,EAAgBM,OAAO,CAACC,GAAgBC,cACxD,GAAIA,EAAQtC,OAAS,EAAG,CACtB,MAAMyB,EAAO,oBAAUa,EAAQ,GAAGb,MAClC,OAAOY,EAAOE,UAAYd,EAAKc,UAAYd,EAAOY,EAElD,OAAOA,GAER,IAAIG,MACPN,EACEC,EAAUI,UAAYX,EAAeW,UAAYJ,EAAYP,EAGjE,MAAMa,EAAmBf,EAASgB,OAAOC,GAAKA,EAAEtB,OAAOrB,OAAS,GAAGK,MAAM,EArCnD,GAuCtB,OACE,uBAAK1E,UAAU,gCAA+B,YAAW,4BACvD,sBAAIA,UAAU,wBAAwB,oBAAU,sBAEhD,uBAAKA,UAAU,0BACb,uBAAKA,UAAU,oBACb,uBAAKA,UAAU,8BACb,sCAAkB,EAAMA,UAAU,oDAChC,gBAACiH,EAAA,EAAY,CAACjB,MAAOA,EAAOI,QAASA,EAASc,YAAa5H,EAAM6H,gBACjE,gBAACC,EAAA,EAAa,CACZrB,SAAU,GACVC,MAAOA,EACPM,OAAQA,EACRL,eAAgBM,EAChBL,QAAS9B,QAAQ8B,GACjBC,gBAAiBA,EACjBE,OAAQA,KAIZ,uBAAKrG,UAAU,iDACb,gBAACqH,EAAA,EAAY,CAACrI,WAAYA,EAAYC,UAAWA,EAAUgB,IAAK+F,MAAOA,MAI3E,uBAAKhG,UAAU,gDACb,mCAAe,+BACb,gBAAC,IAAe,CACdA,UAAU,yBACVkG,QAA6B,IAApBH,EAAS1B,QAAgB6B,GACb,IAApBH,EAAS1B,OACR,qBAAGrE,UAAU,+BAA+B,oBAAU,eAEtD,sBAAIA,UAAU,0BACX8G,EAAiBnC,IAAIa,GACpB,gBAAC,EAAQ,CACPA,SAAUA,EACVvF,IAAKuF,EAASvF,IACd0F,UAAW1G,EAAU0G,uB,+ECzF9B,SAAS,EAAiBrG,GACvC,MAAM,SAAEgI,EAAF,SAAYnF,EAAZ,UAAsBnC,EAAtB,QAAiCuH,EAAU,SAA3C,QAAqDC,GAAYlI,GAChEmI,EAAMC,GAAW,YAAe,GAEvC,YAAgB,KACqC,SAA/C,cAPmC,4BAOFJ,IACnCI,GAAQ,IAET,CAACJ,IAMJ,OAAQG,EACN,gBAACE,EAAA,MAAK,CACJ3H,UAAW,EAAW,qBAAD,OAAsBuH,GAAWvH,GACtDuH,QAASA,EACTC,QAASA,GACT,uBAAKxH,UAAU,iDACb,uBAAKA,UAAU,UAAUmC,GACzB,gBAAC,aAAU,cACG,oBAAU,iBACtByC,QAAS,KAZf,eAbuC,4BAaL,OAAQ0C,GAclCI,GAAQ,KAEV,gBAAC,IAAS,CAACnH,KAAM,GAAIqH,MAAM,OAbpB,K,uBCiFF,cAAAC,EAAA,IA7FR,SAAqCvI,G,MAC1C,MAAM,UACJL,EADI,YAEJ6I,EAFI,gBAGJC,EAHI,yBAIJC,EAJI,eAKJC,GACE3I,EAEJ,IAAK,YAAWwI,IAAgB7I,EAAU0G,YAAc,IAAmBE,QACzE,OAAO,KAGT,MAAMqC,EAAoCH,QAAsC1H,IAAnB4H,EACvDE,OACyB9H,IAA7B2H,IAA0CA,EAE5C,IAAKG,IAAyBD,EAC5B,OAAO,KAGT,MAAME,EAAsBD,IAAyBD,EAC/CG,EAAsBH,IAAsCC,EAC5DG,EAAWH,GAAwBD,EACnCK,EAAwC,QAA1B,EAAGtJ,EAAUuJ,qBAAa,eAAEC,aAC1CC,EACJ,gBAAC,IAAI,CACHxH,GAAI,CACFyH,SAAU,aACVjH,MAAO,CAAE7B,GAAIZ,EAAUgB,OAExB,oBAAU,gDAGT2I,EACJ,gBAAC,IAAI,CACH1H,GAAI,CACFyH,SAAU,oBACVjH,MAAO,CACL7B,GAAIZ,EAAUgB,IACd+E,SAAU,QAGb,oBAAU,uDAIf,OACE,gBAAC,EAAgB,CAACsC,SAAQ,4BAAuBrI,EAAUgB,KAAOuH,QAAQ,QACvEY,GACC,gBAAC,mBAAgB,CACfxI,eAAgB,oBAAU,yCAC1BC,GAAG,wCACHC,OAAQ,CACNW,KAAMiI,KAKXL,IACEE,EACC,gBAAC,mBAAgB,CACf3I,eAAgB,oBAAU,oDAC1BC,GAAG,mDACHC,OAAQ,CACN+I,sBAAuBD,KAI3B,oBAAU,+CAGbN,IACEC,EACC,gBAAC,mBAAgB,CACf3I,eAAgB,oBAAU,2DAC1BC,GAAG,0DACHC,OAAQ,CACNgJ,QAASJ,EACTG,sBAAuBD,KAI3B,gBAAC,mBAAgB,CACfhJ,eAAgB,oBAAU,qDAC1BC,GAAG,oDACHC,OAAQ,CAAEgJ,QAASJ,U,wEC1FxB,SAASK,GAAsBzJ,GACpC,MAAM,WAAEN,EAAF,UAAcC,EAAd,SAAyBC,EAAzB,OAAmCgB,GAAWZ,EAC9CI,EAAU,sBAAYR,EAAUgB,GAEtC,IAAI7B,EAiBJ,OAbEA,EAHGqB,EAID,4BACE,gBAAC0D,GAAA,EAAa,CACZpE,WAAYA,EACZgB,UAAU,qCACVf,UAAWA,EAAUgB,IACrBC,OAAQA,GACP,yBAAcR,EAAQC,MAAO,eAT1B,wBAAMK,UAAU,sCAAoC,KAgB9D,uBAAKA,UAAU,2CACZ3B,EACD,wBAAM2B,UAAU,cAAc,iCAAuB,CAAEC,IAAKC,MAKnD,OAAW6I,IAAX,I,oDCjBA,eAjBR,UAAmC,WAAEC,IAC1C,OACE,uBAAKhJ,UAAU,8CACb,gBAAC,KAAW,CAAC8F,KAAMkD,EAAWlD,MAC3BmD,GAAW,kCAAwB,qBAAsBA,IAE5D,gBAAC,KAAW,CACVjJ,UAAU,qBACVoB,QAAS,kCACP,sCACA4H,EAAWE,mB,UCuCN,cAAW,sBA9CnB,SAA+B5J,GACpC,MACE6J,MAAM,WAAEC,EAAF,WAAcC,GADhB,WAEJL,GACE1J,EAEEgK,EAAkB,aACtBN,EACA,CAAC,kBAAmB,qBAAqBO,SAASP,EAAWQ,MACxD1D,GAAiBuD,EAAWvD,EAAM,mBAClCA,GAAiBsD,EAAWtD,EAAM,yBAGzC,IAAKwD,EACH,OAAO,KAGT,GAAwB,SAApBN,EAAWQ,MAAuC,mBAApBR,EAAWQ,KAC3C,OAAO,uBAAKxJ,UAAU,mBAAmBsJ,EAAuB,KAGlE,MAAMrD,EAAiB,aAAc+C,GAErC,OAAK/C,EAKH,gCACE,uBAAKjG,UAAU,mBAAmBsJ,GAClC,gBAAC,KAAW,CAACxD,KAAMG,GAChBgD,GACC,uBAAKjJ,UAAU,0BACZ,kCACqB,sBAApBgJ,EAAWQ,KACP,+BACA,qBACJP,MAbH,SC3BJ,SAASQ,IAAe,WAAET,IAC/B,OAAI,aAAoBA,GACf,gBAAC,GAAyB,CAACA,WAAYA,IAEvC,gBAAC,GAAqB,CAACA,WAAYA,IAI/B,OAAWS,IAAX,I,gCC4BA,eA9BR,SAAmBnK,GACxB,MAAM,WAAEN,EAAF,UAAcC,EAAd,SAAyBC,EAAzB,cAAmCE,GAAgB,GAAUE,EAC7DY,EAASd,EAAgB,IAAUsK,mBAAqB,IAAUC,YAClEjK,EAAU,sBAAYR,EAAUgB,GAEtC,IAAIP,EAKJ,OAJID,IACFC,EAAQP,EAAgB,aAAaM,GAAWA,EAAQC,OAIxD,qCACaU,IAAVV,EACC,qCAAkB,oBAAU,WAAYK,UAAU,kCAElD,gBAACoD,GAAA,EAAa,CACZpE,WAAYA,EACZgB,UAAU,qCACVf,UAAWA,EAAUgB,IACrBC,OAAQA,GACP,yBAAcP,EAAO,aAG1B,wBAAMK,UAAU,mBACbN,EAAU,iCAAuBA,EAAQQ,QAAQ,GAAQ,yBAAeA,Q,UC3BlE,SAAS0J,GAAyBtK,GAC/C,MAAM,SAAEJ,EAAF,cAAYE,GAAgB,GAAUE,EACtCY,EAASd,EACX,IAAU+D,+BACV,IAAUF,2BACRvD,EAAU,sBAAYR,EAAUgB,GAEtC,IAAIP,EAKJ,OAJID,IACFC,EAAQP,EAAgB,aAAaM,GAAWA,EAAQC,OAIxD,qCACaU,IAAVV,EACC,qCAAkB,oBAAU,WAAYK,UAAU,kCAElD,gCACE,gBAAC6J,GAAA,EAAc,CAAClK,MAAOA,IACvB,wBAAMK,UAAU,oBAAoB,yBAAcL,EAAO,aAG7D,wBAAMK,UAAU,mBACb,oBAAU,kDClBJ,SAAS8J,GAA6BxK,GACnD,MAAM,WAAEN,EAAF,UAAcC,EAAd,aAAyB8K,EAAzB,SAAuC7K,EAAvC,KAAiDC,GAASG,EAE1D0K,EAAQ/K,EAAU0G,YAAc,IAAmBC,YAEzD,OACE,uBACE5F,UAAU,yCAAwC,yCACjBb,EAAK8K,WAAW7H,gBAChDjD,IAAS,KAAU+K,UAClB,gCACE,uBAAKlK,UAAU,8EACb,gBAAC,GAAS,CACRhB,WAAYA,EACZC,UAAWA,EACXC,SAAUA,EACVE,cAAe2K,KAGnB,uBAAK/J,UAAU,oCACb,gBAACmK,GAAA,EAAU,CACTnL,WAAYA,EACZC,UAAWA,EACXC,SAAUA,EACVC,KAAMA,EACNC,cAAe2K,MAKrB,uBAAK/J,UAAU,8EACb,gBAACmK,GAAA,EAAU,CACTnL,WAAYA,EACZC,UAAWA,EACX4B,YACE1B,IAAS,KAAUgC,gBACf,oBAAU,kDACVd,EAENnB,SAAUA,EACVC,KAAMA,EACNC,cAAe2K,KAIpB5K,IAAS,KAAUgC,iBAClB,uBAAKnB,UAAU,oCACb,gBAAC4J,GAAwB,CAAC1K,SAAUA,EAAUE,cAAe2K,OAG9DC,IAAUD,IACX,uBAAK/J,UAAU,yEACb,gBAACoK,GAAA,EAAW,CACVpL,WAAYA,EACZC,UAAWA,EACXC,SAAUA,EACVC,KAAMA,EACNC,cAAe2K,M,IC/CfM,G,usBCbG,SAASC,GAAuBhL,GAC7C,MAAM,OAAEiL,EAAF,UAAUtL,EAAV,OAAqBoE,GAAW/D,EAIhCkL,IAFQvL,EAAU0G,YAAc,IAAmBC,gBAG3CvC,IAAWA,EAAOyC,MAAwB,qBAAhBzC,EAAOmG,KAOzCiB,EAA8BD,IAAyBD,aAAM,EAANA,EAAQ1G,SAASR,aAAM,EAANA,EAAQqH,WAEhFC,EAAoBH,EACtBC,EACE,+CACA,8CACF,sCAEEG,KAAsB3L,EAAUuJ,gBAAiBvJ,EAAUuJ,cAAcC,cAE/E,OACE,uBAAKzI,UAAU,kDAAkD6K,MAAO,CAAEC,OAAQ,MAChF,uBACEC,IAAI,GACJ/K,UAAU,eACV8K,OAAQ,GACRE,IAAG,UAAK,wBAAL,6BAEL,uBAAKhL,UAAU,6BAA6B6K,MAAO,CAAEI,SAAU,MAC7D,qBAAGjL,UAAU,oCAAoC,oBAAU2K,IAC1DF,EACCG,GACE,yBACE,gBAAC,mBAAgB,CACfhL,eAAgB,oBAAU,sCAC1BC,GAAG,qCACHC,OAAQ,CACNoL,aACE,gBAAC,IAAI,CACHhK,GAAI,CACFyH,SAAU,oBACVjH,MAAM,GAAD,CAAI7B,GAAIZ,EAAUgB,KAAQ,YAAmBsK,MAEnD,oBAAU,0CAQvB,yBACE,gBAAC,mBAAgB,CACf3K,eAAgB,oBAAU,gCAC1BC,GAAG,+BACHC,OAAQ,CACNqL,gBACE,gBAAC,IAAI,CAACjK,GAAG,gDACN,oBAAU,qBD3CxB,SAASkK,GAAc9L,GAC5B,MAAM,QAAE+L,EAAF,OAAWd,EAAX,UAAmBtL,EAAnB,QAA8BiH,EAA9B,SAAuChH,EAAW,GAAlD,OAAsDmE,GAAW/D,EAEjEgM,EAAkBpM,EAASqM,KAAKC,GAAK,wBAAaA,EAAEtL,OAAOD,MAE3D+I,EADQ/J,EAAU0G,YAAc,IAAmBC,YAC9ByF,EAAUhI,GAE9BoI,EAAKC,GAAa,WAAerB,GAAkBsB,KAEpD5B,EAAe0B,IAAQpB,GAAkBsB,IAE/C,YAAgB,MAEE,IAAZzF,IAAsBoF,GAAmBvB,GAC3C2B,EAAUrB,GAAkBuB,UAK7B,CAAC1F,EAASoF,IAEb,MAAMO,EAAO,CACX,CACE5L,IAAKoK,GAAkBsB,IACvB/K,MACE,uBAAKZ,UAAU,mCACb,wBAAMA,UAAU,aAAa,oBAAU,sBACtCgJ,GAAc,gBAACS,GAAc,CAACT,WAAYA,MAIjD,CACE/I,IAAKoK,GAAkBuB,QACvBhL,MACE,uBAAKZ,UAAU,mCACb,wBAAMA,UAAU,YAAY6K,MAAO,CAAEiB,SAAU,WAAYC,IAAK,EAAI,YAASC,OAC1E,oBAAU,6BAOrB,OACE,uBAAKhM,UAAU,iBAAgB,YAAW,4BACxC,sBAAIA,UAAU,wBAAwB,oBAAU,sBAE/CkG,EACC,uBAAKlG,UAAU,oDACb,gBAAC,IAAe,CAACkG,QAASA,KAG5B,gCACE,gBAAC,KAAS,CAAC+F,SAAUP,EAAWQ,SAAUT,EAAKI,KAAMA,IAErD,uBAAK7L,UAAU,2CACXsL,GAAmBvB,EACnB,gBAACO,GAAsB,CAACC,OAAQA,EAAQtL,UAAWA,EAAWoE,OAAQA,IAEtE,gCACG,CACC,KAAUZ,IACV,KAAUG,cACV,KAAUzB,gBACV,KAAU+I,WACVvF,IAAKxF,GACL,gBAAC2K,GAA4B,CAC3B9K,WAAYuL,EACZtL,UAAWA,EACX8K,aAAcA,EACd9J,IAAKd,EACLD,SAAUA,EACVC,KAAMA,KAIV,uBAAKa,UAAU,2CACX,sBAAYd,EAAU,IAAUiN,WAChC,sBAAYjN,EAAU,IAAUkN,gBAChC,uBACEpM,UAAU,uEAAsE,YACtE,+BACV,gBAAClB,GAAA,EAAgB,CACfE,WAAYuL,EACZpK,SAAU4J,EACV9K,UAAWA,EACXC,SAAUA,EACVC,KAAM,IAAgBkN,SACtBjN,cAAe2K,IAGhB0B,IAAQpB,GAAkBuB,SACzB,uBAAK5L,UAAU,oBACb,gBAAC+I,GAAqB,CACpB/J,WAAYuL,EACZtL,UAAWA,EACXC,SAAUA,EACVgB,OAAQ,IAAUoM,UAM5B,uBAAKtM,UAAU,yDACb,gBAAClB,GAAA,EAAgB,CACfE,WAAYuL,EACZpK,SAAU4J,EACV9K,UAAWA,EACXC,SAAUA,EACVC,KAAM,IAAgBoN,YACtBnN,cAAe2K,IAGhB0B,IAAQpB,GAAkBuB,SACzB,uBAAK5L,UAAU,oBACb,gBAAC+I,GAAqB,CACpB/J,WAAYuL,EACZtL,UAAWA,EACXC,SAAUA,EACVgB,OAAQ,IAAUsM,4BA5H5C,SAAYnC,GACV,iBACA,yBAFF,CAAYA,QAAiB,KA2Id,OAAWe,IE/FX,eA1DR,UAAuB,WAAEpM,EAAF,UAAcC,EAAd,SAAyBC,IACrD,MAAM8K,EAAQ/K,EAAU0G,YAAc,IAAmBC,YAezD,IAAIX,EAAQ,oBAAU,qCAmCtB,OAlCI+E,EAKA/E,OAHa5E,IAAbnB,QACwEmB,IAAxEnB,EAASuN,KAAK/M,GAAWA,EAAQQ,OAAOD,MAAQ,IAAUyM,UAElD,oBAAU,uBAEV,oBAAU,uCAGHrM,IAAbnB,GAA8C,IAApBA,EAASmF,OAEnCY,EADE,YAAajG,GACP,oBAAU,2CACMqB,IAAfrB,EACD,kCACN,kCACA,YAAyBA,IAGnB,oBAAU,0BAGhB,YAAaA,GACfiG,EAAQ,oBAAU,sDACM5E,IAAfrB,IACTiG,EAAQ,kCACN,6CACA,YAAyBjG,KAQ/B,gBAAC2I,EAAA,MAAK,CAACJ,QAAQ,SAASC,QAAQ,WAC7BvC,M,WCPQ,eA9CR,SAAiC3F,GACtC,MAAM,UAAEL,EAAF,SAAa0N,GAAarN,EAC1BsN,EAA0BD,EAAS1I,iBAAiB8C,OAAO8F,GAAK,uBAAaA,EAAE3M,SAC/E4M,EAA0BH,EAAS1I,iBAAiB8C,OAAO8F,IAAM,uBAAaA,EAAE3M,SAEtF,GAAuC,IAAnC0M,EAAwBvI,QAAmD,IAAnCyI,EAAwBzI,OAClE,OAAO,KAGT,MAAM0I,EAAW9N,EAAU0G,YAAc,IAAmBC,YAE5D,OACE,uBAAK5F,UAAU,oCACZ+M,GACC,sBAAI/M,UAAU,iDAAiD2M,EAAS9I,MAGzE+I,EAAwBvI,OAAS,GAChC,gCACE,sBAAIrE,UAAU,kDACX,oBAAU,sCAEb,gBAAC+D,GAAA,EAAqB,CACpB9E,UAAW0N,EACX3N,WAAY2N,EAAS3N,WACrBiF,iBAAkB2I,KAKvBE,EAAwBzI,OAAS,GAChC,gCACE,sBAAIrE,UAAU,kDACX,oBAAU,0CAEb,gBAAC+D,GAAA,EAAqB,CACpB9E,UAAW0N,EACX3N,WAAY2N,EAAS3N,WACrBiF,iBAAkB6I,SCmDf,eAxFR,SAA0BxN,GAC/B,MAAM,UAAEL,EAAF,QAAaiH,EAAb,WAAsB8G,EAAa,IAAO1N,EAEhD,QAAmBe,IAAf2M,EACF,OAAO,KAGT,MAAMC,EAAeD,EAAWrI,IAAIuI,GAAKA,EAAE7H,QAAQkE,SAAS,SAAW,QAAU,KAC3E4D,EAA2B,OAAjBF,EAEVG,EAA+BJ,EAAWvG,OAC9C,CAAC4G,EAAKV,IAAaU,EAAMV,EAAS1I,iBAAiBI,OACnD,GAGIiJ,EACoB,QAAxBrO,EAAU0G,gBACKtF,IAAf2M,GACAA,EAAWzB,KAAKgC,GAAKnJ,QAAQmJ,EAAEC,oBAEjC,OACE,uBAAKxN,UAAU,iBAAgB,YAAW,gCACxC,sBAAIA,UAAU,mDACX,oBAAU,yBAA0B,IACrC,gBAAC,KAAW,CACVA,UAAU,qBACVoB,QACE,uBAAKpB,UAAU,oCACZ,oBAAU,kCAMlBsN,GACC,gBAAC3F,EAAA,MAAK,CAAC3H,UAAU,oBAAoBuH,QAAQ,SAASC,QAAQ,QAC5D,wBAAMxH,UAAU,eACb,oBAAU,6CAEb,gBAAC,KAAW,CACVA,UAAU,cACVoB,QAAS,oBAAU,uDAKzB,uBAAKpB,UAAU,0BACZkG,EACC,uBAAKlG,UAAU,6BACb,gBAAC,IAAe,CAACkG,QAASA,KAG5B,gCACE,uBACElG,UAAW,EAAW,oCAAqC,CACzDyN,QAASN,EACTA,aAEF,sBAAInN,UAAU,0BAA0B,oBAAU,eAAgBiN,IAElE,wBAAMjN,UAAU,SACboN,EAA+B,EAC5B,kCACE,+BACAA,GAEF,oBAAU,iDAIjBA,EAA+B,GAC9B,mCAAe,qCACZJ,EAAWrI,IAAIgI,GACd,gBAAC,GAAuB,CACtB1N,UAAWA,EACXgB,IAAK0M,EAAS1M,IACd0M,SAAUA,YCuBf,eA/ER,SAAgCrN,GACrC,MAAM,SACJyG,EADI,QAEJsF,EAFI,OAGJd,EAHI,gBAIJxC,EAJI,UAKJ9I,EALI,yBAMJ+I,EANI,MAOJhC,EAPI,eAQJ0H,EARI,cASJC,EATI,SAUJzO,EAVI,gBAWJiH,EAAkB,GAXd,QAYJC,EAAU,GAZN,cAaJe,EAbI,OAcJ9D,EAdI,eAeJ4E,EAfI,eAgBJ2F,EAhBI,WAiBJZ,GACE1N,EAEE0J,EAAa/J,EAAU0G,YAAc,IAAmBC,YAAcyF,EAAUhI,EAEtF,OACE,gCACE,gBAAC,GAA2B,CAC1BpE,UAAWA,EACX8I,gBAAiBA,EACjBC,yBAA0BA,EAC1BC,eAAgBA,IAElB,uBAAKjI,UAAU,qBACb,uBAAKA,UAAU,YACb,gBAAC6N,EAAA,EAAc,CAACC,OAAO,kBAEtBF,EACC,gBAAC,GAAa,CAAC5O,WAAYuL,EAAQtL,UAAWA,EAAWC,SAAUA,IAEnE,uBAAKc,UAAU,oBACb,uBAAKA,UAAU,6BACb,gBAAC,GAAgB,CACff,UAAWA,EACXiH,QAASyH,EACTX,WAAYA,KAIhB,uBAAKhN,UAAU,UACb,uBAAKA,UAAU,uBACb,gBAACoL,GAAa,CACZC,QAASA,EACTd,OAAQA,EACRtL,UAAWA,EACXiH,QAASyH,EACTzO,SAAUA,EACVmE,OAAQA,IAGV,gBAAC,EAAa,CACZ0C,SAAUA,EACV/G,WAAYuL,EACZtL,UAAWA,EACX+G,MAAOA,EACPC,eAAgB+C,GAAc,oBAAUA,EAAWlD,MACnDI,QAASwH,EACTvH,gBAAiBA,EACjBC,QAASA,EACTe,cAAeA,a,6rBC7C5B,MAID4G,GAAY,4BAAiB,IAAIlH,MAAOmH,aAAY,IAAInH,MAAOoH,cAAgB,IAEtE,MAAM,WAAuB,gBAI1C,YAAY3O,GACV4O,MAAM5O,GAJR,KAAA6O,SAAU,EA8BV,KAAAC,WAAa,KACP/O,KAAKC,MAAML,UAAU0G,YAAc,IAAmBC,YACxDvG,KAAKgP,wBAELhP,KAAKiP,qBAIT,KAAAD,sBAAwBE,UACtB,MAAM,OAAEhE,EAAF,UAAUtL,GAAcI,KAAKC,MACnCD,KAAKmP,SAAS,CAAEb,eAAe,IAG/B,MAAMc,QAAkB,YAA0B,IAChDC,YAAazP,EAAUgB,KACpB,YAAmBsK,MAEhBrL,SAAUyP,EAAZ,QAAyBvI,EAAzB,OAAkC/C,SAAiBhE,KAAKuP,oBAC5D3P,EAAUgB,IACVsK,GAGIsE,EACHtE,IAAW,YAAaA,IAAW,YAAyBA,SAAYlK,EAErEyO,QAAmB,YAAsB7P,EAAUgB,IAAK4O,GAG9D,YAAmB5P,EAAUgB,IAAK4O,GAAeE,KAC/CC,IACE,GAAI3P,KAAK8O,SAAWa,GAASA,EAAM3K,OAAQ,CACzC,MAAM4K,EAAc,IAAOD,EAAOE,GACzB,IAAIrI,KAAKqI,EAAKpJ,OAEvBzG,KAAKmP,SAAS,CACZnD,QAAS4D,EAAY,OAI3B,KACM5P,KAAK8O,SACP9O,KAAKmP,SAAS,CAAEnD,aAAShL,MAS/B8O,QAAQC,IACNX,EAAU/B,SAAS/H,IAAI0K,IACrB,MAAMC,EAAiBR,EAAWpC,SAASD,KAAKc,GAAKA,EAAEtN,MAAQoP,EAAQpP,KACjEsP,EAAoBD,EACtB,CAAEE,OAAQF,EAAeE,OAAQ3L,KAAMyL,EAAe/E,OAAQkF,mBAAmB,QACjFpP,EAEJ,OAAOhB,KAAKuP,oBACVS,EAAQpP,IACRsP,EAGAF,EAAQK,WAAW3I,OAAO8F,GAAkB,OAAbA,EAAExH,QAAiBV,IAAIkI,GAAKA,EAAE3M,SAC7D6O,KAAK,EAAG7P,eAAH,CACLA,WACAmQ,UACAE,0BAGJR,KACAY,IACE,GAAItQ,KAAK8O,QAAS,CAChB,MAAMnB,EAAa2C,EAAQhL,IAAI,EAAGzF,WAAW,GAAImQ,UAASE,wBACxD,MAAM,IAAEtP,EAAF,KAAO4D,EAAP,OAAawB,GAAWgK,EACxBK,EAAa,YAAyDL,GAG5E,MAAO,CACLpL,iBAHuB5E,KAAKuQ,oBAAoBF,EAAYxQ,GAI5De,MACA4D,OACAwB,SACArG,WAAYuQ,KAIhBlQ,KAAKmP,SAAS,CACZb,eAAe,EACfzO,SAAUyP,EACVvI,UACA/C,SACA2J,iBAIN,KACM3N,KAAK8O,SACP9O,KAAKmP,SAAS,CAAEb,eAAe,EAAOX,gBAAY3M,OAM1D,KAAAiO,kBAAoBC,UAClB,MAAM,OACJhE,EACAtL,WAAW,IAAEgB,EAAF,KAAO4D,IAChBxE,KAAKC,MACTD,KAAKmP,SAAS,CAAEb,eAAe,IAE/B,MAAMkC,QAAsB,YAA4B,IACtDC,WAAY7P,GACT,YAAmBsK,KAKlBwF,OACyB1P,IAA7BwP,EAAcH,WACV,IAAK,IAAI,OAAYG,EAAcH,WAAW/K,IAAIkI,GAAKA,EAAExK,aACzD,IAENhD,KAAKuP,oBAAoB3O,EAAKsK,EAAQwF,GAAYhB,KAChD,EAAG7P,WAAUkH,UAAS/C,aACpB,GAAIhE,KAAK8O,SAAWjP,EAAU,CAC5B,MAAM,kBAAEsO,EAAF,OAAqBnI,GAAWwK,EAChCH,EAAa,YAAyCG,GAGtDlD,EAAW,CACfa,oBACAvJ,iBAJuB5E,KAAKuQ,oBAAoBF,EAAYxQ,GAK5De,MACA4D,OACAwB,SACArG,WAAYuL,GAGdlL,KAAKmP,SAAS,CACZb,eAAe,EACfzO,WACAkH,UACA/C,SACA2J,WAAY,CAACL,UAENtN,KAAK8O,SACd9O,KAAKmP,SAAS,CAAEb,eAAe,EAAOX,gBAAY3M,KAGtD,KACMhB,KAAK8O,SACP9O,KAAKmP,SAAS,CAAEb,eAAe,EAAOX,gBAAY3M,OAM1D,KAAAuO,oBAAsB,CACpBoB,EACAhR,EACA+Q,EAAuB,KAEhB,YACLC,EACAD,EAAW1L,OAAS,EAAI0L,EAAa,IACrC,YAAmB/Q,IACnB+P,KAAK,EAAG9P,WAAaC,YAAYkH,UAAS/C,aACnC,CACLnE,SAAU,qCAA2BA,GAAY,GAAIkH,GAAW,IAChEA,UACA/C,YAKN,KAAA4M,YAAc,KACZ5Q,KAAKmP,SAAS,CAAEd,gBAAgB,IAEzByB,QAAQC,IAAI,CAAC/P,KAAK6Q,sBAAuB7Q,KAAK8Q,iBAAiBpB,KACpE1P,KAAK+Q,mBACL/Q,KAAK+Q,qBAIT,KAAAF,oBAAsB,KACpB,MAAM,OAAE3F,EAAF,UAAUtL,GAAcI,KAAKC,OAC7B,MAAE0G,GAAU3G,KAAKgR,MAEjBC,EAAe,YAAkBtK,EAAO,IACxCI,EAAU,IAAK,IAAI,OAAyBkK,IAElD,OAAO,YAAsB,MACxB,YAAmB/F,GADI,CAE1BgG,KAAMxC,GACN9O,UAAWA,EAAUgB,IACrBmG,QAASA,EAAQoK,UAChBzB,KACD,EAAG7P,eACGG,KAAK8O,SACP9O,KAAKmP,SAAS,CACZrI,gBAAiBjH,EAASyF,IAAIjF,IAAO,CACnCQ,OAAQR,EAAQQ,OAChByG,QAASjH,EAAQiH,QAAQhC,IAAIa,IAAQ,CACnCM,KAAM,oBAAUN,EAASM,MACzBnG,MAAO6F,EAAS7F,eAM1B,SAIJ,KAAAwQ,aAAe,KACb,MAAM,OAAE5F,GAAWlL,KAAKC,MAExB,OAAO,YAAmB,MACrB,YAAmBiL,GADC,CAEvB8E,QAAShQ,KAAKoR,uBACdF,KAAMxC,MACLgB,KACD,EAAGhJ,eACG1G,KAAK8O,SACP9O,KAAKmP,SAAS,CACZxG,yBACEjC,EAAS1B,OAAS,OACahE,IAA3B0F,EAAS,GAAG2K,YAvQA,eAuQ4B3K,EAAS,GAAG2K,gBACpDrQ,EACN0F,cAIN,SAIJ,KAAA6J,oBAAsB,CACpBF,EACAxQ,IAGEwQ,EACG3I,OAAO8F,GAAiB,OAAZA,EAAE9K,OAGd4C,IAAIkI,GAAK,sCAA4BA,EAAG3N,IAGxC6H,OAAO,aAId,KAAA0J,qBAAuB,KACrB,MAAM,UAAExR,GAAcI,KAAKC,MAC3B,IAAIqR,EAAU1R,EAAU2R,YAAYvM,OAAS,EAC7C,KACEsM,EAAU,IACR,CACA,IAAmB9K,QACnB,IAAmBgL,UACnB,IAAmBjL,aACN2D,SAAStK,EAAU2R,YAAYD,GAAShL,YAEvDgL,IAEF,OAAO1R,EAAU2R,YAAYD,GAAS1Q,KAGxC,KAAAmQ,mBAAqB,KACf/Q,KAAK8O,SACP9O,KAAKmP,SAAS,CACZd,gBAAgB,KAKtB,KAAAoD,kBAAqB9K,IACnB,MAAM,UAAE/G,GAAcI,KAAKC,MAC3B,YA5T0C,8BA4TQL,EAAUgB,IAAK+F,GACjE3G,KAAKmP,SAAS,CAAExI,QAAO0H,gBAAgB,GAAQ,KAC7CrO,KAAK6Q,sBAAsBnB,KAAK1P,KAAK+Q,mBAAoB/Q,KAAK+Q,uBAjThE,MAAM,MAAEpK,GAAU,YAbwB,8BAayB1G,EAAML,UAAUgB,KACnFZ,KAAKgR,MAAQ,CAAErK,SAGjB,oBACE3G,KAAK8O,SAAU,EACf9O,KAAK+O,aACL/O,KAAK4Q,cAGP,mBAAmBc,GAEf1R,KAAKC,MAAML,UAAUgB,MAAQ8Q,EAAU9R,UAAUgB,KAChD,YAAiBZ,KAAKC,MAAMiL,OAAQwG,EAAUxG,UAE/ClL,KAAK+O,aACL/O,KAAK4Q,eAIT,uBACE5Q,KAAK8O,SAAU,EAgSjB,SACE,MAAM,OAAE5D,EAAF,gBAAUxC,EAAV,UAA2B9I,EAA3B,eAAsCgJ,GAAmB5I,KAAKC,OAC9D,SACJyG,EADI,QAEJsF,EAFI,yBAGJrD,EAHI,MAIJhC,EAJI,cAKJ2H,EALI,eAMJD,EANI,SAOJxO,EAPI,gBAQJiH,EARI,QASJC,EATI,OAUJ/C,EAVI,WAWJ2J,GACE3N,KAAKgR,MAEHzC,GACc,IAAlBD,SACctN,IAAbnB,QAGOmB,IAFNnB,EAASuN,KAAK/M,GACX,CAAC,IAAUsR,MAAO,IAAUC,WAAwB1H,SAAS7J,EAAQQ,OAAOD,OAGnF,OACE,gBAAC,GAAsB,CACrB8F,SAAUA,EACVsF,QAASA,EACTd,OAAQA,EACRxC,gBAAiBA,EACjB9I,UAAWA,EACX+I,yBAA0BA,EAC1BhC,MAAOA,EACP0H,eAAgBA,EAChBC,cAAeA,EACfzO,SAAUA,EACViH,gBAAiBA,EACjBC,QAASA,EACTe,cAAe9H,KAAKyR,kBACpBzN,OAAQA,EACR4E,eAAgBA,EAChB2F,eAAgBA,EAChBZ,WAAYA,KCzZpB,MAAMkE,GAAgB,OAAAC,EAAA,mBAAkB,IAAM,+DACxCC,GAAsB,OAAAD,EAAA,mBAAkB,IAAM,kCAa7C,MAAM,WAAY,gBAAzB,c,oBACE,KAAAE,YAAc,IACL,YAAgBhS,KAAKC,MAAML,UAAU0G,WAG9C,SACE,MACE2L,UAAU,gBAAEvJ,GADR,WAEJ/I,EAFI,YAGJuS,EAHI,UAIJtS,EAJI,eAKJgJ,GACE5I,KAAKC,MAET,OAAID,KAAKgS,cACA,KAGF,YAAcrS,GACnB,gCACE,gBAACwS,EAAA,EAAW,CAACC,YAAY,kBACzB,gBAACL,GAAmB,CAACpS,WAAYA,EAAYC,UAAWA,KAG1D,gCACE,gBAACuS,EAAA,EAAW,CAACC,YAAY,cAEvBxS,EAAUyS,cACV,gBAACR,GAAa,CACZlS,WAAYA,EACZuS,YAAaA,EACbtS,UAAWA,EACX0S,YAAatS,KAAKC,MAAMsS,WAAavS,KAAKC,MAAMuS,aAChD5J,eAAgBA,IAInBhJ,EAAUyS,cACT,gBAAC,GAAc,CACbnH,OAAQvL,EACR+I,gBAAiBA,EACjB9I,UAAWA,EACXgJ,eAAgBA,MAQb,iBAAA6J,EAAA,GAAW,OAAAC,EAAA,GAAa,M,iCC7FvC,IACQC,EADJC,EAAa5S,MAAQA,KAAK4S,YACtBD,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBrQ,OAAOyQ,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAI5E,KAAK4E,EAAOA,EAAEI,eAAehF,KAAI2E,EAAE3E,GAAK4E,EAAE5E,MACpD2E,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASK,IAAOnT,KAAKoT,YAAcP,EADnCF,EAAcE,EAAGC,GAEjBD,EAAEQ,UAAkB,OAANP,EAAaxQ,OAAOgR,OAAOR,IAAMK,EAAGE,UAAYP,EAAEO,UAAW,IAAIF,KAGvF7Q,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAIkT,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,GAChBC,EAAoB,EAAQ,KAChC,EAAQ,KACR,IAAIC,EAAY,SAAUC,GAEtB,SAASD,IACL,IAAIE,EAAmB,OAAXD,GAAmBA,EAAOE,MAAM9T,KAAM+T,YAAc/T,KAQhE,OAPA6T,EAAMG,YAAc,SAAUtO,GAC1BA,EAAMuO,iBACNvO,EAAMwO,cAAcC,OACfN,EAAM5T,MAAMmU,UACbP,EAAM5T,MAAMoU,SAASR,EAAM5T,MAAMqU,QAAST,EAAM5T,MAAMO,KAGvDqT,EA2BX,OArCAjB,EAAUe,EAAUC,GAYpBD,EAASN,UAAUkB,OAAS,WACxB,IAAIC,EAAKxU,KAAKC,MAAOqU,EAAUE,EAAGF,QAASxR,EAAW0R,EAAG1R,SAAUsR,EAAWI,EAAGJ,SAAU5T,EAAKgU,EAAGhU,GAAIqG,EAAU2N,EAAG3N,QAAS4N,EAAQD,EAAGC,MAAOC,EAAaF,EAAGE,WAAY9O,EAAQ4O,EAAG5O,MAClLjF,EAAY6S,EAAW,gBAAiB,CACxC,wBAAyBc,EACzB,uBAAwBI,EACxB,yBAA0BN,IAE9B,OAAItR,EACQ2Q,EAAMkB,cAAc,IAAK,CAAE,eAAgBL,EAAS3T,UAAW6S,EAAW,gBAAiBxT,KAAKC,MAAMU,UAAW,CACjHiU,KAAMR,EACNA,SAAUA,IACVS,KAAM,IAAKrU,GAAIA,EAAI+E,QAASvF,KAAKgU,YAAac,KAAM,WAAYlP,MAAOA,GAC3E6O,GAAS3R,EACT2Q,EAAMkB,cAAcjB,EAAkBxU,QAAS,CAAE2H,QAAS9B,QAAQ8B,IAC9D4M,EAAMkB,cAAc,IAAK,CAAEhU,UAAWA,MACzC8T,GAAS3R,GAEd+D,EACO4M,EAAMkB,cAAcjB,EAAkBxU,QAAS,MAElDuU,EAAMkB,cAAc,IAAK,CAAE,eAAgBL,EAAS3T,UAAW6S,EAAW7S,EAAWX,KAAKC,MAAMU,WAAYkU,KAAM,IAAKrU,GAAIA,EAAI+E,QAASvF,KAAKgU,YAAac,KAAM,WAAYlP,MAAOA,KAE/L+N,EAASoB,aAAe,CACpBL,YAAY,GAETf,EAtCI,CAuCbF,EAAMuB,eACRxV,EAAQN,QAAUyU,G,iCC3DlB,sDA0Be,SAASxB,GAAY,YAAEC,IACpC,OACE,gBAAC,IAAmB6C,SAAQ,KACzB,EAAGC,iBAAgBC,uBAClB,gBAACC,EAAgB,CACfF,eAAgBA,EAChBC,kBAAmBA,EACnB/C,YAAaA,KAavB,MAAMgD,UAAyB,gBAC7B,oBACEpV,KAAKC,MAAMiV,eAAelV,KAAKC,MAAMmS,aAGvC,mBAAmBV,GACbA,EAAUU,cAAgBpS,KAAKC,MAAMmS,cACvCpS,KAAKC,MAAMkV,kBAAkBnV,KAAKC,MAAMmS,aACxCpS,KAAKC,MAAMiV,eAAexD,EAAUU,cAIxC,uBACEpS,KAAKC,MAAMkV,kBAAkBnV,KAAKC,MAAMmS,aAG1C,SACE,OAAO,Q,oBC/DX,IAAIiD,EAAc,EAAQ,KACtBC,EAAe,EAAQ,KA+B3BnW,EAAOK,QAJP,SAA2Bc,GACzB,OAAOgV,EAAahV,IAAU+U,EAAY/U,K,oBC7B5C,IAAIiV,EAAW,EAAQ,KACnBC,EAAgB,EAAQ,KACxBC,EAAoB,EAAQ,KAC5BC,EAAW,EAAQ,KACnBC,EAAY,EAAQ,KACpBC,EAAW,EAAQ,KA6DvBzW,EAAOK,QA7CP,SAAwBqW,EAAOpV,EAAQqV,EAAUC,GAC/C,IAAIC,GAAS,EACT9L,EAAWsL,EACXS,GAAW,EACXjR,EAAS6Q,EAAM7Q,OACfkR,EAAS,GACTC,EAAe1V,EAAOuE,OAE1B,IAAKA,EACH,OAAOkR,EAELJ,IACFrV,EAASiV,EAASjV,EAAQkV,EAAUG,KAElCC,GACF7L,EAAWuL,EACXQ,GAAW,GAEJxV,EAAOuE,QA/BK,MAgCnBkF,EAAW0L,EACXK,GAAW,EACXxV,EAAS,IAAI8U,EAAS9U,IAExB2V,EACA,OAASJ,EAAQhR,GAAQ,CACvB,IAAI1E,EAAQuV,EAAMG,GACdK,EAAuB,MAAZP,EAAmBxV,EAAQwV,EAASxV,GAGnD,GADAA,EAASyV,GAAwB,IAAVzV,EAAeA,EAAQ,EAC1C2V,GAAYI,GAAaA,EAAU,CAErC,IADA,IAAIC,EAAcH,EACXG,KACL,GAAI7V,EAAO6V,KAAiBD,EAC1B,SAASD,EAGbF,EAAOzQ,KAAKnF,QAEJ4J,EAASzJ,EAAQ4V,EAAUN,IACnCG,EAAOzQ,KAAKnF,GAGhB,OAAO4V,I,oBC/DT,IAAInX,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,4gEAA6gE,KAEtiED,EAAOK,QAAUA,G,oBCNjB,IAAI+W,EAAW,EAAQ,KAyCvBpX,EAAOK,QAZP,SAAkBc,GAChB,OAAKA,GAGLA,EAAQiW,EAASjW,MA9BJ,KA+BaA,KA/Bb,IACG,uBA+BFA,EAAQ,GAAK,EAAI,GAGxBA,GAAUA,EAAQA,EAAQ,EAPd,IAAVA,EAAcA,EAAQ,I,oBC/BjC,IAAIoV,EAAW,EAAQ,KACnBc,EAAe,EAAQ,KACvBC,EAAU,EAAQ,KAClBC,EAAU,EAAQ,KAiDtBvX,EAAOK,QALP,SAAamX,EAAYb,GAEvB,OADWY,EAAQC,GAAcjB,EAAWe,GAChCE,EAAYH,EAAaV,EAAU,M,iCChDjD,IAAIc,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAEhCzR,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBuD,EAAe,EAAQ,KACvBC,EAAU,EAAQ,IACtBzX,EAAQ0X,gBAAkB,CAAEC,KAAM,UAAWC,MAAO,QAASC,IAAK,WAClE7X,EAAQ8X,oBAAsB,CAAEH,KAAM,UAAWC,MAAO,OAAQC,IAAK,WAKrE7X,EAAQN,QAJR,SAAuBsV,GACnB,IAAI1R,EAAW0R,EAAG1R,SAAU2D,EAAO+N,EAAG/N,KAAM8Q,EAAO/C,EAAG+C,KACtD,OAAQ9D,EAAMkB,cAAcqC,EAAaQ,cAAeZ,EAAS,CAAEtW,MAAO2W,EAAQQ,UAAUhR,IAAU8Q,EAAO/X,EAAQ8X,oBAAsB9X,EAAQ0X,iBAAmBpU,K,iCCnB1KR,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAIoX,EAAa,EAAQ,KACrBjE,EAAQ,EAAQ,GAChBuD,EAAe,EAAQ,KACvBC,EAAU,EAAQ,IAClBU,EAAS,EAAQ,IACjBC,EAAsB,EAAQ,KAclCpY,EAAQN,QAbR,SAAqBe,GACjB,IAAIuU,EAAKvU,EAAM6C,SAAU+U,OAA0B,IAAPrD,EAAgB,SAAUsD,GAAK,OAAOA,GAAOtD,EAAI/N,EAAOxG,EAAMwG,KAAMsR,EAAgB9X,EAAM8X,cAClIjV,EAAW+U,EACf,IAAKpR,EACD,OAAOgN,EAAMkB,cAAclB,EAAMuE,SAAU,KAAMH,EAAiBF,EAAOM,UAAU,WAEnFxR,GAAQsR,GAAiBL,EAAWQ,kBAAkB1Q,KAAK2Q,MAAO1R,GAAQ,IAC1E3D,EAAW,WAAc,OAAO+U,EAAiBF,EAAOM,UAAU,2BAEtE,IAAIG,EAAanB,EAAQQ,UAAUhR,GACnC,OAAQgN,EAAMkB,cAAciD,EAAoB1Y,QAAS,CAAEuH,KAAM2R,IAAc,SAAUC,GAAiB,OAAQ5E,EAAMkB,cAAc,OAAQ,CAAE/O,MAAOyS,GACnJ5E,EAAMkB,cAAcqC,EAAasB,kBAAmB,CAAEhY,MAAO8X,GAActV,S,iCCnBnF,8DA6Be,SAAS0L,EAAevO,GACrC,OACE,gBAAC,IAAYgV,SAAQ,KAClB,EAAGsD,kBAAiBC,wBACnB,gBAACC,EAAmB,eAClBF,gBAAiBA,EACjBC,mBAAoBA,GAChBvY,KAYP,MAAMwY,UAA4B,gBAAzC,c,oBASE,KAAAC,QAAU,KACR,MAAQjK,OAAQ7N,EAAV,MAAeW,EAAQ,oBAAU,mBAAjC,OAAqDoX,GAAW3Y,KAAKC,MAC3E,MAAO,CAAEW,MAAKW,QAAOoX,WAVvB,oBACE3Y,KAAKC,MAAMsY,gBAAgBvY,KAAK0Y,WAGlC,uBACE1Y,KAAKC,MAAMuY,mBAAmBxY,KAAK0Y,WAQrC,SACE,MAAM,OAAEjK,GAAWzO,KAAKC,MACxB,OAAO,wBAAMO,GAAE,uBAAkBiO,Q,iCC/DrC,IAAImI,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAE5B6E,EAAU5Y,MAAQA,KAAK4Y,QAAW,SAAU/K,EAAGgL,GAC/C,IAAIhC,EAAI,GACR,IAAK,IAAI3I,KAAKL,EAAOvL,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,IAAM2K,EAAE3T,QAAQgJ,GAAK,IAC9E2I,EAAE3I,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCvL,OAAOwW,sBACtB,KAAI1Z,EAAI,EAAb,IAAgB8O,EAAI5L,OAAOwW,sBAAsBjL,GAAIzO,EAAI8O,EAAElJ,OAAQ5F,IAC3DyZ,EAAE3T,QAAQgJ,EAAE9O,IAAM,GAAKkD,OAAO+Q,UAAU0F,qBAAqBhC,KAAKlJ,EAAGK,EAAE9O,MACvEyX,EAAE3I,EAAE9O,IAAMyO,EAAEK,EAAE9O,KAE1B,OAAOyX,GAEXvU,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBuF,EAAc,EAAQ,KA8B1BxZ,EAAQN,QA7BR,SAAuBsV,GACnB,IACI1U,EADAuC,EAAQmS,EAAGnS,MAAO4W,EAAYL,EAAOpE,EAAI,CAAC,UAE9C,OAAQnS,EAAMU,eACV,IAAK,MACL,IAAK,OACL,IAAK,WACDjD,EAAO,MACP,MACJ,IAAK,gBACL,IAAK,kBACL,IAAK,sBACDA,EAAO,gBACP,MACJ,IAAK,aACL,IAAK,cACL,IAAK,kBACDA,EAAO,aACP,MACJ,IAAK,mBACL,IAAK,oBACL,IAAK,wBACDA,EAAO,mBACP,MACJ,QACI,OAAO,KAEf,OAAO2T,EAAMkB,cAAcqE,EAAY9Z,QAAS0X,EAAS,CAAE9W,KAAMA,GAAQmZ,M,oBCrD7E,IAAIC,EAAkB,EAAQ,KAC1BC,EAAmB,EAAQ,KAM3BjG,EAHc5Q,OAAO+Q,UAGQH,eAyB7BkG,EAAUD,GAAiB,SAASjD,EAAQ5V,EAAOM,GACjDsS,EAAe6D,KAAKb,EAAQtV,GAC9BsV,EAAOtV,GAAK6E,KAAKnF,GAEjB4Y,EAAgBhD,EAAQtV,EAAK,CAACN,OAIlCnB,EAAOK,QAAU4Z,G,oBCxCjB,IAAIC,EAAW,EAAQ,KAmCvBla,EAAOK,QAPP,SAAmBc,GACjB,IAAI4V,EAASmD,EAAS/Y,GAClBgZ,EAAYpD,EAAS,EAEzB,OAAOA,GAAWA,EAAUoD,EAAYpD,EAASoD,EAAYpD,EAAU,I,oBChCzE,IAAIqD,EAAiB,EAAQ,KACzBC,EAAc,EAAQ,KACtBC,EAAW,EAAQ,KACnBC,EAAoB,EAAQ,KAuB5BC,EAAaF,GAAS,SAAS5D,EAAOpV,GACxC,OAAOiZ,EAAkB7D,GACrB0D,EAAe1D,EAAO2D,EAAY/Y,EAAQ,EAAGiZ,GAAmB,IAChE,MAGNva,EAAOK,QAAUma,G,iCC/BjB,IAAI/C,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAE5B6E,EAAU5Y,MAAQA,KAAK4Y,QAAW,SAAU/K,EAAGgL,GAC/C,IAAIhC,EAAI,GACR,IAAK,IAAI3I,KAAKL,EAAOvL,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,IAAM2K,EAAE3T,QAAQgJ,GAAK,IAC9E2I,EAAE3I,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCvL,OAAOwW,sBACtB,KAAI1Z,EAAI,EAAb,IAAgB8O,EAAI5L,OAAOwW,sBAAsBjL,GAAIzO,EAAI8O,EAAElJ,OAAQ5F,IAC3DyZ,EAAE3T,QAAQgJ,EAAE9O,IAAM,GAAKkD,OAAO+Q,UAAU0F,qBAAqBhC,KAAKlJ,EAAGK,EAAE9O,MACvEyX,EAAE3I,EAAE9O,IAAMyO,EAAEK,EAAE9O,KAE1B,OAAOyX,GAEXvU,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBmG,EAAS,EAAQ,KAQrBpa,EAAQN,QAPR,SAAoBsV,GAChB,IAAIqF,EAAOrF,EAAGqF,KAAMZ,EAAYL,EAAOpE,EAAI,CAAC,SAC5C,OAAQf,EAAMkB,cAAciF,EAAOE,WAAYlD,EAAS,GAAIqC,IAAY,SAAUzE,GAC9E,IAAIuF,EAAQvF,EAAGuF,MACf,OAAQtG,EAAMkB,cAAc,OAAQ,CAAE9B,EAAG,gcAAicrH,MAAO,CAAEqO,KAAMA,GAAQE,EAAMC,OAAOC,a,0eCTthB,MAAMC,EAAgB,CACpB,eACA,yBACA,qBACA,kBACA,0BAGK,SAASC,EAAe9Z,EAAoB0G,GACjD,O,+VAAO,CAAP,GACK1G,EADL,CAEEQ,OAAQkG,EAAQ1G,EAAQQ,QACxBgP,KAAMuK,EAAa/Z,KAIhB,SAAS+Z,EAAa/Z,G,MAC3B,OAAsB,QAAtB,EAAOA,aAAO,EAAPA,EAAS2D,cAAM,eAAE1D,MAGnB,SAAS+Z,EAAiBrX,EAAmB1C,GAClD,MAAMga,EAAiB,uBAAatX,GAAaA,EAAUuX,OAAO,GAAKvX,EACvE,GAAIkX,EAAchQ,SAASoQ,GACzB,OAAO,2BAAqBA,EAAgBha,K,kBCrBhDnB,EAAOK,QAZP,SAAuBqW,EAAO2E,EAAWC,EAAWC,GAIlD,IAHA,IAAI1V,EAAS6Q,EAAM7Q,OACfgR,EAAQyE,GAAaC,EAAY,GAAK,GAElCA,EAAY1E,MAAYA,EAAQhR,GACtC,GAAIwV,EAAU3E,EAAMG,GAAQA,EAAOH,GACjC,OAAOG,EAGX,OAAQ,I,iCCpBV,qHAmCe,SAAS1R,GAAQ,UAC9B3D,EAD8B,SAE9BU,EAF8B,UAG9B2B,EAH8B,WAI9BuB,EAJ8B,MAK9B0B,EAL8B,MAM9B3F,IAEA,QAAcU,IAAVV,EACF,OAAO,wBAAMK,UAAWA,GAAS,KAGnC,GAAmB,UAAf4D,EACF,OAAO,gBAAC,IAAK,CAAC5D,UAAWA,EAAW+B,MAAOpC,EAAO2F,MAAOA,IAG3D,GAAmB,WAAf1B,EAAyB,CAC3B,MAAMoW,EAAiB,wBAAcra,EAAOiE,EAAY,CACtDlD,WACAC,sBAAsC,YAAfiD,IAEzB,OAAO,wBAAM5D,UAAWA,GAA8B,MAAlBga,EAAyBA,EAAiB,KAGhF,MAAM1Y,EAAU,YAAiBe,EAAW7B,OAAOb,IAC7C0B,EAAS,gBAAC,IAAM,CAACiE,MAAOA,EAAO3F,MAAOA,IAC5C,OAAI2B,EAEA,gBAAC,IAAO,CAACF,QAASE,GAChB,wBAAMtB,UAAWA,GAAYqB,IAI5BA,I,iCCnET,IAAI4U,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAE5B6E,EAAU5Y,MAAQA,KAAK4Y,QAAW,SAAU/K,EAAGgL,GAC/C,IAAIhC,EAAI,GACR,IAAK,IAAI3I,KAAKL,EAAOvL,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,IAAM2K,EAAE3T,QAAQgJ,GAAK,IAC9E2I,EAAE3I,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCvL,OAAOwW,sBACtB,KAAI1Z,EAAI,EAAb,IAAgB8O,EAAI5L,OAAOwW,sBAAsBjL,GAAIzO,EAAI8O,EAAElJ,OAAQ5F,IAC3DyZ,EAAE3T,QAAQgJ,EAAE9O,IAAM,GAAKkD,OAAO+Q,UAAU0F,qBAAqBhC,KAAKlJ,EAAGK,EAAE9O,MACvEyX,EAAE3I,EAAE9O,IAAMyO,EAAEK,EAAE9O,KAE1B,OAAOyX,GAEXvU,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBmG,EAAS,EAAQ,KAMrBpa,EAAQN,QALR,SAAyBsV,GACrB,IAAIoG,EAAKpG,EAAGqF,KAAMA,OAAc,IAAPe,EAAgB,eAAiBA,EAAI3B,EAAYL,EAAOpE,EAAI,CAAC,SACtF,OAAQf,EAAMkB,cAAciF,EAAO1a,QAAS0X,EAAS,GAAIqC,GACrDxF,EAAMkB,cAAc,OAAQ,CAAE9B,EAAG,mTAAoTrH,MAAO,CAAEqO,KAAMA,Q,gjBCHrW,MAAMgB,EAAgB,IAAUC,OAEjCC,EAA6C,CACjD,CAAC,IAAUD,QAAS,CAAC,IAAUE,KAAM,IAAUC,YAAa,IAAUC,iBACtE,CAAC,IAAUpO,UAAW,CAAC,IAAUqO,eAAgB,IAAUC,iBAC3D,CAAC,IAAUC,cAAe,CAAC,IAAUC,MAAO,IAAUC,mBAGlDC,EAAmC,CACvC,CAAC,IAAUV,QAASC,EAAyB,IAAUD,QAAQW,OAAO,CACpE,IAAUvY,mBACV,IAAUI,gBACV,IAAUG,eAEZ,CAAC,IAAUqJ,UAAW,IAAIiO,EAAyB,IAAUjO,UAAW,IAAUA,UAClF,CAAC,IAAUuO,cAAe,IACrBN,EAAyB,IAAUM,cACtC,IAAUK,2BAIP,SAASC,EAAchV,GAC5B,OAAOA,IAAU,IAAUiV,OAGtB,SAASC,EAAcC,GAAe,GAC3C,MAAM7U,EAAS,CAAC,IAAU6T,OAAQ,IAAUhO,SAAU,IAAUuO,cAChE,OAAOS,EAAe7U,EAAS,IAAIA,EAAQ,IAAU2U,QAGhD,SAASG,EAAcC,GAC5B,OAAOA,EAAMC,KAAK/P,KAAKgQ,GAASnX,QAAQmX,EAAMC,GAAiB,IAAZD,EAAMC,IAGpD,SAASC,EAAepV,GAC7B,OAAOA,EAAOkF,KAAK8P,GAASA,EAAMC,MAAQD,EAAMC,KAAKjX,OAAS,GAGzD,SAASqX,EAAoBrV,GAClC,OAAOA,EAAOhC,OAAS,EAAIgC,EAAO,GAAGlH,KAAO,MAGvC,SAASwc,EAA2B3V,EAAkB4V,GAC3D,OAAOZ,EAAchV,GAAS4V,EAAgBxB,EAAyBpU,GAGlE,SAAS6V,EAAkB7V,EAAkB4V,GAClD,OAAOZ,EAAchV,GAAS4V,EAAgBf,EAAe7U,GAOxD,SAAS8V,EAAoBzV,EAAiB0V,EAAkBC,GACrE,OAAO,IACL,IAAQ3V,EAAQgV,GAASA,EAAMlc,MAC/BA,GAAQ,IAAMA,EAAM6c,IACpBtX,MAAM,EAAGqX,GAqBN,SAASE,EACd9V,EACAH,EACAI,EACA8V,GAEA,OAAIA,EAAiB7X,QAAU,QAAyBhE,IAApB8F,EAC3B,GAEF,IACLA,EACGY,OAAOrH,GAAWwc,EAAiB3X,QAAQ7E,EAAQQ,SAAW,GAC9DyE,IAAIjF,IACH,GAAIA,EAAQQ,SAAW,IAAUua,kBAAoBO,EAAchV,GACjE,OAhCH,SACLmW,EACAhW,GAEA,MAAMiW,EAAejW,EAAgBsG,KAAK/M,GAAWA,EAAQQ,SAAW,IAAUsa,gBAClF,MAAO,CACLc,KAAMc,EACFD,EAAexV,QAAQhC,IAAI,CAACa,EAAU6W,KAAX,CACzBC,EAAG9W,EAASM,KACZ0V,EAAGhb,OAAO4b,EAAazV,QAAQ0V,GAAK1c,OAASa,OAAOgF,EAAS7F,UAE/D,GACJkE,KAAM,gBACN0Y,eAAgB,oBAAU,gDAC1Bpd,KAAM,OAkBOqd,CAA2B9c,EAASyG,GAE7C,MAAMjG,EAuCd,SAAoBD,EAAamG,GAC/B,GAAIkM,MAAMyD,QAAQ3P,GAChB,OAAOA,EAAQqG,KAAKvM,GAAUA,EAAOD,MAAQA,GAE/C,OAAOmG,EAAQnG,GA3CMwc,CAAW/c,EAAQQ,OAAQkG,GAC1C,MAAO,CACLkV,KAAM5b,EAAQiH,QAAQhC,IAAIa,IAAQ,CAChC8W,EAAG9W,EAASM,KACZ0V,EAAGtb,GAA0B,UAAhBA,EAAOf,KAAmBqG,EAAS7F,MAAQa,OAAOgF,EAAS7F,UAE1EkE,KAAMnE,EAAQQ,OACdqc,eAAgBrc,EAAS,iCAAuBA,GAAU,yBAAeR,EAAQQ,QACjFf,KAAMe,EAASA,EAAOf,KAAO,SAGnCkc,GACEa,EAAiB3X,QAAuB,kBAAf8W,EAAMxX,KAA2B,kBAAoBwX,EAAMxX,OAInF,SAAS6Y,EACdC,EACAtN,EACArJ,EACAI,EAAoB,IAEpB,eAAKuW,EAAW3W,EAAOqJ,GACnB2L,EAAchV,IAChB,eAAK,GAAD,OAAI2W,EAAJ,WAAwBvW,EAAQoK,KAAK,KAAMnB,GAI5C,SAASuN,EACdD,EACAtN,GAEA,MAAMwN,EAAe,cAAI,GAAD,OAAIF,EAAJ,WAAwBtN,GAChD,MAAO,CACLrJ,MAAQ,cAAI2W,EAAWtN,IAA0B6K,EACjD2C,aAAcA,EAAeA,EAAaC,MAAM,KAAO,M,iCC3J3D,IAAI7G,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAE5B6E,EAAU5Y,MAAQA,KAAK4Y,QAAW,SAAU/K,EAAGgL,GAC/C,IAAIhC,EAAI,GACR,IAAK,IAAI3I,KAAKL,EAAOvL,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,IAAM2K,EAAE3T,QAAQgJ,GAAK,IAC9E2I,EAAE3I,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCvL,OAAOwW,sBACtB,KAAI1Z,EAAI,EAAb,IAAgB8O,EAAI5L,OAAOwW,sBAAsBjL,GAAIzO,EAAI8O,EAAElJ,OAAQ5F,IAC3DyZ,EAAE3T,QAAQgJ,EAAE9O,IAAM,GAAKkD,OAAO+Q,UAAU0F,qBAAqBhC,KAAKlJ,EAAGK,EAAE9O,MACvEyX,EAAE3I,EAAE9O,IAAMyO,EAAEK,EAAE9O,KAE1B,OAAOyX,GAEXvU,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBiK,EAAY,EAAQ,KACpBC,EAAkB,EAAQ,KAC1BC,EAAwB,EAAQ,KAChCC,EAAsB,EAAQ,KAgBlCre,EAAQN,QAfR,SAAmBsV,GACf,IAAI1U,EAAO0U,EAAG1U,KAAMmZ,EAAYL,EAAOpE,EAAI,CAAC,SAC5C,OAAQ1U,GACJ,IAAK,MACD,OAAO2T,EAAMkB,cAAc+I,EAAUxe,QAAS0X,EAAS,GAAIqC,IAC/D,IAAK,gBACD,OAAOxF,EAAMkB,cAAckJ,EAAoB3e,QAAS0X,EAAS,GAAIqC,IACzE,IAAK,aACD,OAAOxF,EAAMkB,cAAcgJ,EAAgBze,QAAS0X,EAAS,GAAIqC,IACrE,IAAK,mBACD,OAAOxF,EAAMkB,cAAciJ,EAAsB1e,QAAS0X,EAAS,GAAIqC,IAC3E,QACI,OAAO,Q,qJCNJ,SAAS6E,EAAkB7d,GACxC,MAAM,OAAE8d,EAAF,OAAUnC,EAAV,SAAkBxH,EAAlB,QAA4B4J,EAA5B,SAAqCnR,GAAa5M,EAClDge,EAAU,IAAMhe,EAAMge,QAAQD,GAC9Brd,EAAY,EAAW,CAAEod,SAAQ3J,aACjC7S,EAAQtB,EAAMie,YAAYF,GAEhC,OACE,sBAAIG,QAASF,EAASG,YAAaH,GACjC,gBAAC,IAAQ,CACP3J,QAASvP,QAAQ8H,GACjBlM,UAAWA,EACXyT,SAAUA,EACV5T,GAAIwd,EACJ3J,QAASpU,EAAMoe,gBACdzC,EACC,+CACiB,oBAAU,sBAD3B,aACqDra,GACnDZ,UAAU,sBACV,uCAAmB,EAAMA,UAAU,uBAAqB,KAGvDY,GAGH,wBAAMZ,UAAU,sBAAsBY,KCAjC,MAAM,UAAoB,gBAavC,YAAYtB,GACV4O,MAAM5O,GAXR,KAAA6O,SAAU,EA2DV,KAAAwP,mBAAqB,CAACzR,EAAmB0R,KACnC1R,EACF7M,KAAKwe,aAAaD,GAElBve,KAAKye,eAAeF,IAIxB,KAAAG,mBAAsBpe,IACpBN,KAAK2e,cAAe3e,KAAKC,MAA2B2e,oBAAoBte,KAG1E,KAAAue,mBAAsBb,IACpBhe,KAAKmP,SAAS,CAAC2P,EAAW7e,KACjB,CAAE8e,UAAW/e,KAAKgf,eAAe/e,EAAO6e,GAAW5Z,QAAQ8Y,OAItE,KAAAiB,eAAkBC,IAChB,OAAQA,EAAIC,SACV,KAAK,GACHD,EAAIE,kBACJF,EAAIjL,iBACJjU,KAAKmP,SAASnP,KAAKqf,mBACnB,MACF,KAAK,GACHH,EAAIE,kBACJF,EAAIjL,iBACJjU,KAAKmP,SAASnP,KAAKsf,uBACnB,MACF,KAAK,GACL,KAAK,GACHJ,EAAIE,kBACJ,MACF,KAAK,GACCpf,KAAKgR,MAAM+N,WAAa,GAC1B/e,KAAKuf,aAAavf,KAAKgf,eAAehf,KAAKC,MAAOD,KAAKgR,OAAOhR,KAAKgR,MAAM+N,cAMjF,KAAAJ,cAAiBtc,IACfrC,KAAKmP,SAAS,CAAE4P,UAAW,EAAGlY,SAAS,EAAMxE,UAC7CrC,KAAKC,MAAMuf,SAASnd,GAAOqN,KAAK1P,KAAKyf,YAAazf,KAAKyf,cAGzD,KAAAjB,aAAgBD,IACVve,KAAK0f,aAAanB,EAAMve,KAAKC,QAC/BD,KAAK2e,cAAc,IAErB3e,KAAKC,MAAM2M,SAAS2R,IAGtB,KAAAE,eAAkBF,GAAiBve,KAAKC,MAAM0f,WAAWpB,GAEzD,KAAAmB,aAAe,CAACE,GAAgBC,mBAAkBC,cAChDF,EAAK5a,OAAS,IAAyC,IAApC6a,EAAiB3a,QAAQ0a,KAA4C,IAA5BE,EAAS5a,QAAQ0a,GAE/E,KAAAG,uBAA0B9f,IACxBD,KAAKmP,SAAU6B,GACTA,EAAM3O,MACD,CACLwd,iBAAkB5f,EAAM+f,eAAehP,EAAM3O,MAAOpC,EAAM4f,mBAGrD,CAAEA,iBAAkB,IAAI5f,EAAM4f,qBAK3C,KAAAI,yBAA4BhgB,IAC1BD,KAAKmP,SAAU6B,GACU,IAAnB/Q,EAAMigB,SACD,CAAEC,mBAAoB,IAAWlgB,EAAM6f,SAAU7f,EAAM4f,mBACrD5f,EAAMigB,SAAWlP,EAAM6O,iBAAiB7a,OAC1C,CAAEmb,mBAAoB,IAEtB,CACLA,mBAAoB,IAAWlgB,EAAM6f,SAAU7f,EAAM4f,kBAAkBxa,MACrE,EACApF,EAAMigB,SAAWlP,EAAM6O,iBAAiB7a,WAOlD,KAAAga,eAAiB,CAAC/e,EAAc+Q,IAC1BhR,KAAK0f,aAAa1O,EAAM3O,MAAOpC,GAC1B,IAAI+Q,EAAM6O,oBAAqB7O,EAAMmP,mBAAoBnP,EAAM3O,OAE/D,IAAI2O,EAAM6O,oBAAqB7O,EAAMmP,oBAIhD,KAAAC,iBAAoBpD,GAAgBhd,KAAKmP,SAAS,CAAE4P,UAAW/B,IAE/D,KAAAqC,kBAAoB,CAACrO,EAAc/Q,KACjC,MAAM,UAAE8e,GAAc/N,EAChBqP,EAAcrgB,KAAKgf,eAAe/e,EAAO+Q,GAC/C,OAAI+N,EAAY,GAAKA,GAAasB,EAAYrb,OAAS,EAC9C,CAAE+Z,UAAW,GAEb,CAAEA,UAAWA,EAAY,IAIpC,KAAAO,sBAAwB,CAACtO,EAAc/Q,KACrC,MAAM,UAAE8e,GAAc/N,EAChBqP,EAAcrgB,KAAKgf,eAAe/e,EAAO+Q,GAC/C,GAAI+N,GAAa,EAAG,CAElB,MAAO,CAAEA,UADOsB,EAAYrb,OAAS,GAGrC,MAAO,CAAE+Z,UAAWA,EAAY,IAIpC,KAAAU,YAAc,KACRzf,KAAK8O,SACP9O,KAAKmP,SAAS,CAAEtI,SAAS,KAI7B,KAAA0Y,aAAgBhB,KACqC,IAA/Cve,KAAKC,MAAM4f,iBAAiB3a,QAAQqZ,GACtCve,KAAKwe,aAAaD,GAElBve,KAAKye,eAAeF,IAhLtBve,KAAKgR,MAAQ,CACX+N,UAAW,EACXlY,SAAS,EACTxE,MAAO,GACPwd,iBAAkB,GAClBM,mBAAoB,IAIxB,oBACEngB,KAAK8O,SAAU,EACf9O,KAAK2e,cAAc,IACnB3e,KAAK+f,uBAAuB/f,KAAKC,OACjCD,KAAKigB,yBAAyBjgB,KAAKC,OAC/BD,KAAKsgB,WACPtgB,KAAKsgB,UAAUC,iBAAiB,UAAWvgB,KAAKif,gBAAgB,GAIpE,0BAA0BuB,GACxB,GACExgB,KAAKC,MAAM6f,WAAaU,EAAUV,UAClC9f,KAAKC,MAAM4f,mBAAqBW,EAAUX,iBAC1C,CACA7f,KAAK+f,uBAAuBS,GAC5BxgB,KAAKigB,yBAAyBO,GAE9B,MAAMC,EAAgBzgB,KAAKgf,eAAewB,EAAWxgB,KAAKgR,OAAOhM,OAC7DhF,KAAKgR,MAAM+N,WAAa0B,GAC1BzgB,KAAKmP,SAAS,CAAE4P,UAAW0B,EAAgB,KAKjD,qBACMzgB,KAAK0gB,aACP1gB,KAAK0gB,YAAYC,QAIrB,uBACE3gB,KAAK8O,SAAU,EACX9O,KAAKsgB,WACPtgB,KAAKsgB,UAAUM,oBAAoB,UAAW5gB,KAAKif,gBAyIvD,SACE,MAAM,eAAE4B,GAAiB,EAAnB,iBAAyBC,GAAmB,EAA5C,WAAkDC,EAAa,IAAO/gB,KAAKC,OAC3E,YAAEie,GAAgBle,KAAKC,OACvB,MAAEoC,EAAF,UAAS0c,EAAT,iBAAoBc,EAApB,mBAAsCM,GAAuBngB,KAAKgR,MAClEgQ,EAAgBhhB,KAAKgf,eAAehf,KAAKC,MAAOD,KAAKgR,OAAO+N,GAC5DkC,EAAiBH,GAAoB9gB,KAAK0f,aAAard,EAAOrC,KAAKC,OACnEihB,EAAuC,IAAxBlhB,KAAKC,MAAMigB,SAC1BiB,EAAc,EAAW,OAAQ,CACrC,0BAA2BD,EAC3B,aAAcA,EACd,qBAAsBA,EACtB,wBAAyBnc,QAAQgc,KAGnC,OACE,uBAAKpgB,UAAU,eAAeygB,IAAKC,GAAQrhB,KAAKsgB,UAAYe,GAC1D,uBAAK1gB,UAAU,eACb,gBAAC,IAAS,CACR2gB,WAAW,EACX3gB,UAAU,oBACVkG,QAAS7G,KAAKgR,MAAMnK,QACpB0a,SAAUvhB,KAAK0e,mBACf8C,YAAaxhB,KAAKC,MAAMuhB,YACxBlhB,MAAO+B,KAGX,sBAAI1B,UAAWwgB,GACZtB,EAAiB7a,OAAS,GACzB6a,EAAiBva,IAAI0Y,GACnB,gBAACF,EAAiB,CAChBC,OAAQiD,IAAkBhD,EAC1BA,QAASA,EACTpd,IAAKod,EACLC,QAASje,KAAK6e,mBACdR,eAAgBre,KAAKse,mBACrBJ,YAAaA,EACbrR,UAAU,KAGfsT,EAAmBnb,OAAS,GAC3Bmb,EAAmB7a,IAAI0Y,GACrB,gBAACF,EAAiB,CAChBC,OAAQiD,IAAkBhD,EAC1B5J,UAAWyM,EACX7C,QAASA,EACTpd,IAAKod,EACLC,QAASje,KAAK6e,mBACdR,eAAgBre,KAAKse,mBACrBJ,YAAaA,KAGlB+C,GACC,gBAACnD,EAAiB,CAChBC,OAAQiD,IAAkB3e,EAC1BuZ,QAAQ,EACRoC,QAAS3b,EACTzB,IAAKyB,EACL4b,QAASje,KAAK6e,mBACdR,eAAgBre,KAAKse,mBACrBJ,YAAaA,KAGf+C,GAAkBpB,EAAiB7a,OAAS,GAAKmb,EAAmBnb,OAAS,GAC7E,sBAAIrE,UAAU,eAAe,kCAAwB,mBAAoB0B,KAG5E0e,IAhQA,EAAAhM,aAA6B,CAClCiL,eAAgB,CAAC3d,EAAewd,IAC9BA,EAAiBnY,OAAOkY,GAAQA,EAAK1V,SAAS7H,IAChD6d,SAAU,EACVhC,YAAcF,GAAoBA,EAClCY,oBAAsBte,GAAkBA,I,oBCrE5C,IAuCI8M,EAvCa,EAAQ,IAuCdqU,CAtCK,EAAQ,MAwCxBtiB,EAAOK,QAAU4N,G,oBCzCjB,IAAIoJ,EAAe,EAAQ,KACvBnB,EAAc,EAAQ,KACtBqM,EAAO,EAAQ,KAsBnBviB,EAAOK,QAbP,SAAoBmiB,GAClB,OAAO,SAAShL,EAAY6D,EAAWC,GACrC,IAAImH,EAAWtf,OAAOqU,GACtB,IAAKtB,EAAYsB,GAAa,CAC5B,IAAIb,EAAWU,EAAagE,EAAW,GACvC7D,EAAa+K,EAAK/K,GAClB6D,EAAY,SAAS5Z,GAAO,OAAOkV,EAAS8L,EAAShhB,GAAMA,EAAKghB,IAElE,IAAI5L,EAAQ2L,EAAchL,EAAY6D,EAAWC,GACjD,OAAOzE,GAAS,EAAI4L,EAAS9L,EAAWa,EAAWX,GAASA,QAAShV,K,oBCpBzE,IAAI6gB,EAAgB,EAAQ,KACxBrL,EAAe,EAAQ,KACvBsL,EAAY,EAAQ,KAGpBC,EAAYC,KAAKC,IAiDrB9iB,EAAOK,QAZP,SAAmBqW,EAAO2E,EAAWC,GACnC,IAAIzV,EAAkB,MAAT6Q,EAAgB,EAAIA,EAAM7Q,OACvC,IAAKA,EACH,OAAQ,EAEV,IAAIgR,EAAqB,MAAbyE,EAAoB,EAAIqH,EAAUrH,GAI9C,OAHIzE,EAAQ,IACVA,EAAQ+L,EAAU/c,EAASgR,EAAO,IAE7B6L,EAAchM,EAAOW,EAAagE,EAAW,GAAIxE,K,iCChC1D,IAAYkM,EAnBZ,kCAmBA,SAAYA,GACV,kBACA,sBACA,8BACA,kBAJF,CAAYA,MAAS,M,oBCnBrB,IAAI1I,EAAc,EAAQ,KACtBlU,EAAM,EAAQ,KA2BlBnG,EAAOK,QAJP,SAAiBmX,EAAYb,GAC3B,OAAO0D,EAAYlU,EAAIqR,EAAYb,GAAW,K,iCCzBhD,+DAuBA,MAAMqM,EAAa,4BACjB,IAAM,oCACN,cAGIC,EAAwB,CAAEnc,MAAO,GAAIoc,OAAQ,GAAIC,IAAK,GAAIC,KAAM,IAEhEC,EAA4B,CAAEvc,MAAO,EAAGoc,OAAQ,EAAGC,IAAK,EAAGC,KAAM,GAQxD,SAAS/X,GAAe,MACrCiY,GAAQ,EAD6B,KAErCvhB,EAAO,SAF8B,MAGrCZ,IAEA,IAAI2b,EAAO,CAAC,CAAE3b,MAAO,IAAKuZ,KAAM,UAC5B6I,EAAW,EAEf,GAAa,MAATpiB,EAAe,CACjB,MAAMqiB,EAAcxhB,OAAOb,GAC3B2b,EAAO,CACL,CAAE3b,MAAOqiB,EAAa9I,KAAM4I,EAAQ,SAAOG,OAAS,SAAOC,OAC3D,CAAEviB,MAAO,IAAMqiB,EAAa9I,KAAM4I,EAAQ,SAAOK,mBAAqB,SAAOC,kBAE3D,IAAhBJ,GAAqBA,EAAc,MACrCD,EAAW,IAIf,MAAMM,EAAQZ,EAAsBlhB,GAC9B+hB,EAAYT,EAA0BthB,GAE5C,OACE,gBAACihB,EAAU,CACTlG,KAAMA,EACNxQ,OAAQuX,EACRN,SAAUA,EACVO,UAAWA,EACXD,MAAOA,M,iCClEb,0KAmBO,MAAME,EAAkB,iBAClBC,EAA0B,aAC1BC,EAAqB,YACrBC,EAA2B,kBAC3BC,EAA2C,mC,iCCvBxD,4aAwBO,SAASC,EACdlU,EACAnE,GAEA,OAAO,kBAAQ,8BAA+B,CAAEmE,cAAanE,WAAUwE,KACrE8T,GAAKA,EAAE7T,MACP,KAIG,SAAS8T,EAAsBpU,EAAqBnE,GACzD,OAAO,kBAAQ,yBAA0B,CAAEmE,cAAanE,WAAUwE,KAChE8T,GAAKA,EAAEnU,YACP,KAIG,SAASqU,EAAqBzH,GAMnC,OAAO,eAAK,kCAAmCA,GAAM0H,MAAM,KAGtD,SAASC,EAAwB3H,GAOtC,OAAO,eAAK,kCAAmCA,GAAM0H,MAAM,KAGtD,SAASE,EAAwBxU,EAAqBnE,GAC3D,OAAO,eAAK,kCAAmC,CAAEmE,cAAanE,WAAUyY,MAAM,KAGzE,SAASG,EAAuB7H,GAOrC,OAAO,kBAAQ,oCAAqCA,GAAM0H,MAAM,KAG3D,SAASI,EAAwB1U,EAAqBW,GAC3D,OAAO,eAAK,gCAAiC,CAAEX,cAAaW,YAAW2T,MAAM,KAGxE,SAASK,EAA6B3U,EAAqBW,GAChE,OAAO,eAAK,mCAAoC,CAAEX,cAAaW,YAAW2T,MAAM,KAG3E,SAASM,EAAmBrjB,GACjC,OAAO,eAAK,4BAA6B,CAAEA,QAAO+iB,MAAM,KAGnD,SAASO,EACd1f,EACA0B,EACAtF,EACAujB,GASA,OAAO,mBAAS,2BAA4B,CAAEje,cAAatF,MAAK4D,OAAM2f,eAAcR,MAClF,KAIG,SAASS,EAAkB/U,GAChC,OAAO,eAAK,2BAA4B,CAAEA,gBAAesU,MAAM,KAG1D,SAASU,EAAgBhV,EAAqB7K,EAAc0B,GACjE,OAAO,eAAK,2BAA4B,CAAE1B,OAAM0B,cAAamJ,gBAAesU,MAC1E,O,iCC7GJrhB,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAIkT,EAAa,EAAQ,KACrB8Q,EAAW,EAAQ,IACnB7Q,EAAQ,EAAQ,GACpB,EAAQ,KAgBRjU,EAAQN,QAfR,SAA4BsV,GACxB,IAAIoG,EAAKpG,EAAGiO,MAAOA,OAAe,IAAP7H,GAAwBA,EAAI2J,EAAK/P,EAAGtT,KAAMA,OAAc,IAAPqjB,EAAgB,SAAWA,EAAIjkB,EAAQkU,EAAGlU,MAClHK,EAAY6S,EAAW,sBAAuB,CAC9C,4BAAsC,UAATtS,EAC7B,0BAAoC,QAATA,EAC3B,2BAAqC,SAATA,EAC5B,4BAA6BuhB,GAAkB,MAATniB,GAAiBkkB,MAAMlkB,GAC7D,wBAAyBgkB,EAASG,QAAQnkB,GAAS,EAAG,EAAG,GACzD,wBAAyBgkB,EAASG,QAAQnkB,GAAS,EAAG,EAAG,GACzD,wBAAyBgkB,EAASG,QAAQnkB,GAAS,EAAG,EAAG,IACzD,wBAAyBgkB,EAASG,QAAQnkB,GAAS,EAAG,GAAI,IAC1D,yBAA0BA,GAAS,IAAM,KAE7C,OAAOmT,EAAMkB,cAAc,MAAO,CAAEhU,UAAWA,M,oBCnBnD,IAAI+jB,EAAc,EAAQ,KAkC1BvlB,EAAOK,QAJP,SAAiBc,EAAOqkB,GACtB,OAAOD,EAAYpkB,EAAOqkB,K,iCC9B5B,IAAI/N,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAE5B6E,EAAU5Y,MAAQA,KAAK4Y,QAAW,SAAU/K,EAAGgL,GAC/C,IAAIhC,EAAI,GACR,IAAK,IAAI3I,KAAKL,EAAOvL,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,IAAM2K,EAAE3T,QAAQgJ,GAAK,IAC9E2I,EAAE3I,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCvL,OAAOwW,sBACtB,KAAI1Z,EAAI,EAAb,IAAgB8O,EAAI5L,OAAOwW,sBAAsBjL,GAAIzO,EAAI8O,EAAElJ,OAAQ5F,IAC3DyZ,EAAE3T,QAAQgJ,EAAE9O,IAAM,GAAKkD,OAAO+Q,UAAU0F,qBAAqBhC,KAAKlJ,EAAGK,EAAE9O,MACvEyX,EAAE3I,EAAE9O,IAAMyO,EAAEK,EAAE9O,KAE1B,OAAOyX,GAEXvU,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBmG,EAAS,EAAQ,KAMrBpa,EAAQN,QALR,SAA0BsV,GACtB,IAAIoG,EAAKpG,EAAGqF,KAAMA,OAAc,IAAPe,EAAgB,OAASA,EAAI2J,EAAK/P,EAAGtT,KAAMA,OAAc,IAAPqjB,EAAgB,GAAKA,EAAItL,EAAYL,EAAOpE,EAAI,CAAC,OAAQ,SACpI,OAAQf,EAAMkB,cAAciF,EAAO1a,QAAS0X,EAAS,CAAE1V,KAAMA,GAAQ+X,GACjExF,EAAMkB,cAAc,OAAQ,CAAE9B,EAAG,mCAAoCrH,MAAO,CAAEqO,KAAMA,EAAM+K,OAAQ,eAAgBC,YAAa,Y,gyBCJvI,MAAMC,EAAiB,CACrB,aACA,iBACA,qBACA,sBACA,mBACA,mBACA,kBACA,yBACA,0BACA,uBACA,uBACA,sBACA,cACA,kBACA,mBACA,wBACA,cACA,kBACA,OACA,WACA,kBACA,uBAGIC,EAA+C,CACnDC,mBAAoB,CAAEtjB,SAAU,QAASmB,WAAY,WACrDoiB,uBAAwB,CAAEvjB,SAAU,QAASmB,WAAY,WACzDqiB,oBAAqB,CAAExjB,SAAU,QAASmB,WAAY,YACtDsiB,wBAAyB,CAAEzjB,SAAU,QAASmB,WAAY,YAC1DuiB,iBAAkB,CAAE1jB,SAAU,QAASmB,WAAY,SACnDwiB,qBAAsB,CAAE3jB,SAAU,QAASmB,WAAY,SACvDyiB,iBAAkB,CAAE5jB,SAAU,QAASmB,WAAY,SACnD0iB,qBAAsB,CAAE7jB,SAAU,QAASmB,WAAY,SACvD2iB,gBAAiB,CAAE9jB,SAAU,QAASmB,WAAY,QAClD4iB,oBAAqB,CAAE/jB,SAAU,QAASmB,WAAY,QACtD6iB,YAAa,CAAEhkB,SAAU,QAASikB,SAAU,QAC5CC,gBAAiB,CAAElkB,SAAU,QAASikB,SAAU,YAChDE,iBAAkB,CAAEnkB,SAAU,QAASikB,SAAU,aACjDG,sBAAuB,CAAEC,YAAa,kBACtC9K,YAAa,CAAEvZ,SAAU,QAASC,MAAO,cACzCqkB,gBAAiB,CAAEtkB,SAAU,QAASC,MAAO,cAC7CqZ,KAAM,CAAEtZ,SAAU,QAASC,MAAO,OAClCskB,SAAU,CAAEvkB,SAAU,QAASC,MAAO,OACtCuZ,gBAAiB,CAAExZ,SAAU,QAASC,MAAO,iBAC7CukB,oBAAqB,CAAExkB,SAAU,QAASC,MAAO,kBAYpC,MAAMoC,UAAsB,gBAA3C,c,oBACE,KAAAoiB,eAAiB,KACuC,IAA/CrB,EAAe5f,QAAQlF,KAAKC,MAAMY,QAG3C,KAAAulB,mBAAqB,KACnB,MAAM3kB,EAAM,KACNsjB,EAAqB/kB,KAAKC,MAAMY,SAAW,CAAEa,SAAU,UAO7D,OAJI1B,KAAKC,MAAM2B,kBACbH,EAAOG,iBAAkB,GAGpBH,GAGT,KAAA4kB,iBAAmB,KACjB,MAAMC,EAAM,YAAsBtmB,KAAKC,MAAML,UAAZ,KAC5BI,KAAKomB,qBADuB,GAE5B,YAAmBpmB,KAAKC,MAAMN,cAGnC,OACE,gBAAC,IAAI,CAACgB,UAAWX,KAAKC,MAAMU,UAAWkB,GAAIykB,GACxCtmB,KAAKC,MAAM6C,WAKlB,SACE,GAAI9C,KAAKmmB,iBACP,OAAOnmB,KAAKqmB,mBAGd,MAAMC,EAAM,YAAyB,CACnC3V,aAAc3Q,KAAKC,MAAML,UACzBiB,OAAQb,KAAKC,MAAMY,OACnBlB,WAAYK,KAAKC,MAAMN,WACvB4mB,UAAU,IAEZ,OACE,gBAAC,IAAI,CAAC5lB,UAAWX,KAAKC,MAAMU,UAAWkB,GAAIykB,GACxCtmB,KAAKC,MAAM6C,a,iCC5HpB,IAAI0jB,EAAwBxmB,MAAQA,KAAKwmB,sBAAyB,SAAUC,EAAQC,GAEhF,OADIpkB,OAAOiR,eAAkBjR,OAAOiR,eAAekT,EAAQ,MAAO,CAAEnmB,MAAOomB,IAAiBD,EAAOC,IAAMA,EAClGD,GAEXnkB,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAuBIqmB,EAAkBC,EAAkBC,EAvBpCpT,EAAQ,EAAQ,GAChBqT,EAAU,EAAQ,KAClBC,EAAeD,EAAQE,OAAO3F,IAAIsF,IAAqBA,EAAmBH,EAAqB,CAAC,gDAAiD,CAAC,mDAClJS,EAAa,SAAUzS,GAEvB,MAAO,aADKA,EAAGuF,MACaC,OAAOkN,gBAEnCC,EAAsB,SAAU3S,GAEhC,MAAO,wCADKA,EAAGuF,MACwCC,OAAOoN,4BAA8B,YAE5FC,EAAYP,EAAQE,OAAOM,OAAOV,IAAqBA,EAAmBJ,EAAqB,CAAC,gDAAiD,oBAAqB,qBAAsB,yHAA0H,wCAAyC,WAAY,2CAA4C,YAAa,CAAC,gDAAiD,oBAAqB,qBAAsB,yHAA0H,wCAAyC,WAAY,2CAA4C,eAAe,SAAUvmB,GAAS,OAAQA,EAAM8d,OAAS,QAAU9d,EAAM8Z,MAAMC,OAAO8I,qBAAwBmE,EAAYA,GAAY,SAAUhnB,GAAS,OAAQA,EAAM8d,QAAU,qBAAuB+I,EAAQS,UAAU,aAAa,SAAUtnB,GAAS,OAASA,EAAM8d,OAA+B,KAAtBoJ,IAAgCF,GAC9gCO,EAAeV,EAAQE,OAAO3F,IAAIwF,IAAqBA,EAAmBL,EAAqB,CAAC,gBAAiB,0BAA2B,wFAAyF,CAAC,gBAAiB,0BAA2B,2FAA2F,SAAUvmB,GAAS,OAAQA,EAAM8d,OAAS,QAAU,SAAY+I,EAAQW,WAAW,SAUpcjoB,EAAQN,QATR,SAAmBe,GACf,IAAIU,EAAYV,EAAMU,UAAW6L,EAAOvM,EAAMuM,KAAMK,EAAW5M,EAAM4M,SACrE,OAAQ4G,EAAMkB,cAAcoS,EAAc,CAAEpmB,UAAWA,GAAa6L,EAAKlH,KAAI,SAAUkP,EAAIpV,GACvF,IAAIwB,EAAM4T,EAAG5T,IAAKW,EAAQiT,EAAGjT,MAC7B,OAAQkS,EAAMkB,cAAc0S,EAAW,CAAEtJ,OAAQlR,IAAajM,EAAKA,IAAKxB,EAAGmG,QAAS,WAAc,OAAOsH,IAAajM,GAAOX,EAAM2M,SAAShM,IAASd,KAAM,UACvJ2T,EAAMkB,cAAc6S,EAAc,CAAEzJ,OAAQlR,IAAajM,IACzDW,S,oBCzBZ,IAAImmB,EAAY,EAAQ,KACpBC,EAAiB,EAAQ,KACzB7F,EAAY,EAAQ,KAGpB8F,EAAa5F,KAAK6F,KAClB9F,EAAYC,KAAKC,IA2CrB9iB,EAAOK,QApBP,SAAeqW,EAAO3U,EAAM4mB,GAExB5mB,GADG4mB,EAAQH,EAAe9R,EAAO3U,EAAM4mB,QAAkB9mB,IAATE,GACzC,EAEA6gB,EAAUD,EAAU5gB,GAAO,GAEpC,IAAI8D,EAAkB,MAAT6Q,EAAgB,EAAIA,EAAM7Q,OACvC,IAAKA,GAAU9D,EAAO,EACpB,MAAO,GAMT,IAJA,IAAI8U,EAAQ,EACR+R,EAAW,EACX7R,EAASjD,MAAM2U,EAAW5iB,EAAS9D,IAEhC8U,EAAQhR,GACbkR,EAAO6R,KAAcL,EAAU7R,EAAOG,EAAQA,GAAS9U,GAEzD,OAAOgV,I,iCC9CT,mfA0BO,MAAM8R,EAAoB,CAE/B,IAAUC,aACV,IAAUC,qBAGV,IAAUlN,KACV,IAAUiL,SACV,IAAU/iB,mBACV,IAAUG,uBAGV,IAAU6X,gBACV,IAAUgL,oBACV,IAAU5iB,gBACV,IAAUE,oBAGV,IAAU2kB,kBACV,IAAUC,sBACV,IAAUxkB,2BACV,IAAUE,+BACV,IAAUukB,uBACV,IAAUC,2BAGV,IAAUrN,YACV,IAAU+K,gBACV,IAAUviB,aACV,IAAUE,2BACV,IAAU2G,YACV,IAAUD,mBAGV,IAAUyC,SACV,IAAUC,aACV,IAAUoO,eACV,IAAUoN,mBACV,IAAUtb,MAGV,IAAUyO,yBACV,IAAU8M,6BACV,IAAUrb,kBAGV,IAAUmO,MACV,IAAUmN,4BACV,IAAUpb,SACV,IAAUsE,MACV,IAAUC,WAGC8W,EAAuB,CAClC,IAAU5b,SACV,IAAUC,aACV,IAAUwb,mBAEV,IAAU7M,yBACV,IAAU8M,6BACV,IAAU5W,UACV,IAAUoU,gBACV,IAAUriB,2BACV,IAAUsiB,SACV,IAAU5iB,uBACV,IAAU6iB,oBACV,IAAUkC,sBACV,IAAUE,2BACV,IAAU9kB,qBAGCmlB,EAAiC,CAC5C,IAAU3N,KACV,IAAUE,gBACV,IAAU5Q,YACV,IAAUoR,yBACV,IAAUJ,MACV,IAAUxO,UAGZ,IAAY8b,GAAZ,SAAYA,GACV,sBACA,4BAFF,CAAYA,MAAe,KAK3B,MAAMC,EAAmB,CACvB,CAACD,EAAgB5b,UAAW,CAC1BnM,OAAQ,IAAUiM,SAClBgc,UAAW,IAAU/b,aACrB3M,YAAa,IAAU+a,eACvB4N,eAAgB,IAAUR,mBAC1BS,iBAAkB,IAAUlc,SAC5B3M,SAAU,uBACVD,iBAAkB,+BAClB+oB,yBAA0B,mCAC1BloB,UAAW,KAEb,CAAC6nB,EAAgB1b,aAAc,CAC7BrM,OAAQ,IAAU6a,yBAClBoN,UAAW,IAAUN,6BACrBpoB,YAAa,IAAUkb,MACvByN,eAAgB,IAAUnX,UAC1BoX,iBAAkB,IAAUtN,yBAC5Bvb,SAAU,6CACVD,iBAAkB,mCAClB+oB,yBAA0B,uCAC1BloB,UAAW,MAIR,SAASmoB,EAAmBppB,GACjC,OAAO,oBAAU,gBAAiB,IAA0BA,GAAMqpB,YAG7D,SAASC,EAAkBtpB,GAChC,OAAO,IAA0BA,GAAMiB,UAGlC,SAASsoB,EAAkBvpB,EAAiBC,GACjD,OAAOA,EACH,IAA0BD,GAAMgpB,UAChC,IAA0BhpB,GAAMe,OAG/B,SAASyoB,EAAwBxpB,EAAiBC,GACvD,OAAOA,EACH,IAA0BD,GAAMypB,UAChC,IAA0BzpB,GAAMkC,OAG/B,SAASwnB,EAAwB1pB,GACtC,OAAO+oB,EAAiB/oB,GAAMiB,UAGzB,SAAS0oB,EAAwB3pB,EAAuBC,GAC7D,OAAOA,EAAgB8oB,EAAiB/oB,GAAMgpB,UAAYD,EAAiB/oB,GAAMe,OAG5E,SAAS6oB,EAAkC5pB,GAChD,OAAO+oB,EAAiB/oB,GAAMkpB,iBAGzB,SAASW,EAA6B7pB,EAAuBC,GAClE,OAAOA,EAAgB8oB,EAAiB/oB,GAAMipB,eAAiBF,EAAiB/oB,GAAMM,YAGjF,SAASwpB,EAAwB9pB,EAAuBC,GAC7D,MAAO,CACLG,iBAAkBH,EACd8oB,EAAiB/oB,GAAMmpB,yBACvBJ,EAAiB/oB,GAAMI,iBAC3BC,SAAU0oB,EAAiB/oB,GAAMK,Y,oBCjLrC,IAAIpB,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,6iEAAgjE,KAEzkED,EAAOK,QAAUA,G,iCCLjB,IAAIoX,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAE5B6E,EAAU5Y,MAAQA,KAAK4Y,QAAW,SAAU/K,EAAGgL,GAC/C,IAAIhC,EAAI,GACR,IAAK,IAAI3I,KAAKL,EAAOvL,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,IAAM2K,EAAE3T,QAAQgJ,GAAK,IAC9E2I,EAAE3I,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCvL,OAAOwW,sBACtB,KAAI1Z,EAAI,EAAb,IAAgB8O,EAAI5L,OAAOwW,sBAAsBjL,GAAIzO,EAAI8O,EAAElJ,OAAQ5F,IAC3DyZ,EAAE3T,QAAQgJ,EAAE9O,IAAM,GAAKkD,OAAO+Q,UAAU0F,qBAAqBhC,KAAKlJ,EAAGK,EAAE9O,MACvEyX,EAAE3I,EAAE9O,IAAMyO,EAAEK,EAAE9O,KAE1B,OAAOyX,GAEXvU,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBmG,EAAS,EAAQ,KASrBpa,EAAQN,QARR,SAAyBsV,GACrB,IAAIwB,EAAQxB,EAAGwB,MAAOiD,EAAYL,EAAOpE,EAAI,CAAC,UAC9C,OAAQf,EAAMkB,cAAciF,EAAOE,WAAYlD,EAAS,GAAIqC,IAAY,SAAUzE,GAC9E,IAAIuF,EAAQvF,EAAGuF,MACX8P,EAAS,CAAC9P,EAAMC,OAAOC,KAAMF,EAAMC,OAAO8P,SAAU,WACxD,OAAQrW,EAAMkB,cAAc,OAAQ,CAAE9B,EAAG,wKAAyKrH,MAAO,CAAEqO,KAAMgQ,EAAO7T,IAAU6T,EAAO,W,u3EC/BjQ,IAAIE,EAAK/H,KAAKgI,GACVC,EAAM,EAAIF,EAEVG,EAAaD,EADH,KAGd,SAASE,IACPnqB,KAAKoqB,IAAMpqB,KAAKqqB,IAChBrqB,KAAKsqB,IAAMtqB,KAAKuqB,IAAM,KACtBvqB,KAAKwqB,EAAI,GAGX,SAASC,IACP,OAAO,IAAIN,EAGbA,EAAK9W,UAAYoX,EAAKpX,UAAY,CAChCD,YAAa+W,EACbO,OAAQ,SAASzN,EAAGd,GAClBnc,KAAKwqB,GAAK,KAAOxqB,KAAKoqB,IAAMpqB,KAAKsqB,KAAOrN,GAAK,KAAOjd,KAAKqqB,IAAMrqB,KAAKuqB,KAAOpO,IAE7EwO,UAAW,WACQ,OAAb3qB,KAAKsqB,MACPtqB,KAAKsqB,IAAMtqB,KAAKoqB,IAAKpqB,KAAKuqB,IAAMvqB,KAAKqqB,IACrCrqB,KAAKwqB,GAAK,MAGdI,OAAQ,SAAS3N,EAAGd,GAClBnc,KAAKwqB,GAAK,KAAOxqB,KAAKsqB,KAAOrN,GAAK,KAAOjd,KAAKuqB,KAAOpO,IAEvD0O,iBAAkB,SAASC,EAAIC,EAAI9N,EAAGd,GACpCnc,KAAKwqB,GAAK,MAAQM,EAAM,MAAQC,EAAM,KAAO/qB,KAAKsqB,KAAOrN,GAAK,KAAOjd,KAAKuqB,KAAOpO,IAEnF6O,cAAe,SAASF,EAAIC,EAAIE,EAAIC,EAAIjO,EAAGd,GACzCnc,KAAKwqB,GAAK,MAAQM,EAAM,MAAQC,EAAM,MAAQE,EAAM,MAAQC,EAAM,KAAOlrB,KAAKsqB,KAAOrN,GAAK,KAAOjd,KAAKuqB,KAAOpO,IAE/GgP,MAAO,SAASL,EAAIC,EAAIE,EAAIC,EAAI1H,GAC9BsH,GAAMA,EAAIC,GAAMA,EAAIE,GAAMA,EAAIC,GAAMA,EAAI1H,GAAKA,EAC7C,IAAI4H,EAAKprB,KAAKsqB,IACVe,EAAKrrB,KAAKuqB,IACVe,EAAML,EAAKH,EACXS,EAAML,EAAKH,EACXS,EAAMJ,EAAKN,EACXW,EAAMJ,EAAKN,EACXW,EAAQF,EAAMA,EAAMC,EAAMA,EAG9B,GAAIjI,EAAI,EAAG,MAAM,IAAImI,MAAM,oBAAsBnI,GAGjD,GAAiB,OAAbxjB,KAAKsqB,IACPtqB,KAAKwqB,GAAK,KAAOxqB,KAAKsqB,IAAMQ,GAAM,KAAO9qB,KAAKuqB,IAAMQ,QAIjD,GAAMW,EApDD,KAyDL,GAAM1J,KAAK4J,IAAIH,EAAMH,EAAMC,EAAMC,GAzD5B,MAyDgDhI,EAKrD,CACH,IAAIqI,EAAMZ,EAAKG,EACXU,EAAMZ,EAAKG,EACXU,EAAQT,EAAMA,EAAMC,EAAMA,EAC1BS,EAAQH,EAAMA,EAAMC,EAAMA,EAC1BG,EAAMjK,KAAKkK,KAAKH,GAChBI,EAAMnK,KAAKkK,KAAKR,GAChBU,EAAI5I,EAAIxB,KAAKqK,KAAKtC,EAAK/H,KAAKsK,MAAMP,EAAQL,EAAQM,IAAU,EAAIC,EAAME,KAAS,GAC/EI,EAAMH,EAAID,EACVK,EAAMJ,EAAIH,EAGVjK,KAAK4J,IAAIW,EAAM,GA1EX,OA2ENvsB,KAAKwqB,GAAK,KAAOM,EAAKyB,EAAMf,GAAO,KAAOT,EAAKwB,EAAMd,IAGvDzrB,KAAKwqB,GAAK,IAAMhH,EAAI,IAAMA,EAAI,WAAaiI,EAAMI,EAAML,EAAMM,GAAQ,KAAO9rB,KAAKsqB,IAAMQ,EAAK0B,EAAMlB,GAAO,KAAOtrB,KAAKuqB,IAAMQ,EAAKyB,EAAMjB,QApBtIvrB,KAAKwqB,GAAK,KAAOxqB,KAAKsqB,IAAMQ,GAAM,KAAO9qB,KAAKuqB,IAAMQ,UAuBxD0B,IAAK,SAASxP,EAAGd,EAAGqH,EAAGkJ,EAAIC,EAAIC,GAC7B3P,GAAKA,EAAGd,GAAKA,EACb,IAAI0Q,GADYrJ,GAAKA,GACRxB,KAAK8K,IAAIJ,GAClBK,EAAKvJ,EAAIxB,KAAKgL,IAAIN,GAClBtB,EAAKnO,EAAI4P,EACTxB,EAAKlP,EAAI4Q,EACTE,EAAK,EAAIL,EACTM,EAAKN,EAAMF,EAAKC,EAAKA,EAAKD,EAG9B,GAAIlJ,EAAI,EAAG,MAAM,IAAImI,MAAM,oBAAsBnI,GAGhC,OAAbxjB,KAAKsqB,IACPtqB,KAAKwqB,GAAK,IAAMY,EAAK,IAAMC,GAIpBrJ,KAAK4J,IAAI5rB,KAAKsqB,IAAMc,GAnGnB,MAmGoCpJ,KAAK4J,IAAI5rB,KAAKuqB,IAAMc,GAnGxD,QAoGRrrB,KAAKwqB,GAAK,IAAMY,EAAK,IAAMC,GAIxB7H,IAGD0J,EAAK,IAAGA,EAAKA,EAAKjD,EAAMA,GAGxBiD,EAAKhD,EACPlqB,KAAKwqB,GAAK,IAAMhH,EAAI,IAAMA,EAAI,QAAUyJ,EAAK,KAAOhQ,EAAI4P,GAAM,KAAO1Q,EAAI4Q,GAAM,IAAMvJ,EAAI,IAAMA,EAAI,QAAUyJ,EAAK,KAAOjtB,KAAKsqB,IAAMc,GAAM,KAAOprB,KAAKuqB,IAAMc,GAIrJ6B,EAnHC,OAoHRltB,KAAKwqB,GAAK,IAAMhH,EAAI,IAAMA,EAAI,SAAW0J,GAAMnD,GAAO,IAAMkD,EAAK,KAAOjtB,KAAKsqB,IAAMrN,EAAIuG,EAAIxB,KAAK8K,IAAIH,IAAO,KAAO3sB,KAAKuqB,IAAMpO,EAAIqH,EAAIxB,KAAKgL,IAAIL,OAGlJQ,KAAM,SAASlQ,EAAGd,EAAGiR,EAAGC,GACtBrtB,KAAKwqB,GAAK,KAAOxqB,KAAKoqB,IAAMpqB,KAAKsqB,KAAOrN,GAAK,KAAOjd,KAAKqqB,IAAMrqB,KAAKuqB,KAAOpO,GAAK,MAAQiR,EAAK,MAAQC,EAAK,KAAQD,EAAK,KAEzHxiB,SAAU,WACR,OAAO5K,KAAKwqB,IAID,QCjIA,cACb,OAAO,WACL,OAAOvN,ICFA2O,EAAM5J,KAAK4J,IACX0B,EAAQtL,KAAKsL,MACbR,EAAM9K,KAAK8K,IACX7K,EAAMD,KAAKC,IACXsL,EAAMvL,KAAKuL,IACXP,EAAMhL,KAAKgL,IACXd,EAAOlK,KAAKkK,KAGZ,EAAKlK,KAAKgI,GACVwD,EAAS,EAAK,EACd,EAAM,EAAI,EAEd,SAASlB,EAAKrP,GACnB,OAAOA,EAAI,EAAI,EAAIA,GAAK,EAAI,EAAK+E,KAAKsK,KAAKrP,GAGtC,SAASwQ,EAAKxQ,GACnB,OAAOA,GAAK,EAAIuQ,EAASvQ,IAAM,GAAKuQ,EAASxL,KAAKyL,KAAKxQ,GCdzD,SAASyQ,EAAe7a,GACtB,OAAOA,EAAE8a,YAGX,SAASC,EAAe/a,GACtB,OAAOA,EAAEgb,YAGX,SAASC,EAAcjb,GACrB,OAAOA,EAAEkb,WAGX,SAASC,EAAYnb,GACnB,OAAOA,EAAEob,SAGX,SAASC,EAAYrb,GACnB,OAAOA,GAAKA,EAAE6P,SAGhB,SAASyL,EAAU/C,EAAIC,EAAIP,EAAIC,EAAIE,EAAIC,EAAIkD,EAAIC,GAC7C,IAAIC,EAAMxD,EAAKM,EAAImD,EAAMxD,EAAKM,EAC1BmD,EAAMJ,EAAKnD,EAAIwD,EAAMJ,EAAKnD,EAC1BrU,EAAI4X,EAAMH,EAAME,EAAMD,EAC1B,KAAI1X,EAAIA,EDpBW,OCsBnB,MAAO,CAACuU,GADRvU,GAAK2X,GAAOnD,EAAKH,GAAMuD,GAAOrD,EAAKH,IAAOpU,GACzByX,EAAKjD,EAAKxU,EAAI0X,GAKjC,SAASG,EAAetD,EAAIC,EAAIP,EAAIC,EAAI4D,EAAIC,EAAI3B,GAC9C,IAAIzB,EAAMJ,EAAKN,EACXW,EAAMJ,EAAKN,EACX8D,GAAM5B,EAAK2B,GAAMA,GAAM1C,EAAKV,EAAMA,EAAMC,EAAMA,GAC9CqD,EAAKD,EAAKpD,EACVsD,GAAMF,EAAKrD,EACXwD,EAAM5D,EAAK0D,EACXG,EAAM5D,EAAK0D,EACXT,EAAMxD,EAAKgE,EACXP,EAAMxD,EAAKgE,EACXG,GAAOF,EAAMV,GAAO,EACpBa,GAAOF,EAAMV,GAAO,EACpB1B,EAAKyB,EAAMU,EACXjC,EAAKwB,EAAMU,EACXG,EAAKvC,EAAKA,EAAKE,EAAKA,EACpBvJ,EAAImL,EAAKC,EACTS,EAAIL,EAAMT,EAAMD,EAAMW,EACtBpc,GAAKka,EAAK,GAAK,EAAI,GAAKb,EAAKjK,EAAI,EAAGuB,EAAIA,EAAI4L,EAAKC,EAAIA,IACrDC,GAAOD,EAAItC,EAAKF,EAAKha,GAAKuc,EAC1BG,IAAQF,EAAIxC,EAAKE,EAAKla,GAAKuc,EAC3BI,GAAOH,EAAItC,EAAKF,EAAKha,GAAKuc,EAC1BK,IAAQJ,EAAIxC,EAAKE,EAAKla,GAAKuc,EAC3BM,EAAMJ,EAAMJ,EACZS,EAAMJ,EAAMJ,EACZS,EAAMJ,EAAMN,EACZW,EAAMJ,EAAMN,EAMhB,OAFIO,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,IAAKP,EAAME,EAAKD,EAAME,GAE7D,CACLK,GAAIR,EACJS,GAAIR,EACJ/D,KAAMsD,EACNrD,KAAMsD,EACNC,IAAKM,GAAOX,EAAKnL,EAAI,GACrByL,IAAKM,GAAOZ,EAAKnL,EAAI,IAIV,iBACb,IAAImK,EAAcD,EACdG,EAAcD,EACdoC,EAAeC,EAAS,GACxBC,EAAY,KACZnC,EAAaD,EACbG,EAAWD,EACXtL,EAAWwL,EACXiC,EAAU,KAEd,SAAS1D,IACP,IAAI2D,EACA5M,EACA6M,GAAM1C,EAAY7Z,MAAM9T,KAAM+T,WAC9B4a,GAAMd,EAAY/Z,MAAM9T,KAAM+T,WAC9B2Y,EAAKqB,EAAWja,MAAM9T,KAAM+T,WAAayZ,EACzCb,EAAKsB,EAASna,MAAM9T,KAAM+T,WAAayZ,EACvCN,EAAKtB,EAAIe,EAAKD,GACdO,EAAKN,EAAKD,EAQd,GANKyD,IAASA,EAAUC,EAAS,KAG7BzB,EAAK0B,IAAI7M,EAAImL,EAAIA,EAAK0B,EAAIA,EAAK7M,GAG7BmL,ED9FW,MCiGZ,GAAIzB,EAAK,EDjGG,MCkGfiD,EAAQzF,OAAOiE,EAAK7B,EAAIJ,GAAKiC,EAAK3B,EAAIN,IACtCyD,EAAQ1D,IAAI,EAAG,EAAGkC,EAAIjC,EAAIC,GAAKM,GAC3BoD,EDpGW,QCqGbF,EAAQzF,OAAO2F,EAAKvD,EAAIH,GAAK0D,EAAKrD,EAAIL,IACtCwD,EAAQ1D,IAAI,EAAG,EAAG4D,EAAI1D,EAAID,EAAIO,QAK7B,CACH,IAWIqD,EACAC,EAZAC,EAAM9D,EACN+D,EAAM9D,EACN+D,EAAMhE,EACNiE,EAAMhE,EACNiE,EAAM1D,EACN2D,EAAM3D,EACN4D,EAAKpO,EAAS5O,MAAM9T,KAAM+T,WAAa,EACvCgd,EAAMD,EDnHK,QCmHaZ,GAAaA,EAAUpc,MAAM9T,KAAM+T,WAAamY,EAAKmE,EAAKA,EAAK1B,EAAKA,IAC5FC,EAAKrB,EAAI3B,EAAI+C,EAAK0B,GAAM,GAAIL,EAAalc,MAAM9T,KAAM+T,YACrDid,EAAMpC,EACNqC,EAAMrC,EAKV,GAAImC,ED3HW,MC2HG,CAChB,IAAIG,EAAKzD,EAAKsD,EAAKV,EAAKrD,EAAI8D,IACxBK,EAAK1D,EAAKsD,EAAKpC,EAAK3B,EAAI8D,KACvBF,GAAY,EAALM,GD9HC,OC8HuCR,GAArBQ,GAAOjE,EAAK,GAAK,EAAe0D,GAAOO,IACjEN,EAAM,EAAGF,EAAMC,GAAOjE,EAAKC,GAAM,IACjCkE,GAAY,EAALM,GDhIC,OCgIuCX,GAArBW,GAAOlE,EAAK,GAAK,EAAewD,GAAOU,IACjEN,EAAM,EAAGL,EAAMC,GAAO/D,EAAKC,GAAM,GAGxC,IAAInB,EAAMmD,EAAK7B,EAAI0D,GACf/E,EAAMkD,EAAK3B,EAAIwD,GACflC,EAAM+B,EAAKvD,EAAI6D,GACfpC,EAAM8B,EAAKrD,EAAI2D,GAGnB,GAAI/B,ED1IW,MC0IG,CAChB,IAIIwC,EAJApC,EAAML,EAAK7B,EAAI2D,GACfxB,EAAMN,EAAK3B,EAAIyD,GACfvB,EAAMmB,EAAKvD,EAAI4D,GACfvB,EAAMkB,EAAKrD,EAAI0D,GAInB,GAAIxD,EAAK,IAAOkE,EAAKjD,EAAU3C,EAAKC,EAAKyD,EAAKC,EAAKH,EAAKC,EAAKX,EAAKC,IAAO,CACvE,IAAI8C,GAAK7F,EAAM4F,EAAG,GACdE,GAAK7F,EAAM2F,EAAG,GACdG,GAAKvC,EAAMoC,EAAG,GACdI,GAAKvC,EAAMmC,EAAG,GACdK,GAAK,EAAIzE,EAAIV,GAAM+E,GAAKE,GAAKD,GAAKE,KAAOtF,EAAKmF,GAAKA,GAAKC,GAAKA,IAAMpF,EAAKqF,GAAKA,GAAKC,GAAKA,MAAQ,GAC/FE,GAAKxF,EAAKkF,EAAG,GAAKA,EAAG,GAAKA,EAAG,GAAKA,EAAG,IACzCJ,EAAMzD,EAAIqB,GAAKyB,EAAKqB,KAAOD,GAAK,IAChCR,EAAM1D,EAAIqB,GAAKD,EAAK+C,KAAOD,GAAK,KAK9BZ,ED/JS,MCkKNI,EDlKM,OCmKbX,EAAK5B,EAAeQ,EAAKC,EAAK3D,EAAKC,EAAKkD,EAAIsC,EAAKhE,GACjDsD,EAAK7B,EAAeM,EAAKC,EAAKX,EAAKC,EAAKI,EAAIsC,EAAKhE,GAEjDkD,EAAQzF,OAAO4F,EAAGR,GAAKQ,EAAG9E,IAAK8E,EAAGP,GAAKO,EAAG7E,KAGtCwF,EAAMrC,EAAIuB,EAAQ1D,IAAI6D,EAAGR,GAAIQ,EAAGP,GAAIkB,EAAK3D,EAAMgD,EAAG7E,IAAK6E,EAAG9E,KAAM8B,EAAMiD,EAAG9E,IAAK8E,EAAG/E,MAAOyB,IAI1FkD,EAAQ1D,IAAI6D,EAAGR,GAAIQ,EAAGP,GAAIkB,EAAK3D,EAAMgD,EAAG7E,IAAK6E,EAAG9E,KAAM8B,EAAMgD,EAAGrB,IAAKqB,EAAGtB,MAAO/B,GAC9EkD,EAAQ1D,IAAI,EAAG,EAAGkC,EAAIrB,EAAMgD,EAAGP,GAAKO,EAAGrB,IAAKqB,EAAGR,GAAKQ,EAAGtB,KAAM1B,EAAMiD,EAAGR,GAAKQ,EAAGtB,IAAKsB,EAAGT,GAAKS,EAAGvB,MAAO/B,GACrGkD,EAAQ1D,IAAI8D,EAAGT,GAAIS,EAAGR,GAAIkB,EAAK3D,EAAMiD,EAAGtB,IAAKsB,EAAGvB,KAAM1B,EAAMiD,EAAG9E,IAAK8E,EAAG/E,MAAOyB,MAK7EkD,EAAQzF,OAAOc,EAAKC,GAAM0E,EAAQ1D,IAAI,EAAG,EAAGkC,EAAI6B,EAAKC,GAAMxD,IArB1CkD,EAAQzF,OAAOc,EAAKC,GAyBpC4E,EDxLS,OCwLUO,EDxLV,MC2LNI,ED3LM,OC4LbV,EAAK5B,EAAeJ,EAAKC,EAAKS,EAAKC,EAAKoB,GAAKW,EAAK/D,GAClDsD,EAAK7B,EAAelD,EAAKC,EAAKyD,EAAKC,EAAKkB,GAAKW,EAAK/D,GAElDkD,EAAQvF,OAAO0F,EAAGR,GAAKQ,EAAG9E,IAAK8E,EAAGP,GAAKO,EAAG7E,KAGtCuF,EAAMpC,EAAIuB,EAAQ1D,IAAI6D,EAAGR,GAAIQ,EAAGP,GAAIiB,EAAK1D,EAAMgD,EAAG7E,IAAK6E,EAAG9E,KAAM8B,EAAMiD,EAAG9E,IAAK8E,EAAG/E,MAAOyB,IAI1FkD,EAAQ1D,IAAI6D,EAAGR,GAAIQ,EAAGP,GAAIiB,EAAK1D,EAAMgD,EAAG7E,IAAK6E,EAAG9E,KAAM8B,EAAMgD,EAAGrB,IAAKqB,EAAGtB,MAAO/B,GAC9EkD,EAAQ1D,IAAI,EAAG,EAAG4D,EAAI/C,EAAMgD,EAAGP,GAAKO,EAAGrB,IAAKqB,EAAGR,GAAKQ,EAAGtB,KAAM1B,EAAMiD,EAAGR,GAAKQ,EAAGtB,IAAKsB,EAAGT,GAAKS,EAAGvB,KAAM/B,GACpGkD,EAAQ1D,IAAI8D,EAAGT,GAAIS,EAAGR,GAAIiB,EAAK1D,EAAMiD,EAAGtB,IAAKsB,EAAGvB,KAAM1B,EAAMiD,EAAG9E,IAAK8E,EAAG/E,MAAOyB,KAK7EkD,EAAQ1D,IAAI,EAAG,EAAG4D,EAAIM,EAAKD,EAAKzD,GArBIkD,EAAQvF,OAAO0D,EAAKC,QA1F1C4B,EAAQzF,OAAO,EAAG,GAoHvC,GAFAyF,EAAQxF,YAEJyF,EAAQ,OAAOD,EAAU,KAAMC,EAAS,IAAM,KAyCpD,OAtCA3D,EAAIkF,SAAW,WACb,IAAInO,IAAMmK,EAAY7Z,MAAM9T,KAAM+T,aAAc8Z,EAAY/Z,MAAM9T,KAAM+T,YAAc,EAClFpM,IAAMomB,EAAWja,MAAM9T,KAAM+T,aAAcka,EAASna,MAAM9T,KAAM+T,YAAc,EAAI,EAAK,EAC3F,MAAO,CAAC+Y,EAAInlB,GAAK6b,EAAGwJ,EAAIrlB,GAAK6b,IAG/BiJ,EAAIkB,YAAc,SAASnD,GACzB,OAAOzW,UAAU/O,QAAU2oB,EAA2B,mBAANnD,EAAmBA,EAAIyF,GAAUzF,GAAIiC,GAAOkB,GAG9FlB,EAAIoB,YAAc,SAASrD,GACzB,OAAOzW,UAAU/O,QAAU6oB,EAA2B,mBAANrD,EAAmBA,EAAIyF,GAAUzF,GAAIiC,GAAOoB,GAG9FpB,EAAIuD,aAAe,SAASxF,GAC1B,OAAOzW,UAAU/O,QAAUgrB,EAA4B,mBAANxF,EAAmBA,EAAIyF,GAAUzF,GAAIiC,GAAOuD,GAG/FvD,EAAIyD,UAAY,SAAS1F,GACvB,OAAOzW,UAAU/O,QAAUkrB,EAAiB,MAAL1F,EAAY,KAAoB,mBAANA,EAAmBA,EAAIyF,GAAUzF,GAAIiC,GAAOyD,GAG/GzD,EAAIsB,WAAa,SAASvD,GACxB,OAAOzW,UAAU/O,QAAU+oB,EAA0B,mBAANvD,EAAmBA,EAAIyF,GAAUzF,GAAIiC,GAAOsB,GAG7FtB,EAAIwB,SAAW,SAASzD,GACtB,OAAOzW,UAAU/O,QAAUipB,EAAwB,mBAANzD,EAAmBA,EAAIyF,GAAUzF,GAAIiC,GAAOwB,GAG3FxB,EAAI/J,SAAW,SAAS8H,GACtB,OAAOzW,UAAU/O,QAAU0d,EAAwB,mBAAN8H,EAAmBA,EAAIyF,GAAUzF,GAAIiC,GAAO/J,GAG3F+J,EAAI0D,QAAU,SAAS3F,GACrB,OAAOzW,UAAU/O,QAAWmrB,EAAe,MAAL3F,EAAY,KAAOA,EAAIiC,GAAO0D,GAG/D1D,GCnQT,SAASmF,EAAOzB,GACdnwB,KAAK6xB,SAAW1B,EAGlByB,EAAOve,UAAY,CACjBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKmyB,OAAS,GAEhBC,QAAS,YACHpyB,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO3N,EAAGd,GAAKnc,KAAK6xB,SAASnH,OAAOzN,EAAGd,GAAI,MAC/F,KAAK,EAAGnc,KAAKmyB,OAAS,EACtB,QAASnyB,KAAK6xB,SAASjH,OAAO3N,EAAGd,MAKxB,kBACb,OAAO,IAAIyV,EAAOzB,IC7Bb,SAAS,EAAEjiB,GAChB,OAAOA,EAAE,GAGJ,SAAS,EAAEA,GAChB,OAAOA,EAAE,GCAI,iBACb,IAAI+O,EAAI,EACJd,EAAI,EACJkW,EAAUpC,GAAS,GACnBE,EAAU,KACVmC,EAAQ,EACRC,EAAS,KAEb,SAASC,EAAKvW,GACZ,IAAI7c,EAEAyT,EAEAud,EAHAtZ,EAAImF,EAAKjX,OAETytB,GAAW,EAKf,IAFe,MAAXtC,IAAiBoC,EAASD,EAAMlC,EAAS,MAExChxB,EAAI,EAAGA,GAAK0X,IAAK1X,IACdA,EAAI0X,GAAKub,EAAQxf,EAAIoJ,EAAK7c,GAAIA,EAAG6c,MAAWwW,KAC5CA,GAAYA,GAAUF,EAAOL,YAC5BK,EAAOH,WAEVK,GAAUF,EAAOrW,OAAOe,EAAEpK,EAAGzT,EAAG6c,IAAQE,EAAEtJ,EAAGzT,EAAG6c,IAGtD,GAAImU,EAAQ,OAAOmC,EAAS,KAAMnC,EAAS,IAAM,KAuBnD,OApBAoC,EAAKvV,EAAI,SAASuN,GAChB,OAAOzW,UAAU/O,QAAUiY,EAAiB,mBAANuN,EAAmBA,EAAIyF,GAAUzF,GAAIgI,GAAQvV,GAGrFuV,EAAKrW,EAAI,SAASqO,GAChB,OAAOzW,UAAU/O,QAAUmX,EAAiB,mBAANqO,EAAmBA,EAAIyF,GAAUzF,GAAIgI,GAAQrW,GAGrFqW,EAAKH,QAAU,SAAS7H,GACtB,OAAOzW,UAAU/O,QAAUqtB,EAAuB,mBAAN7H,EAAmBA,EAAIyF,IAAWzF,GAAIgI,GAAQH,GAG5FG,EAAKF,MAAQ,SAAS9H,GACpB,OAAOzW,UAAU/O,QAAUstB,EAAQ9H,EAAc,MAAX2F,IAAoBoC,EAASD,EAAMnC,IAAWqC,GAAQF,GAG9FE,EAAKrC,QAAU,SAAS3F,GACtB,OAAOzW,UAAU/O,QAAe,MAALwlB,EAAY2F,EAAUoC,EAAS,KAAOA,EAASD,EAAMnC,EAAU3F,GAAIgI,GAAQrC,GAGjGqC,GC/CM,aACb,IAAIpH,EAAK,EACLN,EAAK,KACLO,EAAK4E,EAAS,GACdlF,EAAK,EACLsH,EAAUpC,GAAS,GACnBE,EAAU,KACVmC,EAAQ,EACRC,EAAS,KAEb,SAASG,EAAKzW,GACZ,IAAI7c,EACAuzB,EACAC,EAEA/f,EAEAud,EAHAtZ,EAAImF,EAAKjX,OAETytB,GAAW,EAEXI,EAAM,IAAI5f,MAAM6D,GAChBgc,EAAM,IAAI7f,MAAM6D,GAIpB,IAFe,MAAXqZ,IAAiBoC,EAASD,EAAMlC,EAAS,MAExChxB,EAAI,EAAGA,GAAK0X,IAAK1X,EAAG,CACvB,KAAMA,EAAI0X,GAAKub,EAAQxf,EAAIoJ,EAAK7c,GAAIA,EAAG6c,MAAWwW,EAChD,GAAIA,GAAYA,EACdE,EAAIvzB,EACJmzB,EAAOT,YACPS,EAAOL,gBACF,CAGL,IAFAK,EAAOH,UACPG,EAAOL,YACFU,EAAIxzB,EAAI,EAAGwzB,GAAKD,IAAKC,EACxBL,EAAOrW,MAAM2W,EAAID,GAAIE,EAAIF,IAE3BL,EAAOH,UACPG,EAAOP,UAGPS,IACFI,EAAIzzB,IAAMgsB,EAAGvY,EAAGzT,EAAG6c,GAAO6W,EAAI1zB,IAAMisB,EAAGxY,EAAGzT,EAAG6c,GAC7CsW,EAAOrW,MAAM4O,GAAMA,EAAGjY,EAAGzT,EAAG6c,GAAQ4W,EAAIzzB,GAAI2rB,GAAMA,EAAGlY,EAAGzT,EAAG6c,GAAQ6W,EAAI1zB,KAI3E,GAAIgxB,EAAQ,OAAOmC,EAAS,KAAMnC,EAAS,IAAM,KAGnD,SAAS2C,IACP,OAAO,IAAOV,QAAQA,GAASC,MAAMA,GAAOnC,QAAQA,GAoDtD,OAjDAuC,EAAKzV,EAAI,SAASuN,GAChB,OAAOzW,UAAU/O,QAAUomB,EAAkB,mBAANZ,EAAmBA,EAAIyF,GAAUzF,GAAIM,EAAK,KAAM4H,GAAQtH,GAGjGsH,EAAKtH,GAAK,SAASZ,GACjB,OAAOzW,UAAU/O,QAAUomB,EAAkB,mBAANZ,EAAmBA,EAAIyF,GAAUzF,GAAIkI,GAAQtH,GAGtFsH,EAAK5H,GAAK,SAASN,GACjB,OAAOzW,UAAU/O,QAAU8lB,EAAU,MAALN,EAAY,KAAoB,mBAANA,EAAmBA,EAAIyF,GAAUzF,GAAIkI,GAAQ5H,GAGzG4H,EAAKvW,EAAI,SAASqO,GAChB,OAAOzW,UAAU/O,QAAUqmB,EAAkB,mBAANb,EAAmBA,EAAIyF,GAAUzF,GAAIO,EAAK,KAAM2H,GAAQrH,GAGjGqH,EAAKrH,GAAK,SAASb,GACjB,OAAOzW,UAAU/O,QAAUqmB,EAAkB,mBAANb,EAAmBA,EAAIyF,GAAUzF,GAAIkI,GAAQrH,GAGtFqH,EAAK3H,GAAK,SAASP,GACjB,OAAOzW,UAAU/O,QAAU+lB,EAAU,MAALP,EAAY,KAAoB,mBAANA,EAAmBA,EAAIyF,GAAUzF,GAAIkI,GAAQ3H,GAGzG2H,EAAKM,OACLN,EAAKO,OAAS,WACZ,OAAOF,IAAW9V,EAAEmO,GAAIjP,EAAEkP,IAG5BqH,EAAKQ,OAAS,WACZ,OAAOH,IAAW9V,EAAEmO,GAAIjP,EAAE4O,IAG5B2H,EAAKS,OAAS,WACZ,OAAOJ,IAAW9V,EAAE6N,GAAI3O,EAAEkP,IAG5BqH,EAAKL,QAAU,SAAS7H,GACtB,OAAOzW,UAAU/O,QAAUqtB,EAAuB,mBAAN7H,EAAmBA,EAAIyF,IAAWzF,GAAIkI,GAAQL,GAG5FK,EAAKJ,MAAQ,SAAS9H,GACpB,OAAOzW,UAAU/O,QAAUstB,EAAQ9H,EAAc,MAAX2F,IAAoBoC,EAASD,EAAMnC,IAAWuC,GAAQJ,GAG9FI,EAAKvC,QAAU,SAAS3F,GACtB,OAAOzW,UAAU/O,QAAe,MAALwlB,EAAY2F,EAAUoC,EAAS,KAAOA,EAASD,EAAMnC,EAAU3F,GAAIkI,GAAQvC,GAGjGuC,GC3GM,gBACb,OAAO5f,EAAInL,GAAK,EAAImL,EAAInL,EAAI,EAAImL,GAAKnL,EAAI,EAAIsqB,KCDhC,cACb,OAAOpf,GCIM,aACb,IAAIvS,EAAQ8yB,EACRC,EAAaC,EACbC,EAAO,KACPxF,EAAakC,EAAS,GACtBhC,EAAWgC,EAAS,GACpBvN,EAAWuN,EAAS,GAExB,SAASuD,EAAIvX,GACX,IAAI7c,EAEAuzB,EACAC,EAMAjG,EAGA8G,EAXA3c,EAAImF,EAAKjX,OAGT0uB,EAAM,EACN1d,EAAQ,IAAI/C,MAAM6D,GAClB6c,EAAO,IAAI1gB,MAAM6D,GACjB4V,GAAMqB,EAAWja,MAAM9T,KAAM+T,WAC7BmZ,EAAKlL,KAAKuL,IAAI,EAAKvL,KAAKC,KAAK,EAAKgM,EAASna,MAAM9T,KAAM+T,WAAa2Y,IAEpExe,EAAI8T,KAAKuL,IAAIvL,KAAK4J,IAAIsB,GAAMpW,EAAG4L,EAAS5O,MAAM9T,KAAM+T,YACpD6f,EAAK1lB,GAAKgf,EAAK,GAAK,EAAI,GAG5B,IAAK9tB,EAAI,EAAGA,EAAI0X,IAAK1X,GACdq0B,EAAIE,EAAK3d,EAAM5W,GAAKA,IAAMkB,EAAM2b,EAAK7c,GAAIA,EAAG6c,IAAS,IACxDyX,GAAOD,GASX,IAJkB,MAAdJ,EAAoBrd,EAAMud,MAAK,SAASn0B,EAAGuzB,GAAK,OAAOU,EAAWM,EAAKv0B,GAAIu0B,EAAKhB,OACnE,MAARY,GAAcvd,EAAMud,MAAK,SAASn0B,EAAGuzB,GAAK,OAAOY,EAAKtX,EAAK7c,GAAI6c,EAAK0W,OAGxEvzB,EAAI,EAAGwzB,EAAIc,GAAOxG,EAAKpW,EAAI8c,GAAMF,EAAM,EAAGt0B,EAAI0X,IAAK1X,EAAGstB,EAAKC,EAC9DgG,EAAI3c,EAAM5W,GAAiButB,EAAKD,IAAlB+G,EAAIE,EAAKhB,IAAmB,EAAIc,EAAIb,EAAI,GAAKgB,EAAID,EAAKhB,GAAK,CACvE1W,KAAMA,EAAK0W,GACX3c,MAAO5W,EACPkB,MAAOmzB,EACP1F,WAAYrB,EACZuB,SAAUtB,EACVjK,SAAUxU,GAId,OAAOylB,EA2BT,OAxBAH,EAAIlzB,MAAQ,SAASkqB,GACnB,OAAOzW,UAAU/O,QAAU1E,EAAqB,mBAANkqB,EAAmBA,EAAIyF,GAAUzF,GAAIgJ,GAAOlzB,GAGxFkzB,EAAIH,WAAa,SAAS7I,GACxB,OAAOzW,UAAU/O,QAAUquB,EAAa7I,EAAG+I,EAAO,KAAMC,GAAOH,GAGjEG,EAAID,KAAO,SAAS/I,GAClB,OAAOzW,UAAU/O,QAAUuuB,EAAO/I,EAAG6I,EAAa,KAAMG,GAAOD,GAGjEC,EAAIzF,WAAa,SAASvD,GACxB,OAAOzW,UAAU/O,QAAU+oB,EAA0B,mBAANvD,EAAmBA,EAAIyF,GAAUzF,GAAIgJ,GAAOzF,GAG7FyF,EAAIvF,SAAW,SAASzD,GACtB,OAAOzW,UAAU/O,QAAUipB,EAAwB,mBAANzD,EAAmBA,EAAIyF,GAAUzF,GAAIgJ,GAAOvF,GAG3FuF,EAAI9Q,SAAW,SAAS8H,GACtB,OAAOzW,UAAU/O,QAAU0d,EAAwB,mBAAN8H,EAAmBA,EAAIyF,GAAUzF,GAAIgJ,GAAO9Q,GAGpF8Q,GC3EEK,EAAoBC,EAAY,GAE3C,SAASC,EAAOzB,GACdtyB,KAAKg0B,OAAS1B,EAqBD,SAASwB,EAAYxB,GAElC,SAAS2B,EAAO9D,GACd,OAAO,IAAI4D,EAAOzB,EAAMnC,IAK1B,OAFA8D,EAAOD,OAAS1B,EAET2B,EC/BF,SAASC,EAAW9H,GACzB,IAAI5e,EAAI4e,EAAEkG,MASV,OAPAlG,EAAE+H,MAAQ/H,EAAEnP,SAAUmP,EAAEnP,EACxBmP,EAAEgI,OAAShI,EAAEjQ,SAAUiQ,EAAEjQ,EAEzBiQ,EAAEkG,MAAQ,SAAS9H,GACjB,OAAOzW,UAAU/O,OAASwI,EAAEsmB,EAAYtJ,IAAMhd,IAAIwmB,QAG7C5H,EDLT2H,EAAO1gB,UAAY,CACjBye,UAAW,WACT9xB,KAAKg0B,OAAOlC,aAEdE,QAAS,WACPhyB,KAAKg0B,OAAOhC,WAEdE,UAAW,WACTlyB,KAAKg0B,OAAO9B,aAEdE,QAAS,WACPpyB,KAAKg0B,OAAO5B,WAEdlW,MAAO,SAASvU,EAAG6b,GACjBxjB,KAAKg0B,OAAO9X,MAAMsH,EAAIxB,KAAKgL,IAAIrlB,GAAI6b,GAAKxB,KAAK8K,IAAInlB,MCNtC,iBACb,OAAOusB,EAAW,IAAO5B,MAAMuB,KCblB,aACb,IAAIlsB,EAAI,IAAO2qB,MAAMuB,GACjBrmB,EAAI7F,EAAE2qB,MACNlH,EAAKzjB,EAAEqrB,OACPlI,EAAKnjB,EAAEwrB,OACP9H,EAAK1jB,EAAEsrB,OACPlI,EAAKpjB,EAAEurB,OAiBX,OAfAvrB,EAAEwsB,MAAQxsB,EAAEsV,SAAUtV,EAAEsV,EACxBtV,EAAEomB,WAAapmB,EAAEyjB,UAAWzjB,EAAEyjB,GAC9BzjB,EAAEsmB,SAAWtmB,EAAEmjB,UAAWnjB,EAAEmjB,GAC5BnjB,EAAEysB,OAASzsB,EAAEwU,SAAUxU,EAAEwU,EACzBxU,EAAEgmB,YAAchmB,EAAE0jB,UAAW1jB,EAAE0jB,GAC/B1jB,EAAEkmB,YAAclmB,EAAEojB,UAAWpjB,EAAEojB,GAC/BpjB,EAAE0sB,eAAiB,WAAa,OAAOH,EAAW9I,aAAiBzjB,EAAEqrB,OACrErrB,EAAE2sB,aAAe,WAAa,OAAOJ,EAAWpJ,aAAiBnjB,EAAEwrB,OACnExrB,EAAE4sB,gBAAkB,WAAa,OAAOL,EAAW7I,aAAiB1jB,EAAEsrB,OACtEtrB,EAAE6sB,gBAAkB,WAAa,OAAON,EAAWnJ,aAAiBpjB,EAAEurB,OAEtEvrB,EAAE2qB,MAAQ,SAAS9H,GACjB,OAAOzW,UAAU/O,OAASwI,EAAEsmB,EAAYtJ,IAAMhd,IAAIwmB,QAG7CrsB,GC3BM,gBACb,MAAO,EAAEwU,GAAKA,GAAK6F,KAAK8K,IAAI7P,GAAK+E,KAAKgI,GAAK,GAAI7N,EAAI6F,KAAKgL,IAAI/P,KCDnD5X,EAAQ4N,MAAMI,UAAUhO,MCMnC,SAASovB,EAAW5hB,GAClB,OAAOA,EAAE6hB,OAGX,SAASC,EAAW9hB,GAClB,OAAOA,EAAE+hB,OAGX,SAAS,EAAKtC,GACZ,IAAIoC,EAASD,EACTG,EAASD,EACT1X,EAAI,EACJd,EAAI,EACJgU,EAAU,KAEd,SAAS/uB,IACP,IAAIgvB,EAAQyE,EAAOxvB,EAAM0R,KAAKhD,WAAYlG,EAAI6mB,EAAO5gB,MAAM9T,KAAM60B,GAAOhe,EAAI+d,EAAO9gB,MAAM9T,KAAM60B,GAG/F,GAFK1E,IAASA,EAAUC,EAAS,KACjCkC,EAAMnC,GAAUlT,EAAEnJ,MAAM9T,MAAO60B,EAAK,GAAKhnB,EAAGgnB,KAAS1Y,EAAErI,MAAM9T,KAAM60B,IAAQ5X,EAAEnJ,MAAM9T,MAAO60B,EAAK,GAAKhe,EAAGge,KAAS1Y,EAAErI,MAAM9T,KAAM60B,IAC1HzE,EAAQ,OAAOD,EAAU,KAAMC,EAAS,IAAM,KAuBpD,OApBAhvB,EAAKszB,OAAS,SAASlK,GACrB,OAAOzW,UAAU/O,QAAU0vB,EAASlK,EAAGppB,GAAQszB,GAGjDtzB,EAAKwzB,OAAS,SAASpK,GACrB,OAAOzW,UAAU/O,QAAU4vB,EAASpK,EAAGppB,GAAQwzB,GAGjDxzB,EAAK6b,EAAI,SAASuN,GAChB,OAAOzW,UAAU/O,QAAUiY,EAAiB,mBAANuN,EAAmBA,EAAIyF,GAAUzF,GAAIppB,GAAQ6b,GAGrF7b,EAAK+a,EAAI,SAASqO,GAChB,OAAOzW,UAAU/O,QAAUmX,EAAiB,mBAANqO,EAAmBA,EAAIyF,GAAUzF,GAAIppB,GAAQ+a,GAGrF/a,EAAK+uB,QAAU,SAAS3F,GACtB,OAAOzW,UAAU/O,QAAWmrB,EAAe,MAAL3F,EAAY,KAAOA,EAAIppB,GAAQ+uB,GAGhE/uB,EAGT,SAAS0zB,EAAgB3E,EAAS/E,EAAIC,EAAIP,EAAIC,GAC5CoF,EAAQzF,OAAOU,EAAIC,GACnB8E,EAAQnF,cAAcI,GAAMA,EAAKN,GAAM,EAAGO,EAAID,EAAIL,EAAID,EAAIC,GAG5D,SAASgK,EAAc5E,EAAS/E,EAAIC,EAAIP,EAAIC,GAC1CoF,EAAQzF,OAAOU,EAAIC,GACnB8E,EAAQnF,cAAcI,EAAIC,GAAMA,EAAKN,GAAM,EAAGD,EAAIO,EAAIP,EAAIC,GAG5D,SAAS,EAAYoF,EAAS/E,EAAIC,EAAIP,EAAIC,GACxC,IAAImG,EAAK8D,EAAY5J,EAAIC,GACrB8F,EAAK6D,EAAY5J,EAAIC,GAAMA,EAAKN,GAAM,GACtCkK,EAAKD,EAAYlK,EAAIO,GACrB6J,EAAKF,EAAYlK,EAAIC,GACzBoF,EAAQzF,OAAOwG,EAAG,GAAIA,EAAG,IACzBf,EAAQnF,cAAcmG,EAAG,GAAIA,EAAG,GAAI8D,EAAG,GAAIA,EAAG,GAAIC,EAAG,GAAIA,EAAG,IAGvD,SAASC,IACd,OAAO,EAAKL,GAGP,SAASM,KACd,OAAO,EAAKL,GAGP,SAASM,KACd,IAAIjJ,EAAI,EAAK,GAGb,OAFAA,EAAE+H,MAAQ/H,EAAEnP,SAAUmP,EAAEnP,EACxBmP,EAAEgI,OAAShI,EAAEjQ,SAAUiQ,EAAEjQ,EAClBiQ,EChFM,QACbkJ,KAAM,SAASnF,EAASjvB,GACtB,IAAIsiB,EAAIxB,KAAKkK,KAAKhrB,EAAO,GACzBivB,EAAQzF,OAAOlH,EAAG,GAClB2M,EAAQ1D,IAAI,EAAG,EAAGjJ,EAAG,EAAG,KCNb,IACb8R,KAAM,SAASnF,EAASjvB,GACtB,IAAIsiB,EAAIxB,KAAKkK,KAAKhrB,EAAO,GAAK,EAC9BivB,EAAQzF,QAAQ,EAAIlH,GAAIA,GACxB2M,EAAQvF,QAAQpH,GAAIA,GACpB2M,EAAQvF,QAAQpH,GAAI,EAAIA,GACxB2M,EAAQvF,OAAOpH,GAAI,EAAIA,GACvB2M,EAAQvF,OAAOpH,GAAIA,GACnB2M,EAAQvF,OAAO,EAAIpH,GAAIA,GACvB2M,EAAQvF,OAAO,EAAIpH,EAAGA,GACtB2M,EAAQvF,OAAOpH,EAAGA,GAClB2M,EAAQvF,OAAOpH,EAAG,EAAIA,GACtB2M,EAAQvF,QAAQpH,EAAG,EAAIA,GACvB2M,EAAQvF,QAAQpH,EAAGA,GACnB2M,EAAQvF,QAAQ,EAAIpH,EAAGA,GACvB2M,EAAQxF,cCfR4K,GAAQvT,KAAKkK,KAAK,EAAI,GACtBsJ,GAAkB,EAARD,GAEC,IACbD,KAAM,SAASnF,EAASjvB,GACtB,IAAIib,EAAI6F,KAAKkK,KAAKhrB,EAAOs0B,IACrBvY,EAAId,EAAIoZ,GACZpF,EAAQzF,OAAO,GAAIvO,GACnBgU,EAAQvF,OAAO3N,EAAG,GAClBkT,EAAQvF,OAAO,EAAGzO,GAClBgU,EAAQvF,QAAQ3N,EAAG,GACnBkT,EAAQxF,cCRR8K,GAAKzT,KAAKgL,IAAI,EAAK,IAAMhL,KAAKgL,IAAI,EAAI,EAAK,IAC3C0I,GAAK1T,KAAKgL,IAAI,EAAM,IAAMyI,GAC1BE,IAAM3T,KAAK8K,IAAI,EAAM,IAAM2I,GAEhB,IACbH,KAAM,SAASnF,EAASjvB,GACtB,IAAIsiB,EAAIxB,KAAKkK,KAPR,kBAOahrB,GACd+b,EAAIyY,GAAKlS,EACTrH,EAAIwZ,GAAKnS,EACb2M,EAAQzF,OAAO,GAAIlH,GACnB2M,EAAQvF,OAAO3N,EAAGd,GAClB,IAAK,IAAI/c,EAAI,EAAGA,EAAI,IAAKA,EAAG,CAC1B,IAAIuI,EAAI,EAAMvI,EAAI,EACdoO,EAAIwU,KAAK8K,IAAInlB,GACbkG,EAAImU,KAAKgL,IAAIrlB,GACjBwoB,EAAQvF,OAAO/c,EAAI2V,GAAIhW,EAAIgW,GAC3B2M,EAAQvF,OAAOpd,EAAIyP,EAAIpP,EAAIsO,EAAGtO,EAAIoP,EAAIzP,EAAI2O,GAE5CgU,EAAQxF,cCrBG,IACb2K,KAAM,SAASnF,EAASjvB,GACtB,IAAIksB,EAAIpL,KAAKkK,KAAKhrB,GACd+b,GAAKmQ,EAAI,EACb+C,EAAQhD,KAAKlQ,EAAGA,EAAGmQ,EAAGA,KCJtBwI,GAAQ5T,KAAKkK,KAAK,GAEP,IACboJ,KAAM,SAASnF,EAASjvB,GACtB,IAAIib,GAAK6F,KAAKkK,KAAKhrB,GAAgB,EAAR00B,KAC3BzF,EAAQzF,OAAO,EAAO,EAAJvO,GAClBgU,EAAQvF,QAAQgL,GAAQzZ,GAAIA,GAC5BgU,EAAQvF,OAAOgL,GAAQzZ,GAAIA,GAC3BgU,EAAQxF,cCPR,GAAI3I,KAAKkK,KAAK,GAAK,EACnB,GAAI,EAAIlK,KAAKkK,KAAK,IAClB,GAAkB,GAAb,GAAI,EAAI,GAEF,IACboJ,KAAM,SAASnF,EAASjvB,GACtB,IAAIsiB,EAAIxB,KAAKkK,KAAKhrB,EAAO,IACrBkqB,EAAK5H,EAAI,EACT6H,EAAK7H,EAAI,GACTsH,EAAKM,EACLL,EAAKvH,EAAI,GAAIA,EACbyH,GAAMH,EACNI,EAAKH,EACToF,EAAQzF,OAAOU,EAAIC,GACnB8E,EAAQvF,OAAOE,EAAIC,GACnBoF,EAAQvF,OAAOK,EAAIC,GACnBiF,EAAQvF,QAjBJ,GAiBeQ,EAAK,GAAIC,EAAI,GAAID,GAjBhC,GAiByCC,GAC7C8E,EAAQvF,QAlBJ,GAkBeE,EAAK,GAAIC,EAAI,GAAID,GAlBhC,GAkByCC,GAC7CoF,EAAQvF,QAnBJ,GAmBeK,EAAK,GAAIC,EAAI,GAAID,GAnBhC,GAmByCC,GAC7CiF,EAAQvF,QApBJ,GAoBeQ,EAAK,GAAIC,GApBxB,GAoBgCA,EAAK,GAAID,GAC7C+E,EAAQvF,QArBJ,GAqBeE,EAAK,GAAIC,GArBxB,GAqBgCA,EAAK,GAAID,GAC7CqF,EAAQvF,QAtBJ,GAsBeK,EAAK,GAAIC,GAtBxB,GAsBgCA,EAAK,GAAID,GAC7CkF,EAAQxF,cCbDkL,GAAU,CACnBC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,IAGa,cACb,IAAIt2B,EAAOmwB,EAAS6F,IAChB50B,EAAO+uB,EAAS,IAChBE,EAAU,KAEd,SAASkG,IACP,IAAIjG,EAGJ,GAFKD,IAASA,EAAUC,EAAS,KACjCtwB,EAAKgU,MAAM9T,KAAM+T,WAAWuhB,KAAKnF,GAAUjvB,EAAK4S,MAAM9T,KAAM+T,YACxDqc,EAAQ,OAAOD,EAAU,KAAMC,EAAS,IAAM,KAepD,OAZAiG,EAAOv2B,KAAO,SAAS0qB,GACrB,OAAOzW,UAAU/O,QAAUlF,EAAoB,mBAAN0qB,EAAmBA,EAAIyF,EAASzF,GAAI6L,GAAUv2B,GAGzFu2B,EAAOn1B,KAAO,SAASspB,GACrB,OAAOzW,UAAU/O,QAAU9D,EAAoB,mBAANspB,EAAmBA,EAAIyF,GAAUzF,GAAI6L,GAAUn1B,GAG1Fm1B,EAAOlG,QAAU,SAAS3F,GACxB,OAAOzW,UAAU/O,QAAUmrB,EAAe,MAAL3F,EAAY,KAAOA,EAAG6L,GAAUlG,GAGhEkG,GC5CM,gBCAR,SAASna,GAAMoa,EAAMrZ,EAAGd,GAC7Bma,EAAKzE,SAAS7G,eACX,EAAIsL,EAAKlM,IAAMkM,EAAKhM,KAAO,GAC3B,EAAIgM,EAAKjM,IAAMiM,EAAK/L,KAAO,GAC3B+L,EAAKlM,IAAM,EAAIkM,EAAKhM,KAAO,GAC3BgM,EAAKjM,IAAM,EAAIiM,EAAK/L,KAAO,GAC3B+L,EAAKlM,IAAM,EAAIkM,EAAKhM,IAAMrN,GAAK,GAC/BqZ,EAAKjM,IAAM,EAAIiM,EAAK/L,IAAMpO,GAAK,GAI7B,SAASoa,GAAMpG,GACpBnwB,KAAK6xB,SAAW1B,EAGlBoG,GAAMljB,UAAY,CAChBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAChBtqB,KAAKqqB,IAAMrqB,KAAKuqB,IAAM0H,IACtBjyB,KAAKmyB,OAAS,GAEhBC,QAAS,WACP,OAAQpyB,KAAKmyB,QACX,KAAK,EAAGjW,GAAMlc,KAAMA,KAAKsqB,IAAKtqB,KAAKuqB,KACnC,KAAK,EAAGvqB,KAAK6xB,SAASjH,OAAO5qB,KAAKsqB,IAAKtqB,KAAKuqB,MAE1CvqB,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO3N,EAAGd,GAAKnc,KAAK6xB,SAASnH,OAAOzN,EAAGd,GAAI,MAC/F,KAAK,EAAGnc,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK6xB,SAASjH,QAAQ,EAAI5qB,KAAKoqB,IAAMpqB,KAAKsqB,KAAO,GAAI,EAAItqB,KAAKqqB,IAAMrqB,KAAKuqB,KAAO,GACzG,QAASrO,GAAMlc,KAAMid,EAAGd,GAE1Bnc,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMrN,EAChCjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMpO,IAIrB,mBACb,OAAO,IAAIoa,GAAMpG,IC9CnB,SAASqG,GAAYrG,GACnBnwB,KAAK6xB,SAAW1B,EAGlBqG,GAAYnjB,UAAY,CACtBye,UAAW2E,GACXzE,QAASyE,GACTvE,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAAMtqB,KAAK02B,IAAM12B,KAAK22B,IAAM32B,KAAK42B,IACjD52B,KAAKqqB,IAAMrqB,KAAKuqB,IAAMvqB,KAAK62B,IAAM72B,KAAK82B,IAAM92B,KAAK+2B,IAAM9E,IACvDjyB,KAAKmyB,OAAS,GAEhBC,QAAS,WACP,OAAQpyB,KAAKmyB,QACX,KAAK,EACHnyB,KAAK6xB,SAASnH,OAAO1qB,KAAK02B,IAAK12B,KAAK62B,KACpC72B,KAAK6xB,SAASlH,YACd,MAEF,KAAK,EACH3qB,KAAK6xB,SAASnH,QAAQ1qB,KAAK02B,IAAM,EAAI12B,KAAK22B,KAAO,GAAI32B,KAAK62B,IAAM,EAAI72B,KAAK82B,KAAO,GAChF92B,KAAK6xB,SAASjH,QAAQ5qB,KAAK22B,IAAM,EAAI32B,KAAK02B,KAAO,GAAI12B,KAAK82B,IAAM,EAAI92B,KAAK62B,KAAO,GAChF72B,KAAK6xB,SAASlH,YACd,MAEF,KAAK,EACH3qB,KAAKkc,MAAMlc,KAAK02B,IAAK12B,KAAK62B,KAC1B72B,KAAKkc,MAAMlc,KAAK22B,IAAK32B,KAAK82B,KAC1B92B,KAAKkc,MAAMlc,KAAK42B,IAAK52B,KAAK+2B,OAKhC7a,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK02B,IAAMzZ,EAAGjd,KAAK62B,IAAM1a,EAAG,MACrD,KAAK,EAAGnc,KAAKmyB,OAAS,EAAGnyB,KAAK22B,IAAM1Z,EAAGjd,KAAK82B,IAAM3a,EAAG,MACrD,KAAK,EAAGnc,KAAKmyB,OAAS,EAAGnyB,KAAK42B,IAAM3Z,EAAGjd,KAAK+2B,IAAM5a,EAAGnc,KAAK6xB,SAASnH,QAAQ1qB,KAAKoqB,IAAM,EAAIpqB,KAAKsqB,IAAMrN,GAAK,GAAIjd,KAAKqqB,IAAM,EAAIrqB,KAAKuqB,IAAMpO,GAAK,GAAI,MACjJ,QAASD,GAAMlc,KAAMid,EAAGd,GAE1Bnc,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMrN,EAChCjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMpO,IAIrB,mBACb,OAAO,IAAIqa,GAAYrG,IChDzB,SAAS6G,GAAU7G,GACjBnwB,KAAK6xB,SAAW1B,EAGlB6G,GAAU3jB,UAAY,CACpBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAChBtqB,KAAKqqB,IAAMrqB,KAAKuqB,IAAM0H,IACtBjyB,KAAKmyB,OAAS,GAEhBC,QAAS,YACHpyB,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,IAAI/G,GAAMprB,KAAKoqB,IAAM,EAAIpqB,KAAKsqB,IAAMrN,GAAK,EAAGoO,GAAMrrB,KAAKqqB,IAAM,EAAIrqB,KAAKuqB,IAAMpO,GAAK,EAAGnc,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAOQ,EAAIC,GAAMrrB,KAAK6xB,SAASnH,OAAOU,EAAIC,GAAK,MACvL,KAAK,EAAGrrB,KAAKmyB,OAAS,EACtB,QAASjW,GAAMlc,KAAMid,EAAGd,GAE1Bnc,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMrN,EAChCjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMpO,IAIrB,mBACb,OAAO,IAAI6a,GAAU7G,ICnCvB,SAAS8G,GAAO9G,EAAS+G,GACvBl3B,KAAKm3B,OAAS,IAAIZ,GAAMpG,GACxBnwB,KAAKo3B,MAAQF,EAGfD,GAAO5jB,UAAY,CACjB6e,UAAW,WACTlyB,KAAKq3B,GAAK,GACVr3B,KAAKs3B,GAAK,GACVt3B,KAAKm3B,OAAOjF,aAEdE,QAAS,WACP,IAAInV,EAAIjd,KAAKq3B,GACTlb,EAAInc,KAAKs3B,GACT3E,EAAI1V,EAAEjY,OAAS,EAEnB,GAAI2tB,EAAI,EAQN,IAPA,IAKI9b,EALAuU,EAAKnO,EAAE,GACPoO,EAAKlP,EAAE,GACP0Q,EAAK5P,EAAE0V,GAAKvH,EACZ2B,EAAK5Q,EAAEwW,GAAKtH,EACZjsB,GAAK,IAGAA,GAAKuzB,GACZ9b,EAAIzX,EAAIuzB,EACR3yB,KAAKm3B,OAAOjb,MACVlc,KAAKo3B,MAAQna,EAAE7d,IAAM,EAAIY,KAAKo3B,QAAUhM,EAAKvU,EAAIgW,GACjD7sB,KAAKo3B,MAAQjb,EAAE/c,IAAM,EAAIY,KAAKo3B,QAAU/L,EAAKxU,EAAIkW,IAKvD/sB,KAAKq3B,GAAKr3B,KAAKs3B,GAAK,KACpBt3B,KAAKm3B,OAAO/E,WAEdlW,MAAO,SAASe,EAAGd,GACjBnc,KAAKq3B,GAAG5xB,MAAMwX,GACdjd,KAAKs3B,GAAG7xB,MAAM0W,KAIH,qBAEb,SAASob,EAAOpH,GACd,OAAgB,IAAT+G,EAAa,IAAIX,GAAMpG,GAAW,IAAI8G,GAAO9G,EAAS+G,GAO/D,OAJAK,EAAOL,KAAO,SAASA,GACrB,OAAOtb,GAAQsb,IAGVK,EAVM,CAWZ,KCvDI,SAAS,GAAMjB,EAAMrZ,EAAGd,GAC7Bma,EAAKzE,SAAS7G,cACZsL,EAAKhM,IAAMgM,EAAKkB,IAAMlB,EAAKI,IAAMJ,EAAKlM,KACtCkM,EAAK/L,IAAM+L,EAAKkB,IAAMlB,EAAKO,IAAMP,EAAKjM,KACtCiM,EAAKI,IAAMJ,EAAKkB,IAAMlB,EAAKhM,IAAMrN,GACjCqZ,EAAKO,IAAMP,EAAKkB,IAAMlB,EAAK/L,IAAMpO,GACjCma,EAAKI,IACLJ,EAAKO,KAIF,SAASY,GAAStH,EAASuH,GAChC13B,KAAK6xB,SAAW1B,EAChBnwB,KAAKw3B,IAAM,EAAIE,GAAW,EAG5BD,GAASpkB,UAAY,CACnBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAAMtqB,KAAK02B,IAC3B12B,KAAKqqB,IAAMrqB,KAAKuqB,IAAMvqB,KAAK62B,IAAM5E,IACjCjyB,KAAKmyB,OAAS,GAEhBC,QAAS,WACP,OAAQpyB,KAAKmyB,QACX,KAAK,EAAGnyB,KAAK6xB,SAASjH,OAAO5qB,KAAK02B,IAAK12B,KAAK62B,KAAM,MAClD,KAAK,EAAG,GAAM72B,KAAMA,KAAKsqB,IAAKtqB,KAAKuqB,MAEjCvqB,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO3N,EAAGd,GAAKnc,KAAK6xB,SAASnH,OAAOzN,EAAGd,GAAI,MAC/F,KAAK,EAAGnc,KAAKmyB,OAAS,EAAGnyB,KAAKsqB,IAAMrN,EAAGjd,KAAKuqB,IAAMpO,EAAG,MACrD,KAAK,EAAGnc,KAAKmyB,OAAS,EACtB,QAAS,GAAMnyB,KAAMid,EAAGd,GAE1Bnc,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMtqB,KAAK02B,IAAK12B,KAAK02B,IAAMzZ,EACrDjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMvqB,KAAK62B,IAAK72B,KAAK62B,IAAM1a,IAI1C,qBAEb,SAASwb,EAASxH,GAChB,OAAO,IAAIsH,GAAStH,EAASuH,GAO/B,OAJAC,EAASD,QAAU,SAASA,GAC1B,OAAO9b,GAAQ8b,IAGVC,EAVM,CAWZ,GCzDI,SAASC,GAAezH,EAASuH,GACtC13B,KAAK6xB,SAAW1B,EAChBnwB,KAAKw3B,IAAM,EAAIE,GAAW,EAG5BE,GAAevkB,UAAY,CACzBye,UAAW2E,GACXzE,QAASyE,GACTvE,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAAMtqB,KAAK02B,IAAM12B,KAAK22B,IAAM32B,KAAK42B,IAAM52B,KAAK63B,IAC5D73B,KAAKqqB,IAAMrqB,KAAKuqB,IAAMvqB,KAAK62B,IAAM72B,KAAK82B,IAAM92B,KAAK+2B,IAAM/2B,KAAK83B,IAAM7F,IAClEjyB,KAAKmyB,OAAS,GAEhBC,QAAS,WACP,OAAQpyB,KAAKmyB,QACX,KAAK,EACHnyB,KAAK6xB,SAASnH,OAAO1qB,KAAK22B,IAAK32B,KAAK82B,KACpC92B,KAAK6xB,SAASlH,YACd,MAEF,KAAK,EACH3qB,KAAK6xB,SAASjH,OAAO5qB,KAAK22B,IAAK32B,KAAK82B,KACpC92B,KAAK6xB,SAASlH,YACd,MAEF,KAAK,EACH3qB,KAAKkc,MAAMlc,KAAK22B,IAAK32B,KAAK82B,KAC1B92B,KAAKkc,MAAMlc,KAAK42B,IAAK52B,KAAK+2B,KAC1B/2B,KAAKkc,MAAMlc,KAAK63B,IAAK73B,KAAK83B,OAKhC5b,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK22B,IAAM1Z,EAAGjd,KAAK82B,IAAM3a,EAAG,MACrD,KAAK,EAAGnc,KAAKmyB,OAAS,EAAGnyB,KAAK6xB,SAASnH,OAAO1qB,KAAK42B,IAAM3Z,EAAGjd,KAAK+2B,IAAM5a,GAAI,MAC3E,KAAK,EAAGnc,KAAKmyB,OAAS,EAAGnyB,KAAK63B,IAAM5a,EAAGjd,KAAK83B,IAAM3b,EAAG,MACrD,QAAS,GAAMnc,KAAMid,EAAGd,GAE1Bnc,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMtqB,KAAK02B,IAAK12B,KAAK02B,IAAMzZ,EACrDjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMvqB,KAAK62B,IAAK72B,KAAK62B,IAAM1a,IAI1C,qBAEb,SAASwb,EAASxH,GAChB,OAAO,IAAIyH,GAAezH,EAASuH,GAOrC,OAJAC,EAASD,QAAU,SAASA,GAC1B,OAAO9b,GAAQ8b,IAGVC,EAVM,CAWZ,GC1DI,SAASI,GAAa5H,EAASuH,GACpC13B,KAAK6xB,SAAW1B,EAChBnwB,KAAKw3B,IAAM,EAAIE,GAAW,EAG5BK,GAAa1kB,UAAY,CACvBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAAMtqB,KAAK02B,IAC3B12B,KAAKqqB,IAAMrqB,KAAKuqB,IAAMvqB,KAAK62B,IAAM5E,IACjCjyB,KAAKmyB,OAAS,GAEhBC,QAAS,YACHpyB,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO5qB,KAAK02B,IAAK12B,KAAK62B,KAAO72B,KAAK6xB,SAASnH,OAAO1qB,KAAK02B,IAAK12B,KAAK62B,KAAM,MAC3H,KAAK,EAAG72B,KAAKmyB,OAAS,EACtB,QAAS,GAAMnyB,KAAMid,EAAGd,GAE1Bnc,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMtqB,KAAK02B,IAAK12B,KAAK02B,IAAMzZ,EACrDjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMvqB,KAAK62B,IAAK72B,KAAK62B,IAAM1a,IAI1C,qBAEb,SAASwb,EAASxH,GAChB,OAAO,IAAI4H,GAAa5H,EAASuH,GAOnC,OAJAC,EAASD,QAAU,SAASA,GAC1B,OAAO9b,GAAQ8b,IAGVC,EAVM,CAWZ,GC7CI,SAAS,GAAMrB,EAAMrZ,EAAGd,GAC7B,IAAI2O,EAAKwL,EAAKhM,IACVS,EAAKuL,EAAK/L,IACVU,EAAKqL,EAAKI,IACVxL,EAAKoL,EAAKO,IAEd,GAAIP,EAAK0B,O/BDU,M+BCQ,CACzB,IAAIrwB,EAAI,EAAI2uB,EAAK2B,QAAU,EAAI3B,EAAK0B,OAAS1B,EAAK4B,OAAS5B,EAAK6B,QAC5DrhB,EAAI,EAAIwf,EAAK0B,QAAU1B,EAAK0B,OAAS1B,EAAK4B,QAC9CpN,GAAMA,EAAKnjB,EAAI2uB,EAAKlM,IAAMkM,EAAK6B,QAAU7B,EAAKI,IAAMJ,EAAK2B,SAAWnhB,EACpEiU,GAAMA,EAAKpjB,EAAI2uB,EAAKjM,IAAMiM,EAAK6B,QAAU7B,EAAKO,IAAMP,EAAK2B,SAAWnhB,EAGtE,GAAIwf,EAAK8B,O/BRU,M+BQQ,CACzB,IAAItlB,EAAI,EAAIwjB,EAAK+B,QAAU,EAAI/B,EAAK8B,OAAS9B,EAAK4B,OAAS5B,EAAK6B,QAC5DhsB,EAAI,EAAImqB,EAAK8B,QAAU9B,EAAK8B,OAAS9B,EAAK4B,QAC9CjN,GAAMA,EAAKnY,EAAIwjB,EAAKhM,IAAMgM,EAAK+B,QAAUpb,EAAIqZ,EAAK6B,SAAWhsB,EAC7D+e,GAAMA,EAAKpY,EAAIwjB,EAAK/L,IAAM+L,EAAK+B,QAAUlc,EAAIma,EAAK6B,SAAWhsB,EAG/DmqB,EAAKzE,SAAS7G,cAAcF,EAAIC,EAAIE,EAAIC,EAAIoL,EAAKI,IAAKJ,EAAKO,KAG7D,SAASyB,GAAWnI,EAASoI,GAC3Bv4B,KAAK6xB,SAAW1B,EAChBnwB,KAAKw4B,OAASD,EAGhBD,GAAWjlB,UAAY,CACrBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAAMtqB,KAAK02B,IAC3B12B,KAAKqqB,IAAMrqB,KAAKuqB,IAAMvqB,KAAK62B,IAAM5E,IACjCjyB,KAAKg4B,OAASh4B,KAAKk4B,OAASl4B,KAAKo4B,OACjCp4B,KAAKi4B,QAAUj4B,KAAKm4B,QAAUn4B,KAAKq4B,QACnCr4B,KAAKmyB,OAAS,GAEhBC,QAAS,WACP,OAAQpyB,KAAKmyB,QACX,KAAK,EAAGnyB,KAAK6xB,SAASjH,OAAO5qB,KAAK02B,IAAK12B,KAAK62B,KAAM,MAClD,KAAK,EAAG72B,KAAKkc,MAAMlc,KAAK02B,IAAK12B,KAAK62B,MAEhC72B,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GAGjB,GAFAc,GAAKA,EAAGd,GAAKA,EAETnc,KAAKmyB,OAAQ,CACf,IAAIsG,EAAMz4B,KAAK02B,IAAMzZ,EACjByb,EAAM14B,KAAK62B,IAAM1a,EACrBnc,KAAKo4B,OAASpW,KAAKkK,KAAKlsB,KAAKq4B,QAAUrW,KAAK2W,IAAIF,EAAMA,EAAMC,EAAMA,EAAK14B,KAAKw4B,SAG9E,OAAQx4B,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO3N,EAAGd,GAAKnc,KAAK6xB,SAASnH,OAAOzN,EAAGd,GAAI,MAC/F,KAAK,EAAGnc,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EACtB,QAAS,GAAMnyB,KAAMid,EAAGd,GAG1Bnc,KAAKg4B,OAASh4B,KAAKk4B,OAAQl4B,KAAKk4B,OAASl4B,KAAKo4B,OAC9Cp4B,KAAKi4B,QAAUj4B,KAAKm4B,QAASn4B,KAAKm4B,QAAUn4B,KAAKq4B,QACjDr4B,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMtqB,KAAK02B,IAAK12B,KAAK02B,IAAMzZ,EACrDjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMvqB,KAAK62B,IAAK72B,KAAK62B,IAAM1a,IAI1C,qBAEb,SAASyc,EAAWzI,GAClB,OAAOoI,EAAQ,IAAID,GAAWnI,EAASoI,GAAS,IAAId,GAAStH,EAAS,GAOxE,OAJAyI,EAAWL,MAAQ,SAASA,GAC1B,OAAO3c,GAAQ2c,IAGVK,EAVM,CAWZ,ICnFH,SAASC,GAAiB1I,EAASoI,GACjCv4B,KAAK6xB,SAAW1B,EAChBnwB,KAAKw4B,OAASD,EAGhBM,GAAiBxlB,UAAY,CAC3Bye,UAAW2E,GACXzE,QAASyE,GACTvE,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAAMtqB,KAAK02B,IAAM12B,KAAK22B,IAAM32B,KAAK42B,IAAM52B,KAAK63B,IAC5D73B,KAAKqqB,IAAMrqB,KAAKuqB,IAAMvqB,KAAK62B,IAAM72B,KAAK82B,IAAM92B,KAAK+2B,IAAM/2B,KAAK83B,IAAM7F,IAClEjyB,KAAKg4B,OAASh4B,KAAKk4B,OAASl4B,KAAKo4B,OACjCp4B,KAAKi4B,QAAUj4B,KAAKm4B,QAAUn4B,KAAKq4B,QACnCr4B,KAAKmyB,OAAS,GAEhBC,QAAS,WACP,OAAQpyB,KAAKmyB,QACX,KAAK,EACHnyB,KAAK6xB,SAASnH,OAAO1qB,KAAK22B,IAAK32B,KAAK82B,KACpC92B,KAAK6xB,SAASlH,YACd,MAEF,KAAK,EACH3qB,KAAK6xB,SAASjH,OAAO5qB,KAAK22B,IAAK32B,KAAK82B,KACpC92B,KAAK6xB,SAASlH,YACd,MAEF,KAAK,EACH3qB,KAAKkc,MAAMlc,KAAK22B,IAAK32B,KAAK82B,KAC1B92B,KAAKkc,MAAMlc,KAAK42B,IAAK52B,KAAK+2B,KAC1B/2B,KAAKkc,MAAMlc,KAAK63B,IAAK73B,KAAK83B,OAKhC5b,MAAO,SAASe,EAAGd,GAGjB,GAFAc,GAAKA,EAAGd,GAAKA,EAETnc,KAAKmyB,OAAQ,CACf,IAAIsG,EAAMz4B,KAAK02B,IAAMzZ,EACjByb,EAAM14B,KAAK62B,IAAM1a,EACrBnc,KAAKo4B,OAASpW,KAAKkK,KAAKlsB,KAAKq4B,QAAUrW,KAAK2W,IAAIF,EAAMA,EAAMC,EAAMA,EAAK14B,KAAKw4B,SAG9E,OAAQx4B,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK22B,IAAM1Z,EAAGjd,KAAK82B,IAAM3a,EAAG,MACrD,KAAK,EAAGnc,KAAKmyB,OAAS,EAAGnyB,KAAK6xB,SAASnH,OAAO1qB,KAAK42B,IAAM3Z,EAAGjd,KAAK+2B,IAAM5a,GAAI,MAC3E,KAAK,EAAGnc,KAAKmyB,OAAS,EAAGnyB,KAAK63B,IAAM5a,EAAGjd,KAAK83B,IAAM3b,EAAG,MACrD,QAAS,GAAMnc,KAAMid,EAAGd,GAG1Bnc,KAAKg4B,OAASh4B,KAAKk4B,OAAQl4B,KAAKk4B,OAASl4B,KAAKo4B,OAC9Cp4B,KAAKi4B,QAAUj4B,KAAKm4B,QAASn4B,KAAKm4B,QAAUn4B,KAAKq4B,QACjDr4B,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMtqB,KAAK02B,IAAK12B,KAAK02B,IAAMzZ,EACrDjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMvqB,KAAK62B,IAAK72B,KAAK62B,IAAM1a,IAI1C,qBAEb,SAASyc,EAAWzI,GAClB,OAAOoI,EAAQ,IAAIM,GAAiB1I,EAASoI,GAAS,IAAIX,GAAezH,EAAS,GAOpF,OAJAyI,EAAWL,MAAQ,SAASA,GAC1B,OAAO3c,GAAQ2c,IAGVK,EAVM,CAWZ,ICtEH,SAASE,GAAe3I,EAASoI,GAC/Bv4B,KAAK6xB,SAAW1B,EAChBnwB,KAAKw4B,OAASD,EAGhBO,GAAezlB,UAAY,CACzBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAAMtqB,KAAK02B,IAC3B12B,KAAKqqB,IAAMrqB,KAAKuqB,IAAMvqB,KAAK62B,IAAM5E,IACjCjyB,KAAKg4B,OAASh4B,KAAKk4B,OAASl4B,KAAKo4B,OACjCp4B,KAAKi4B,QAAUj4B,KAAKm4B,QAAUn4B,KAAKq4B,QACnCr4B,KAAKmyB,OAAS,GAEhBC,QAAS,YACHpyB,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GAGjB,GAFAc,GAAKA,EAAGd,GAAKA,EAETnc,KAAKmyB,OAAQ,CACf,IAAIsG,EAAMz4B,KAAK02B,IAAMzZ,EACjByb,EAAM14B,KAAK62B,IAAM1a,EACrBnc,KAAKo4B,OAASpW,KAAKkK,KAAKlsB,KAAKq4B,QAAUrW,KAAK2W,IAAIF,EAAMA,EAAMC,EAAMA,EAAK14B,KAAKw4B,SAG9E,OAAQx4B,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO5qB,KAAK02B,IAAK12B,KAAK62B,KAAO72B,KAAK6xB,SAASnH,OAAO1qB,KAAK02B,IAAK12B,KAAK62B,KAAM,MAC3H,KAAK,EAAG72B,KAAKmyB,OAAS,EACtB,QAAS,GAAMnyB,KAAMid,EAAGd,GAG1Bnc,KAAKg4B,OAASh4B,KAAKk4B,OAAQl4B,KAAKk4B,OAASl4B,KAAKo4B,OAC9Cp4B,KAAKi4B,QAAUj4B,KAAKm4B,QAASn4B,KAAKm4B,QAAUn4B,KAAKq4B,QACjDr4B,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMtqB,KAAK02B,IAAK12B,KAAK02B,IAAMzZ,EACrDjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMvqB,KAAK62B,IAAK72B,KAAK62B,IAAM1a,IAI1C,qBAEb,SAASyc,EAAWzI,GAClB,OAAOoI,EAAQ,IAAIO,GAAe3I,EAASoI,GAAS,IAAIR,GAAa5H,EAAS,GAOhF,OAJAyI,EAAWL,MAAQ,SAASA,GAC1B,OAAO3c,GAAQ2c,IAGVK,EAVM,CAWZ,IC3DH,SAASG,GAAa5I,GACpBnwB,KAAK6xB,SAAW1B,EAGlB4I,GAAa1lB,UAAY,CACvBye,UAAW2E,GACXzE,QAASyE,GACTvE,UAAW,WACTlyB,KAAKmyB,OAAS,GAEhBC,QAAS,WACHpyB,KAAKmyB,QAAQnyB,KAAK6xB,SAASlH,aAEjCzO,MAAO,SAASe,EAAGd,GACjBc,GAAKA,EAAGd,GAAKA,EACTnc,KAAKmyB,OAAQnyB,KAAK6xB,SAASjH,OAAO3N,EAAGd,IACpCnc,KAAKmyB,OAAS,EAAGnyB,KAAK6xB,SAASnH,OAAOzN,EAAGd,MAInC,mBACb,OAAO,IAAI4c,GAAa5I,ICvB1B,SAAS6I,GAAK/b,GACZ,OAAOA,EAAI,GAAK,EAAI,EAOtB,SAASgc,GAAO3C,EAAMrL,EAAIC,GACxB,IAAIgO,EAAK5C,EAAKhM,IAAMgM,EAAKlM,IACrB+O,EAAKlO,EAAKqL,EAAKhM,IACf8O,GAAM9C,EAAK/L,IAAM+L,EAAKjM,MAAQ6O,GAAMC,EAAK,IAAM,GAC/CE,GAAMnO,EAAKoL,EAAK/L,MAAQ4O,GAAMD,EAAK,IAAM,GACzChrB,GAAKkrB,EAAKD,EAAKE,EAAKH,IAAOA,EAAKC,GACpC,OAAQH,GAAKI,GAAMJ,GAAKK,IAAOrX,KAAKuL,IAAIvL,KAAK4J,IAAIwN,GAAKpX,KAAK4J,IAAIyN,GAAK,GAAMrX,KAAK4J,IAAI1d,KAAO,EAI5F,SAASorB,GAAOhD,EAAMzf,GACpB,IAAIwW,EAAIiJ,EAAKhM,IAAMgM,EAAKlM,IACxB,OAAOiD,GAAK,GAAKiJ,EAAK/L,IAAM+L,EAAKjM,KAAOgD,EAAIxW,GAAK,EAAIA,EAMvD,SAAS,GAAMyf,EAAMhG,EAAIC,GACvB,IAAInF,EAAKkL,EAAKlM,IACViB,EAAKiL,EAAKjM,IACVS,EAAKwL,EAAKhM,IACVS,EAAKuL,EAAK/L,IACVsC,GAAM/B,EAAKM,GAAM,EACrBkL,EAAKzE,SAAS7G,cAAcI,EAAKyB,EAAIxB,EAAKwB,EAAKyD,EAAIxF,EAAK+B,EAAI9B,EAAK8B,EAAK0D,EAAIzF,EAAIC,GAGhF,SAASwO,GAAUpJ,GACjBnwB,KAAK6xB,SAAW1B,EA0ClB,SAASqJ,GAAUrJ,GACjBnwB,KAAK6xB,SAAW,IAAI4H,GAAetJ,GAOrC,SAASsJ,GAAetJ,GACtBnwB,KAAK6xB,SAAW1B,EAUX,SAASuJ,GAAUvJ,GACxB,OAAO,IAAIoJ,GAAUpJ,GAGhB,SAASwJ,GAAUxJ,GACxB,OAAO,IAAIqJ,GAAUrJ,GCtGvB,SAASyJ,GAAQzJ,GACfnwB,KAAK6xB,SAAW1B,EA2ClB,SAAS0J,GAAc5c,GACrB,IAAI7d,EAEA+M,EADA2K,EAAImG,EAAEjY,OAAS,EAEf2C,EAAI,IAAIsL,MAAM6D,GACdhE,EAAI,IAAIG,MAAM6D,GACd0M,EAAI,IAAIvQ,MAAM6D,GAElB,IADAnP,EAAE,GAAK,EAAGmL,EAAE,GAAK,EAAG0Q,EAAE,GAAKvG,EAAE,GAAK,EAAIA,EAAE,GACnC7d,EAAI,EAAGA,EAAI0X,EAAI,IAAK1X,EAAGuI,EAAEvI,GAAK,EAAG0T,EAAE1T,GAAK,EAAGokB,EAAEpkB,GAAK,EAAI6d,EAAE7d,GAAK,EAAI6d,EAAE7d,EAAI,GAE5E,IADAuI,EAAEmP,EAAI,GAAK,EAAGhE,EAAEgE,EAAI,GAAK,EAAG0M,EAAE1M,EAAI,GAAK,EAAImG,EAAEnG,EAAI,GAAKmG,EAAEnG,GACnD1X,EAAI,EAAGA,EAAI0X,IAAK1X,EAAG+M,EAAIxE,EAAEvI,GAAK0T,EAAE1T,EAAI,GAAI0T,EAAE1T,IAAM+M,EAAGqX,EAAEpkB,IAAM+M,EAAIqX,EAAEpkB,EAAI,GAE1E,IADAuI,EAAEmP,EAAI,GAAK0M,EAAE1M,EAAI,GAAKhE,EAAEgE,EAAI,GACvB1X,EAAI0X,EAAI,EAAG1X,GAAK,IAAKA,EAAGuI,EAAEvI,IAAMokB,EAAEpkB,GAAKuI,EAAEvI,EAAI,IAAM0T,EAAE1T,GAE1D,IADA0T,EAAEgE,EAAI,IAAMmG,EAAEnG,GAAKnP,EAAEmP,EAAI,IAAM,EAC1B1X,EAAI,EAAGA,EAAI0X,EAAI,IAAK1X,EAAG0T,EAAE1T,GAAK,EAAI6d,EAAE7d,EAAI,GAAKuI,EAAEvI,EAAI,GACxD,MAAO,CAACuI,EAAGmL,GDpBbymB,GAAUlmB,UAAY,CACpBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKoqB,IAAMpqB,KAAKsqB,IAChBtqB,KAAKqqB,IAAMrqB,KAAKuqB,IAChBvqB,KAAK85B,IAAM7H,IACXjyB,KAAKmyB,OAAS,GAEhBC,QAAS,WACP,OAAQpyB,KAAKmyB,QACX,KAAK,EAAGnyB,KAAK6xB,SAASjH,OAAO5qB,KAAKsqB,IAAKtqB,KAAKuqB,KAAM,MAClD,KAAK,EAAG,GAAMvqB,KAAMA,KAAK85B,IAAKR,GAAOt5B,KAAMA,KAAK85B,OAE9C95B,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACzE3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,OAExB7V,MAAO,SAASe,EAAGd,GACjB,IAAIoU,EAAK0B,IAGT,GADQ9V,GAAKA,GAAbc,GAAKA,KACKjd,KAAKsqB,KAAOnO,IAAMnc,KAAKuqB,IAAjC,CACA,OAAQvqB,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO3N,EAAGd,GAAKnc,KAAK6xB,SAASnH,OAAOzN,EAAGd,GAAI,MAC/F,KAAK,EAAGnc,KAAKmyB,OAAS,EAAG,MACzB,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAG,GAAMnyB,KAAMs5B,GAAOt5B,KAAMuwB,EAAK0I,GAAOj5B,KAAMid,EAAGd,IAAKoU,GAAK,MACjF,QAAS,GAAMvwB,KAAMA,KAAK85B,IAAKvJ,EAAK0I,GAAOj5B,KAAMid,EAAGd,IAGtDnc,KAAKoqB,IAAMpqB,KAAKsqB,IAAKtqB,KAAKsqB,IAAMrN,EAChCjd,KAAKqqB,IAAMrqB,KAAKuqB,IAAKvqB,KAAKuqB,IAAMpO,EAChCnc,KAAK85B,IAAMvJ,MAQdiJ,GAAUnmB,UAAY/Q,OAAOgR,OAAOimB,GAAUlmB,YAAY6I,MAAQ,SAASe,EAAGd,GAC7Eod,GAAUlmB,UAAU6I,MAAMnF,KAAK/W,KAAMmc,EAAGc,IAO1Cwc,GAAepmB,UAAY,CACzBqX,OAAQ,SAASzN,EAAGd,GAAKnc,KAAK6xB,SAASnH,OAAOvO,EAAGc,IACjD0N,UAAW,WAAa3qB,KAAK6xB,SAASlH,aACtCC,OAAQ,SAAS3N,EAAGd,GAAKnc,KAAK6xB,SAASjH,OAAOzO,EAAGc,IACjD+N,cAAe,SAASF,EAAIC,EAAIE,EAAIC,EAAIjO,EAAGd,GAAKnc,KAAK6xB,SAAS7G,cAAcD,EAAID,EAAII,EAAID,EAAI9O,EAAGc,KC1FjG2c,GAAQvmB,UAAY,CAClBye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKq3B,GAAK,GACVr3B,KAAKs3B,GAAK,IAEZlF,QAAS,WACP,IAAInV,EAAIjd,KAAKq3B,GACTlb,EAAInc,KAAKs3B,GACTxgB,EAAImG,EAAEjY,OAEV,GAAI8R,EAEF,GADA9W,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO3N,EAAE,GAAId,EAAE,IAAMnc,KAAK6xB,SAASnH,OAAOzN,EAAE,GAAId,EAAE,IACnE,IAANrF,EACF9W,KAAK6xB,SAASjH,OAAO3N,EAAE,GAAId,EAAE,SAI7B,IAFA,IAAI4d,EAAKF,GAAc5c,GACnB+c,EAAKH,GAAc1d,GACd8d,EAAK,EAAGC,EAAK,EAAGA,EAAKpjB,IAAKmjB,IAAMC,EACvCl6B,KAAK6xB,SAAS7G,cAAc+O,EAAG,GAAGE,GAAKD,EAAG,GAAGC,GAAKF,EAAG,GAAGE,GAAKD,EAAG,GAAGC,GAAKhd,EAAEid,GAAK/d,EAAE+d,KAKnFl6B,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAAqB,IAANjb,IAAU9W,KAAK6xB,SAASlH,YAC/D3qB,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,MACtB/xB,KAAKq3B,GAAKr3B,KAAKs3B,GAAK,MAEtBpb,MAAO,SAASe,EAAGd,GACjBnc,KAAKq3B,GAAG5xB,MAAMwX,GACdjd,KAAKs3B,GAAG7xB,MAAM0W,KAuBH,mBACb,OAAO,IAAIyd,GAAQzJ,IC/DrB,SAASgK,GAAKhK,EAAStZ,GACrB7W,KAAK6xB,SAAW1B,EAChBnwB,KAAKo6B,GAAKvjB,EAGZsjB,GAAK9mB,UAAY,CACfye,UAAW,WACT9xB,KAAK+xB,MAAQ,GAEfC,QAAS,WACPhyB,KAAK+xB,MAAQE,KAEfC,UAAW,WACTlyB,KAAKq3B,GAAKr3B,KAAKs3B,GAAKrF,IACpBjyB,KAAKmyB,OAAS,GAEhBC,QAAS,WACH,EAAIpyB,KAAKo6B,IAAMp6B,KAAKo6B,GAAK,GAAqB,IAAhBp6B,KAAKmyB,QAAcnyB,KAAK6xB,SAASjH,OAAO5qB,KAAKq3B,GAAIr3B,KAAKs3B,KACpFt3B,KAAK+xB,OAAyB,IAAf/xB,KAAK+xB,OAA+B,IAAhB/xB,KAAKmyB,SAAenyB,KAAK6xB,SAASlH,YACrE3qB,KAAK+xB,OAAS,IAAG/xB,KAAKo6B,GAAK,EAAIp6B,KAAKo6B,GAAIp6B,KAAK+xB,MAAQ,EAAI/xB,KAAK+xB,QAEpE7V,MAAO,SAASe,EAAGd,GAEjB,OADAc,GAAKA,EAAGd,GAAKA,EACLnc,KAAKmyB,QACX,KAAK,EAAGnyB,KAAKmyB,OAAS,EAAGnyB,KAAK+xB,MAAQ/xB,KAAK6xB,SAASjH,OAAO3N,EAAGd,GAAKnc,KAAK6xB,SAASnH,OAAOzN,EAAGd,GAAI,MAC/F,KAAK,EAAGnc,KAAKmyB,OAAS,EACtB,QACE,GAAInyB,KAAKo6B,IAAM,EACbp6B,KAAK6xB,SAASjH,OAAO5qB,KAAKq3B,GAAIlb,GAC9Bnc,KAAK6xB,SAASjH,OAAO3N,EAAGd,OACnB,CACL,IAAI2O,EAAK9qB,KAAKq3B,IAAM,EAAIr3B,KAAKo6B,IAAMnd,EAAIjd,KAAKo6B,GAC5Cp6B,KAAK6xB,SAASjH,OAAOE,EAAI9qB,KAAKs3B,IAC9Bt3B,KAAK6xB,SAASjH,OAAOE,EAAI3O,IAK/Bnc,KAAKq3B,GAAKpa,EAAGjd,KAAKs3B,GAAKnb,IAIZ,mBACb,OAAO,IAAIge,GAAKhK,EAAS,KAGpB,SAASkK,GAAWlK,GACzB,OAAO,IAAIgK,GAAKhK,EAAS,GAGpB,SAASmK,GAAUnK,GACxB,OAAO,IAAIgK,GAAKhK,EAAS,GCnDZ,qBACb,IAAOrZ,EAAI9P,EAAOhC,QAAU,EAC5B,IAAK,IAAW2tB,EAAGyG,EAA2BtiB,EAArC1X,EAAI,EAAUi6B,EAAKryB,EAAOuzB,EAAM,IAAQpuB,EAAIktB,EAAGr0B,OAAQ5F,EAAI0X,IAAK1X,EAEvE,IADAg6B,EAAKC,EAAIA,EAAKryB,EAAOuzB,EAAMn7B,IACtBuzB,EAAI,EAAGA,EAAIxmB,IAAKwmB,EACnB0G,EAAG1G,GAAG,IAAM0G,EAAG1G,GAAG,GAAKnO,MAAM4U,EAAGzG,GAAG,IAAMyG,EAAGzG,GAAG,GAAKyG,EAAGzG,GAAG,ICLjD,eAEb,IADA,IAAI7b,EAAI9P,EAAOhC,OAAQw1B,EAAI,IAAIvnB,MAAM6D,KAC5BA,GAAK,GAAG0jB,EAAE1jB,GAAKA,EACxB,OAAO0jB,GCET,SAASC,GAAW5nB,EAAGjS,GACrB,OAAOiS,EAAEjS,GAGI,kBACb,IAAI8gB,EAAOuO,EAAS,IAChBsK,EAAQ,GACRG,EAAS,GACTp6B,EAAQm6B,GAEZ,SAASE,EAAM1e,GACb,IACI7c,EAIAw7B,EALAC,EAAKnZ,EAAK5N,MAAM9T,KAAM+T,WAEtB5H,EAAI8P,EAAKjX,OACT8R,EAAI+jB,EAAG71B,OACP81B,EAAK,IAAI7nB,MAAM6D,GAGnB,IAAK1X,EAAI,EAAGA,EAAI0X,IAAK1X,EAAG,CACtB,IAAK,IAAkD27B,EAA9CC,EAAKH,EAAGz7B,GAAI67B,EAAKH,EAAG17B,GAAK,IAAI6T,MAAM9G,GAAIwmB,EAAI,EAAQA,EAAIxmB,IAAKwmB,EACnEsI,EAAGtI,GAAKoI,EAAM,CAAC,GAAIz6B,EAAM2b,EAAK0W,GAAIqI,EAAIrI,EAAG1W,IACzC8e,EAAI9e,KAAOA,EAAK0W,GAElBsI,EAAGr6B,IAAMo6B,EAGX,IAAK57B,EAAI,EAAGw7B,EAAKL,EAAMO,GAAK17B,EAAI0X,IAAK1X,EACnC07B,EAAGF,EAAGx7B,IAAI4W,MAAQ5W,EAIpB,OADAs7B,EAAOI,EAAIF,GACJE,EAmBT,OAhBAH,EAAMjZ,KAAO,SAAS8I,GACpB,OAAOzW,UAAU/O,QAAU0c,EAAoB,mBAAN8I,EAAmBA,EAAIyF,EAAS5qB,EAAM0R,KAAKyT,IAAKmQ,GAASjZ,GAGpGiZ,EAAMr6B,MAAQ,SAASkqB,GACrB,OAAOzW,UAAU/O,QAAU1E,EAAqB,mBAANkqB,EAAmBA,EAAIyF,GAAUzF,GAAImQ,GAASr6B,GAG1Fq6B,EAAMJ,MAAQ,SAAS/P,GACrB,OAAOzW,UAAU/O,QAAUu1B,EAAa,MAAL/P,EAAY,GAAyB,mBAANA,EAAmBA,EAAIyF,EAAS5qB,EAAM0R,KAAKyT,IAAKmQ,GAASJ,GAG7HI,EAAMD,OAAS,SAASlQ,GACtB,OAAOzW,UAAU/O,QAAU01B,EAAc,MAALlQ,EAAY,GAAaA,EAAGmQ,GAASD,GAGpEC,GCrDM,iBACb,IAAO7jB,EAAI9P,EAAOhC,QAAU,EAA5B,CACA,IAAK,IAAI5F,EAAG0X,EAAgCqF,EAA7BwW,EAAI,EAAGxmB,EAAInF,EAAO,GAAGhC,OAAW2tB,EAAIxmB,IAAKwmB,EAAG,CACzD,IAAKxW,EAAI/c,EAAI,EAAGA,EAAI0X,IAAK1X,EAAG+c,GAAKnV,EAAO5H,GAAGuzB,GAAG,IAAM,EACpD,GAAIxW,EAAG,IAAK/c,EAAI,EAAGA,EAAI0X,IAAK1X,EAAG4H,EAAO5H,GAAGuzB,GAAG,IAAMxW,EAEpD+e,GAAKl0B,EAAQuzB,KCRA,iBACb,IAAOzjB,EAAI9P,EAAOhC,QAAU,EAC5B,IAAK,IAAI5F,EAAUyT,EAAGka,EAAIoO,EAAIC,EAAItkB,EAAtB6b,EAAI,EAAqBxmB,EAAInF,EAAOuzB,EAAM,IAAIv1B,OAAQ2tB,EAAIxmB,IAAKwmB,EACzE,IAAKwI,EAAKC,EAAK,EAAGh8B,EAAI,EAAGA,EAAI0X,IAAK1X,GAC3B2tB,GAAMla,EAAI7L,EAAOuzB,EAAMn7B,IAAIuzB,IAAI,GAAK9f,EAAE,IAAM,GAC/CA,EAAE,GAAKsoB,EAAItoB,EAAE,GAAKsoB,GAAMpO,GACfA,EAAK,GACdla,EAAE,GAAKuoB,EAAIvoB,EAAE,GAAKuoB,GAAMrO,IAExBla,EAAE,GAAK,EAAGA,EAAE,GAAKka,ICPV,iBACb,IAAOjW,EAAI9P,EAAOhC,QAAU,EAA5B,CACA,IAAK,IAAkC8R,EAA9B6b,EAAI,EAAGyG,EAAKpyB,EAAOuzB,EAAM,IAAQpuB,EAAIitB,EAAGp0B,OAAQ2tB,EAAIxmB,IAAKwmB,EAAG,CACnE,IAAK,IAAIvzB,EAAI,EAAG+c,EAAI,EAAG/c,EAAI0X,IAAK1X,EAAG+c,GAAKnV,EAAO5H,GAAGuzB,GAAG,IAAM,EAC3DyG,EAAGzG,GAAG,IAAMyG,EAAGzG,GAAG,IAAMxW,EAAI,EAE9B+e,GAAKl0B,EAAQuzB,KCNA,iBACb,IAAOzjB,EAAI9P,EAAOhC,QAAU,IAASmH,GAAKitB,EAAKpyB,EAAOuzB,EAAM,KAAKv1B,QAAU,EAA3E,CACA,IAAK,IAAkBo0B,EAAIjtB,EAAG2K,EAArBqF,EAAI,EAAGwW,EAAI,EAAaA,EAAIxmB,IAAKwmB,EAAG,CAC3C,IAAK,IAAIvzB,EAAI,EAAGi6B,EAAK,EAAGgC,EAAK,EAAGj8B,EAAI0X,IAAK1X,EAAG,CAK1C,IAJA,IAAI67B,EAAKj0B,EAAOuzB,EAAMn7B,IAClBk8B,EAAOL,EAAGtI,GAAG,IAAM,EAEnB4I,GAAMD,GADCL,EAAGtI,EAAI,GAAG,IAAM,IACF,EAChBC,EAAI,EAAGA,EAAIxzB,IAAKwzB,EAAG,CAC1B,IAAI4I,EAAKx0B,EAAOuzB,EAAM3H,IAGtB2I,IAFWC,EAAG7I,GAAG,IAAM,IACZ6I,EAAG7I,EAAI,GAAG,IAAM,GAG7B0G,GAAMiC,EAAMD,GAAME,EAAKD,EAEzBlC,EAAGzG,EAAI,GAAG,IAAMyG,EAAGzG,EAAI,GAAG,GAAKxW,EAC3Bkd,IAAIld,GAAKkf,EAAKhC,GAEpBD,EAAGzG,EAAI,GAAG,IAAMyG,EAAGzG,EAAI,GAAG,GAAKxW,EAC/B+e,GAAKl0B,EAAQuzB,KCpBA,eACb,IAAIkB,EAAQz0B,EAAO1B,IAAIo2B,IACvB,OAAO,GAAK10B,GAAQusB,MAAK,SAAS5rB,EAAGmL,GAAK,OAAO2oB,EAAM9zB,GAAK8zB,EAAM3oB,OAGpE,SAAS4oB,GAAK10B,GAEZ,IADA,IAAsC20B,EAAlCv8B,GAAK,EAAGuzB,EAAI,EAAG7b,EAAI9P,EAAOhC,OAAY42B,GAAMC,MACvCz8B,EAAI0X,IAAQ6kB,GAAM30B,EAAO5H,GAAG,IAAMw8B,IAAIA,EAAKD,EAAIhJ,EAAIvzB,GAC5D,OAAOuzB,ECRM,mBACb,IAAImJ,EAAO90B,EAAO1B,IAAI,IACtB,OAAO,GAAK0B,GAAQusB,MAAK,SAAS5rB,EAAGmL,GAAK,OAAOgpB,EAAKn0B,GAAKm0B,EAAKhpB,OAG3D,SAAS,GAAI9L,GAElB,IADA,IAAsCysB,EAAlC5lB,EAAI,EAAGzO,GAAK,EAAG0X,EAAI9P,EAAOhC,SACrB5F,EAAI0X,IAAO2c,GAAKzsB,EAAO5H,GAAG,MAAIyO,GAAK4lB,GAC5C,OAAO5lB,ECRM,mBACb,OAAOkuB,GAAU/0B,GAAQg1B,WCAZ,eACb,IACI58B,EACAuzB,EAFA7b,EAAI9P,EAAOhC,OAGX82B,EAAO90B,EAAO1B,IAAI,IAClBi1B,EAAQ0B,GAAWj1B,GACnB0F,EAAM,EACNwvB,EAAS,EACTC,EAAO,GACPC,EAAU,GAEd,IAAKh9B,EAAI,EAAGA,EAAI0X,IAAK1X,EACnBuzB,EAAI4H,EAAMn7B,GACNsN,EAAMwvB,GACRxvB,GAAOovB,EAAKnJ,GACZwJ,EAAK12B,KAAKktB,KAEVuJ,GAAUJ,EAAKnJ,GACfyJ,EAAQ32B,KAAKktB,IAIjB,OAAOyJ,EAAQJ,UAAUvgB,OAAO0gB,ICvBnB,eACb,OAAO,GAAKn1B,GAAQg1B,Y,iCCFtB,IAAIplB,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAE5B6E,EAAU5Y,MAAQA,KAAK4Y,QAAW,SAAU/K,EAAGgL,GAC/C,IAAIhC,EAAI,GACR,IAAK,IAAI3I,KAAKL,EAAOvL,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,IAAM2K,EAAE3T,QAAQgJ,GAAK,IAC9E2I,EAAE3I,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCvL,OAAOwW,sBACtB,KAAI1Z,EAAI,EAAb,IAAgB8O,EAAI5L,OAAOwW,sBAAsBjL,GAAIzO,EAAI8O,EAAElJ,OAAQ5F,IAC3DyZ,EAAE3T,QAAQgJ,EAAE9O,IAAM,GAAKkD,OAAO+Q,UAAU0F,qBAAqBhC,KAAKlJ,EAAGK,EAAE9O,MACvEyX,EAAE3I,EAAE9O,IAAMyO,EAAEK,EAAE9O,KAE1B,OAAOyX,GAEXvU,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAImT,EAAQ,EAAQ,GAChBmG,EAAS,EAAQ,KAMrBpa,EAAQN,QALR,SAAqBsV,GACjB,IAAIoG,EAAKpG,EAAGqF,KAAMA,OAAc,IAAPe,EAAgB,eAAiBA,EAAI3B,EAAYL,EAAOpE,EAAI,CAAC,SACtF,OAAQf,EAAMkB,cAAciF,EAAO1a,QAAS0X,EAAS,GAAIqC,GACrDxF,EAAMkB,cAAc,OAAQ,CAAE9B,EAAG,iOAAkOrH,MAAO,CAAEqO,KAAMA,Q,iCC7B1R,8LAuBO,SAASwiB,EACdpgB,GAQA,OAAO,kBAAQ,+BAAgCA,GAAM0H,MAAM,KAWtD,SAAS2Y,EACdn2B,EACA3B,EACAmB,EACAO,GAEA,MAAM+V,EAAoB,CAAE9V,WAAU3B,QAOtC,OANImB,IACFsW,EAAKtW,SAAWA,GAEdO,IACF+V,EAAK/V,YAAcA,GAEd,mBAAS,qCAAsC+V,GAAMvM,KAAK8T,GAAKA,EAAE9d,MAAO,KAG1E,SAAS62B,EAAY72B,GAC1B,OAAO,eAAK,qCAAsC,CAAEA,UAASie,MAAM,KAG9D,SAAS6Y,EACd92B,EACAlB,EACA0B,GAEA,MAAM+V,EAAoB,CAAEvW,SAO5B,OANIlB,IACFyX,EAAKzX,KAAOA,GAEV0B,IACF+V,EAAK/V,YAAcA,GAEd,mBAAS,qCAAsC+V,GAAMvM,KAAK8T,GAAKA,EAAE9d,MAAO,KAG1E,SAAS+2B,EAAet2B,GAC7B,OAAO,eAAK,+BAAgC,CAAEA,aAAYwd,MAAM,O,oBC/ElE,IAAI5kB,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,iCCpBjB,iLAkCO,SAASo9B,EAAwBh3B,GACtC,MAA0B,sBAAnBA,EAAMC,eAA+D3E,IAA3B0E,EAAMi3B,iBAYlD,MAAMC,UAAmC,gBAAhD,c,oBACE,KAAA5rB,MAAe,CAAE6rB,UAAU,GAE3B,KAAAzd,gBAAmB1Z,IACjBA,EAAM0Z,mBAGR,KAAA0d,mBAAqB,KACnB98B,KAAKmP,SAAS6B,IAAK,CAAO6rB,UAAW7rB,EAAM6rB,aAG7C,KAAAE,kBAAoB,CAAC/sB,EAAwC9E,IAC3D,gBAAC,IAAI,CACH3F,QAASvF,KAAKof,gBACdxZ,MAAOoK,EAAQxL,KACf3C,GAAI,YAAcmO,EAAQpP,IAAKsK,IAC9B,6BAAmB8E,EAAQxL,KAAM,KAItC,KAAAw4B,aAAe,CAAC9xB,EAAS,oBAAU,0BACjC,wBAAMvK,UAAU,SAASiF,MAAOsF,GAC9B,gBAAC,IAAU,CAACvK,UAAU,qCACrBuK,GAIL,oBAAoB8E,GAQlB,MAAMitB,GAAcj9B,KAAKC,MAAMN,YAAc,YAAaK,KAAKC,MAAMN,YAErE,GAA2B,UAAvBqQ,EAAQktB,WAAwB,CAClC,MAAMC,EAAUF,EACZ,gCACA,uCACJ,OACE,uBAAKt8B,UAAU,iBACb,gBAAC,mBAAgB,CACfJ,eAAgB,oBAAU48B,GAC1B38B,GAAI28B,EACJ18B,OAAQ,CACNuP,QAAShQ,KAAK+8B,kBAAkB/sB,EAASA,EAAQ9E,QACjDA,OAAQlL,KAAKg9B,aAAahtB,EAAQ9E,YAKrC,GAA2B,YAAvB8E,EAAQktB,WAA0B,CAC3C,MAAMC,EAAUF,EACZ,kCACA,yCACJ,OACE,uBAAKt8B,UAAU,iBACb,gBAAC,mBAAgB,CACfJ,eAAgB,oBAAU48B,GAC1B38B,GAAI28B,EACJ18B,OAAQ,CACNuP,QAAShQ,KAAK+8B,kBAAkB/sB,EAASA,EAAQ9E,QACjDA,OAAQlL,KAAKg9B,aAAahtB,EAAQ9E,YAKrC,MAA2B,mBAAvB8E,EAAQktB,WAEf,gBAAC,mBAAgB,CACf38B,eAAgB,oBAAU,2CAC1BC,GAAG,0CACHC,OAAQ,CACNuP,QAAShQ,KAAK+8B,kBAAkB/sB,EAASA,EAAQotB,WACjDC,UAAWr9B,KAAKg9B,aAAahtB,EAAQqtB,WACrCD,UAAWp9B,KAAKg9B,aAAahtB,EAAQotB,cAKtC,KAGT,SACE,MAAM,MAAE13B,GAAU1F,KAAKC,OACjB,SAAE48B,GAAa78B,KAAKgR,MAC1B,OACE,gCACE,wBAAMrQ,UAAU,QAAQ,oBAAU,iBAAkB+E,EAAMC,UAAkB,KAE5E,2BACE,gBAAC,kBAAe,CACdhF,UAAU,yCACV4E,QAASvF,KAAK88B,mBACd1d,iBAAiB,GAChByd,EAAW,oBAAU,QAAU,oBAAU,QAC1C,gBAAC,IAAY,CAACl8B,UAAU,qBAAqB28B,OAAQT,MAIxDA,GACC,sBAAIl8B,UAAU,0BACX+E,EAAMi3B,iBAAiBtvB,SAAS/H,IAAI0K,GACnC,sBAAIrP,UAAU,iCAAiCC,IAAKoP,EAAQpP,KACzDZ,KAAKu9B,oBAAoBvtB,U,iCCzJ1C,+JA8BO,SAASwtB,EAAuB93B,GACrC,MAA0B,iBAAnBA,EAAMC,eAAqD3E,IAAtB0E,EAAMI,YAW7C,MAAM23B,UAAkC,gBAA/C,c,oBACE,KAAAzsB,MAAe,CAAE6rB,UAAU,GAE3B,KAAAzd,gBAAmB1Z,IACjBA,EAAM0Z,mBAGR,KAAA0d,mBAAqB,KACnB98B,KAAKmP,SAAS6B,IAAK,CAAO6rB,UAAW7rB,EAAM6rB,aAG7C,SACE,MAAM,MAAEn3B,GAAU1F,KAAKC,OACjB,SAAE48B,GAAa78B,KAAKgR,MAC1B,OACE,gCACE,wBAAMrQ,UAAU,qBAAqB,oBAAU,iBAAkB+E,EAAMC,UAAkB,KACxFD,EAAMI,YAAYC,aACjB,gBAAC,mBAAgB,CACfxF,eAAgB,oBAAU,8BAC1BC,GAAG,6BACHC,OAAQ,CAAEuF,OAAQ,gBAAC,IAAK,CAACtD,MAAOgD,EAAMI,YAAYE,OAAQC,OAAO,OAGnE,gBAAC,IAAK,CAACvD,MAAOgD,EAAMI,YAAYE,OAAQC,OAAO,IAGjD,2BACGP,EAAMI,YAAY43B,QAAQ14B,OAAS,GAClC,gBAAC,kBAAe,CACdrE,UAAU,yCACV4E,QAASvF,KAAK88B,mBACd1d,iBAAiB,GAChByd,EAAW,oBAAU,QAAU,oBAAU,QAC1C,gBAAC,IAAY,CAACl8B,UAAU,qBAAqB28B,OAAQT,MAK1DA,GACC,sBAAIl8B,UAAU,0BACX+E,EAAMI,YAAY43B,QAAQp4B,IAAI0K,GAC7B,sBAAIrP,UAAU,iCAAiCC,IAAKoP,EAAQpP,KAC1D,gBAAC,IAAK,cACQ,oBAAU,wBACtBD,UAAU,eACV+B,MAAOgD,EAAMI,YAAYE,OACzBC,OAAO,IAET,uBAAKtF,UAAU,wBACb,gBAAC,IAAI,CACH4E,QAASvF,KAAKof,gBACdxZ,MAAOoK,EAAQxL,KACf3C,GAAI,YAAcmO,EAAQpP,IAAKoP,EAAQ9E,SACvC,qCAAkB,kCAAwB,YAAa8E,EAAQxL,OAC5DwL,EAAQxL,e,iCCjG/B,0HAuBO,SAASm5B,EACd35B,EACA45B,GAEA,IAAK55B,EACH,OAGF,IAAIqH,EAAYrH,EAAO65B,WAAa75B,EAAOqH,WAAa,GAExD,OAAQrH,EAAOmG,MACb,IAAK,oBACHkB,EAAYuyB,EAAc55B,EAAOyC,MACjC,MACF,IAAK,mBACH4E,EAAYA,GAAauyB,EAAc55B,EAAOyC,MAC9C,MAIF,IAAK,mBACH,IAAK4E,EACH,OAAO,oBAAU,8CAEnB,MACF,IAAK,OACHA,EAAYA,GAAauyB,EAAcvyB,GACvC,MACF,IAAK,kBACHA,EAAYA,GAAauyB,EAAc55B,EAAOyC,MAKlD,OAAO,kCAAwB,mBAAD,OAAoBzC,EAAOmG,KAAKpH,eAAiBsI,GAG1E,SAASyyB,EAAc95B,GAC5B,OAAOA,GAAUA,EAAOyC,KAAO,oBAAUzC,EAAOyC,WAAQzF,EAGnD,SAAS+8B,EACd/5B,GAEA,YAAiDhD,IAAzCgD,EAA6BgM,U,oBCnEvC,IAAIjR,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,8wBCwBV,SAAS0+B,EACd/hB,EAOAgiB,GAEA,OAvBK,SACLhiB,GASA,OAAO,kBAAQ,+BAAgCA,GAAM0H,MAAM,KAapDua,CAAmB,EAAD,GAAMjiB,EAAN,CAAYkiB,GAAI,OAAQzuB,KAAK8T,IACpD,MAAMtN,EAAS+nB,EACX,CACEp+B,SAAUo+B,EAAKp+B,SAASyF,IAAI,CAACjF,EAAS2c,IAAV,KACvB3c,EADuB,CAE1BiH,QAASjH,EAAQiH,QAAQmU,OAAO+H,EAAE3jB,SAASmd,GAAK1V,YAElD82B,OAAQ5a,EAAE4a,QAEZ5a,EAEJ,OAAItN,EAAOkoB,OAAOC,UAAYnoB,EAAOkoB,OAAOE,UAAYpoB,EAAOkoB,OAAOG,MAC7DroB,EAEF8nB,EAAsB,EAAD,GAAM/hB,EAAN,CAAY/N,EAAGgI,EAAOkoB,OAAOC,UAAY,IAAKnoB,O,qBClE9E1W,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,+3BAAk4B,KAE35BD,EAAOK,QAAUA,G,iCCLjB,IACQmT,EADJC,EAAa5S,MAAQA,KAAK4S,YACtBD,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgBrQ,OAAOyQ,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAI5E,KAAK4E,EAAOA,EAAEI,eAAehF,KAAI2E,EAAE3E,GAAK4E,EAAE5E,MACpD2E,EAAGC,IAErB,SAAUD,EAAGC,GAEhB,SAASK,IAAOnT,KAAKoT,YAAcP,EADnCF,EAAcE,EAAGC,GAEjBD,EAAEQ,UAAkB,OAANP,EAAaxQ,OAAOgR,OAAOR,IAAMK,EAAGE,UAAYP,EAAEO,UAAW,IAAIF,KAGnFyD,EAAY5W,MAAQA,KAAK4W,UAAa,WAStC,OARAA,EAAWtU,OAAOC,QAAU,SAASsU,GACjC,IAAK,IAAIhJ,EAAGzO,EAAI,EAAG0X,EAAI/C,UAAU/O,OAAQ5F,EAAI0X,EAAG1X,IAE5C,IAAK,IAAI8O,KADTL,EAAIkG,UAAU3U,GACOkD,OAAO+Q,UAAUH,eAAe6D,KAAKlJ,EAAGK,KACzD2I,EAAE3I,GAAKL,EAAEK,IAEjB,OAAO2I,IAEK/C,MAAM9T,KAAM+T,YAEhCzR,OAAOiR,eAAe/T,EAAS,aAAc,CAAEc,OAAO,IACtD,IAAIkT,EAAa,EAAQ,KACrBgrB,EAAa,EAAQ,KACrBC,EAAa,EAAQ,KACrBC,EAAa,EAAQ,KACrBpa,EAAW,EAAQ,IACnB7Q,EAAQ,EAAQ,GAChBkrB,EAAU,EAAQ,KAClB7X,EAAU,EAAQ,KACtB,EAAQ,KACR,EAAQ,KACR,IACI8X,EAAoB,SAAUhrB,GAE9B,SAASgrB,EAAiB3+B,GACtB,IAAI4T,EAAQD,EAAOmD,KAAK/W,KAAMC,IAAUD,KACxC6T,EAAMgrB,eAAiB,SAAUC,GAC7B,OAAOL,EAAWM,aAAaC,OAAO,CAAC,EAAG,EAAG,EAAG,EAAG,IAAIC,MAAM,CAACH,EAAiB,KAEnFjrB,EAAMqrB,cAAgB,SAAUJ,GAC5B,OAAOL,EAAWM,aAAaC,OAAO,CAAC,QAAS,OAAQ,OAAOC,MAAM,CAACH,EAAiB,KAE3FjrB,EAAMsrB,UAAY,SAAUl/B,EAAO6+B,EAAiBM,GAChD,MAAyB,WAArBn/B,EAAMsE,WACCsP,EAAMgrB,eAAeC,GAEF,UAArB7+B,EAAMsE,WACJsP,EAAMqrB,cAAcJ,GAGpBL,EAAWY,cACbJ,MAAM,CAACH,EAAiB,IACxBE,OAAO,CAAC,EAAGR,EAAWvc,IAAImd,GAAU,SAAUvsB,GAAK,OAAO1R,OAAO0R,EAAEsJ,GAAK,OAAU,IAClFmjB,QAGbzrB,EAAM0rB,UAAY,SAAU/qB,EAAIgrB,EAAgBJ,GAC5C,IAAIj4B,EAAYqN,EAAGrN,UAAWs4B,EAAUjrB,EAAGirB,QACvCC,EAAYlB,EAAWmB,OAAOP,GAAU,SAAUvsB,GAAK,OAAOA,EAAEoK,KAChE2iB,EAAQz4B,GAAaA,EAAYu4B,EAAU,GAAKv4B,EAAYu4B,EAAU,GACtEG,EAAMJ,GAAWA,EAAUC,EAAU,GAAKD,EAAUC,EAAU,GAC9DI,EAASrB,EAAWsB,YACnBf,OAAO1a,EAAS0b,OAAO,CAACJ,EAAOC,KAC/BZ,MAAM,CAAC,EAAGO,IACVS,OAAM,GACX,MAAO,CACHH,OAAQA,EACRI,UAAWR,EAAUp6B,IAAIw6B,KAGjCjsB,EAAMssB,UAAY,SAAUlgC,GACxB,IAAIu/B,EAAiBv/B,EAAM+iB,MAAQ/iB,EAAMmgC,QAAQ,GAAKngC,EAAMmgC,QAAQ,GAChEtB,EAAkB7+B,EAAMwL,OAASxL,EAAMmgC,QAAQ,GAAKngC,EAAMmgC,QAAQ,GAClEhB,EAAW9a,EAAS+b,QAAQpgC,EAAM+G,OAAO1B,KAAI,SAAU0W,GAAS,OAAOA,EAAMC,SACjF,OAAOrF,EAASA,EAAS,GAAI/C,EAAM0rB,UAAUt/B,EAAOu/B,EAAgBJ,IAAY,CAAEkB,OAAQzsB,EAAMsrB,UAAUl/B,EAAO6+B,EAAiBM,MAEtIvrB,EAAM0sB,mBAAqB,SAAUT,EAAQU,GACzC,IAAIC,EAAa5sB,EAAM5T,MAAM+G,OAAO,GACpC,GAAIw5B,GAAgBC,EAAY,CAC5B,IAAIzjB,EAAMyjB,EAAWxkB,KAAKykB,WAAU,SAAUxyB,GAAK,OAAOA,EAAE+O,EAAE0jB,YAAcH,EAAaG,aACrFC,EAAStc,EAAS0b,OAAOF,EAAOb,SAChC4B,EAAOf,EAAOU,GAClB,GAAIxjB,GAAO,GAAK6jB,GAAQD,EAAO,IAAMC,GAAQD,EAAO,GAChD,MAAO,CACHJ,aAAcA,EACdM,iBAAkBhB,EAAOU,GACzBO,gBAAiB/jB,GAI7B,MAAO,CAAEwjB,kBAAcx/B,EAAW8/B,sBAAkB9/B,EAAW+/B,qBAAiB//B,IAEpF6S,EAAMmtB,eAAiB,SAAU9/B,GAC7B,IAAI+/B,EAAO//B,EAAO,EAClB,MAAO,IAAM+/B,EAAO,OAAS//B,EAAO,IAAM+/B,EAAO,MAAQA,EAAO,IAAM//B,EAAO,OAAS+/B,EAAO,KAAOA,EAAO,OAAS//B,EAAO,IAAM+/B,GAErIptB,EAAMqtB,YAAc,SAAUx7B,GAC1BA,EAAMuO,iBACN,IAAIO,EAAKX,EAAM7C,MAAOkvB,EAAY1rB,EAAG0rB,UAAWJ,EAAStrB,EAAGsrB,OACxDqB,EAAaz7B,EAAMwO,cAAcktB,wBACjCC,GAAa37B,EAAM47B,MAAQH,EAAWI,MAAQJ,EAAWne,MACzD4d,EAASd,EAAOb,QAChBuC,EAAQ97B,EAAM+7B,UACX,GAAK/7B,EAAM+7B,UAAa5tB,EAAM5T,MAAMyhC,UACrC7tB,EAAM5T,MAAMyhC,UACdC,EAAUf,EAAO,GAAK5e,KAAK4f,MAAMJ,EAAQ97B,EAAMm8B,OAASR,GACxDS,EAAWlB,EAAO,GAAK5e,KAAK4f,MAAMJ,EAAQ97B,EAAMm8B,QAAU,EAAIR,IAC9Dl6B,EAAYw6B,EAAUzB,EAAU,GAAKJ,EAAOiC,OAAOJ,QAAW3gC,EAC9Dy+B,EAAUqC,EAAW5B,EAAU,GAAKJ,EAAOiC,OAAOD,QAAY9gC,EAClE6S,EAAMmuB,iBAAiB76B,EAAWs4B,IAEtC5rB,EAAMmuB,iBAAmB,SAAU76B,EAAWs4B,GACtC5rB,EAAM5T,MAAMgiC,YACZpuB,EAAM5T,MAAMgiC,WAAW96B,EAAWs4B,IAG1C5rB,EAAMquB,gBAAkB,SAAUx8B,GAC9B,IAAIy7B,EAAaz7B,EAAMwO,cAAcktB,wBACrCvtB,EAAMsuB,iBAAiBz8B,EAAM47B,MAAQH,EAAWI,OAEpD1tB,EAAMuuB,iBAAmB,WACrBvuB,EAAM1E,SAAS,CAAEkzB,WAAW,KAEhCxuB,EAAMyuB,eAAiB,WACnB,IAAIC,EAAgB1uB,EAAM5T,MAAMsiC,cAC5BA,IACA1uB,EAAM1E,SAAS,CACXkzB,WAAW,EACX7B,kBAAcx/B,EACd8/B,sBAAkB9/B,EAClB+/B,qBAAiB//B,IAErBuhC,OAAcvhC,OAAWA,OAAWA,KAG5C6S,EAAMG,YAAc,WAChB,IAAIwuB,EAAqB3uB,EAAM5T,MAAMuiC,mBACjCA,GACAA,EAAmB3uB,EAAM7C,MAAMwvB,mBAAgBx/B,IAGvD6S,EAAM4uB,uBAAyB,SAAUC,GACjCA,GACA7uB,EAAM1E,SAAS,CAAEwzB,oBAAqBD,EAAKtB,wBAAwBpe,SAG3EnP,EAAMsuB,iBAAmB,SAAUtB,GAC/BhtB,EAAM1E,UAAS,SAAU6B,GACrB,IAAIyvB,EAAa5sB,EAAM5T,MAAM+G,OAAO,GACpC,GAAIgK,EAAMqxB,WAAa5B,EAAY,CAC/B,IAAI8B,EAAgB1uB,EAAM5T,MAAMsiC,cAC5B97B,EAAOuK,EAAM8uB,OAAOiC,OAAOlB,GAE3B7jB,GAAM4lB,EADIpE,EAAWqE,UAAS,SAAUhwB,GAAK,OAAOA,EAAEoK,KAAMxI,OAC9CgsB,EAAWxkB,KAAMxV,GACnC,GAAIuW,GAAO,EAAG,CACV,IAAI8lB,EAAgBrC,EAAWxkB,KAAKe,EAAM,GACtC+lB,EAAYtC,EAAWxkB,KAAKe,KAC3B+lB,GACAD,GACGr8B,EAAKk6B,UAAYmC,EAAc7lB,EAAE0jB,WAAaoC,EAAU9lB,EAAE0jB,UAAYl6B,EAAKk6B,YAC/E3jB,IAEJ,IAAIwjB,EAAeC,EAAWxkB,KAAKe,GAAKC,EACpC+lB,EAAShyB,EAAM8uB,OAAOU,GAI1B,OAHI+B,GACAA,EAAc/B,EAAcwC,EAAQhmB,GAEjC,CAAEwjB,aAAcA,EAAcM,iBAAkBkC,EAAQjC,gBAAiB/jB,IAGxF,OAAO,SAGfnJ,EAAMovB,qBAAuB,WACzB,IAAIC,EAAcrvB,EAAM5T,MAAMijC,YAC1B1uB,EAAKX,EAAM7C,MAAO8uB,EAAStrB,EAAGsrB,OAAQQ,EAAS9rB,EAAG8rB,OAElD6C,EADmC,mBAAjB7C,EAAO6C,MAEvB7C,EAAO6C,MAAMtvB,EAAM5T,MAAMmjC,gBACzB9C,EAAOtB,SAIb,GAHKmE,EAAMn+B,QACPm+B,EAAM19B,KAAK66B,EAAOtB,SAAS,IAE3BkE,EAAa,CACb,IAAIG,EAAiBF,EAAM79B,KAAI,SAAUg+B,GAAQ,OAAOJ,EAAYI,MAChEH,EAAMn+B,OAASsf,EAASif,KAAKF,GAAgBr+B,SAC7Cm+B,EAAQ7C,EAAOtB,UAGvB,OAAQvrB,EAAMkB,cAAc,IAAK,KAAMwuB,EAAM79B,KAAI,SAAUg+B,GAAQ,OAAQ7vB,EAAMkB,cAAc,IAAK,CAAE/T,IAAK0iC,GACxF,MAAfJ,GAAwBzvB,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW,oCAAqCksB,GAAI,OAAQE,GAAI,QAASyW,WAAY,MAAOvmB,EAAG6iB,EAAOb,QAAQ,GAAI9iB,EAAGmkB,EAAOgD,IAASJ,EAAYI,IACvM7vB,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW,kBAAmBmqB,GAAIgV,EAAOb,QAAQ,GAAIhU,GAAI6U,EAAOb,QAAQ,GAAIlU,GAAIuV,EAAOgD,GAAOpY,GAAIoV,EAAOgD,WAE/IzvB,EAAM4vB,iBAAmB,WACrB,IAAIjvB,EAAKX,EAAM7C,MAAO8uB,EAAStrB,EAAGsrB,OAAQQ,EAAS9rB,EAAG8rB,OAClDoD,EAAS5D,EAAO6D,WAAW,GAC3BR,EAAQrD,EAAOqD,MAAM,GACrBhnB,EAAImkB,EAAOrB,QAAQ,GACvB,OAAQxrB,EAAMkB,cAAc,IAAK,CAAEivB,UAAW,oBAAsBT,EAAM99B,MAAM,GAAI,GAAGC,KAAI,SAAUg+B,EAAMttB,GACvG,IAAI6tB,EAAW7tB,EAAQ,EAAImtB,EAAMn+B,OAASm+B,EAAMntB,EAAQ,GAAK8pB,EAAOd,SAAS,GACzE/hB,GAAK6iB,EAAOwD,GAAQxD,EAAO+D,IAAa,EAC5C,OAAQpwB,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW,kBAAmBC,IAAKoV,EAAOwtB,WAAY,MAAOI,UAAW,eAAiB3mB,EAAI,KAAOd,EAAI,IAAKc,EAAGA,EAAGd,EAAGA,GAAKunB,EAAOJ,SAGhLzvB,EAAMiwB,oBAAsB,SAAUriC,GAClC,IAMIsiC,EACAC,EACAC,EACAC,EACAC,EAVAC,EAAY3iC,EAAO2iC,UAAWC,EAAY5iC,EAAO4iC,UAAWtqB,EAAQtY,EAAOsY,MAC3EvF,EAAKX,EAAM7C,MAAO2xB,EAAsBnuB,EAAGmuB,oBAAqB7C,EAAStrB,EAAGsrB,OAC5EwE,EAD6F9vB,EAAG8rB,OAChFrB,QAChB2B,EAASd,EAAOb,QAChBsF,GAAkB5B,GAAuB,GAAK5oB,EAAMyqB,SAAS73B,KAC7D83B,EAAgB1qB,EAAMyqB,SAAS73B,KAAO,EAoB1C,OAdI03B,GAAaE,GACbP,EAAwBK,EAExBJ,EAAe,EACfC,GAFAH,EAA2BK,GAEiBK,EAC5CN,EAAmB,UAGnBH,EAAwBO,EACxBR,EAA2BnD,EAAOA,EAAO57B,OAAS,GAAKg/B,EACvDC,EAAelqB,EAAMyqB,SAAS73B,KAAO,EACrCu3B,EAAiBtD,EAAOA,EAAO57B,OAAS,GAAKy/B,EAC7CN,EAAmB,OAEf1wB,EAAMkB,cAAclB,EAAMuE,SAAU,KACxCvE,EAAMkB,cAAc,OAAQ,CAAEkF,KAAME,EAAMC,OAAO0qB,iBAAkBj5B,OAxM1D,GAwMsFuX,MAAOghB,EAAuB/mB,EAAG8mB,EAA0B5nB,EAAGmoB,EAAOA,EAAOt/B,OAAS,GAxM3K,GAwMqMi/B,IAC9MxwB,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW,kBAAmBygB,IAAKvN,EAAM4uB,uBAAwBxlB,EAAGinB,EAAgB/nB,EAAGmoB,EAAOA,EAAOt/B,OAAS,GAAKy/B,EAAgBR,EAAcT,WAAYW,GAAoB,cAEvNtwB,EAAM8wB,WAAa,WACf,IAAInwB,EAAKX,EAAM5T,MAAO2kC,EAAuBpwB,EAAGowB,qBAAsBh+B,EAAiB4N,EAAG5N,eAC1F,IAAKA,EACD,OAAO,KAEX,IAAIgU,EAAK/G,EAAM7C,MAAO8uB,EAASllB,EAAGklB,OAC9BwE,EAD+C1pB,EAAG0lB,OAClCrB,QAChB2B,EAASd,EAAOb,QAChBmF,EAAYpiB,KAAKC,IAAI6d,EAAOl5B,GAAiBg6B,EAAO,IACpDyD,EAAYzD,EAAOA,EAAO57B,OAAS,GAAKo/B,EAC5C,OAAIC,EAAY,EACL,KAEH5wB,EAAMkB,cAAcmS,EAAQ+d,cAAe,MAAM,SAAU9qB,GAAS,OAAQtG,EAAMkB,cAAclB,EAAMuE,SAAU,KACpH4sB,GAAwB/wB,EAAMiwB,oBAAoB,CAAEM,UAAWA,EAAWC,UAAWA,EAAWtqB,MAAOA,IACvGtG,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW,kBAAmBkZ,KAAME,EAAMC,OAAO0qB,iBAAkBj5B,OAAQ64B,EAAO,GAAKA,EAAOA,EAAOt/B,OAAS,GAAIge,MAAOqhB,EAAWpnB,EAAGmnB,EAAWjoB,EAAGmoB,EAAOA,EAAOt/B,OAAS,UAElN6O,EAAMixB,YAAc,WAChB,IAAIC,EAAgBrG,EAAWlM,OAC1BH,SAAQ,SAAUxf,GAAK,OAAO9N,QAAQ8N,EAAEsJ,GAAa,IAARtJ,EAAEsJ,MAC/Cc,GAAE,SAAUpK,GAAK,OAAOgB,EAAM7C,MAAM8uB,OAAOjtB,EAAEoK,MAC7Cd,GAAE,SAAUtJ,GAAK,OAAOgB,EAAM7C,MAAMsvB,OAAOztB,EAAEsJ,MAIlD,OAHItI,EAAM5T,MAAM+kC,YACZD,EAAczS,MAAMoM,EAAWuG,YAE3BxxB,EAAMkB,cAAc,IAAK,KAAMd,EAAM5T,MAAM+G,OAAO1B,KAAI,SAAU0W,EAAOgB,GAAO,OAAQvJ,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW6S,EAAW,kBAAmB,mBAAqBwJ,GAAMnK,EAAGkyB,EAAc/oB,EAAMC,YAASjb,EAAWJ,IAAKob,EAAMxX,YAE1PqP,EAAMqxB,WAAa,WACf,OAAQzxB,EAAMkB,cAAc,IAAK,KAAMd,EAAM5T,MAAM+G,OAC9C1B,KAAI,SAAU0W,EAAOmpB,GACtB,OAAOnpB,EAAMC,KACR3W,KAAI,SAAU4W,EAAOc,GACtB,IAAIooB,GAAmBlpB,EAAMC,GAAiB,IAAZD,EAAMC,EACpCkpB,EAAiBrpB,EAAMC,KAAKe,EAAM,KAAOhB,EAAMC,KAAKe,EAAM,GAAGb,GAA+B,IAA1BH,EAAMC,KAAKe,EAAM,GAAGb,GACtFmpB,EAAgBtpB,EAAMC,KAAKe,EAAM,KAAOhB,EAAMC,KAAKe,EAAM,GAAGb,GAA+B,IAA1BH,EAAMC,KAAKe,EAAM,GAAGb,GACzF,KAAIipB,GAAmBC,GAAkBC,GAGzC,OAAQ7xB,EAAMkB,cAAc,SAAU,CAAEhU,UAAW6S,EAAW,iBAAkB,kBAAoB2xB,GAAWrV,GAAIjc,EAAM7C,MAAM8uB,OAAO5jB,EAAMe,GAAI8S,GAAIlc,EAAM7C,MAAMsvB,OAAOpkB,EAAMC,GAAIvb,IAAKob,EAAMxX,KAAOwY,EAAKwG,EAAG,SAE1M9b,OAAOi3B,EAAQ4G,cAEnB79B,QAAO,SAAU89B,GAAQ,OAAOA,EAAKxgC,OAAS,OAEvD6O,EAAM4xB,YAAc,WAChB,IAAIC,EAAgBhH,EAAWhM,OAC1BL,SAAQ,SAAUxf,GAAK,OAAO9N,QAAQ8N,EAAEsJ,GAAa,IAARtJ,EAAEsJ,MAC/Cc,GAAE,SAAUpK,GAAK,OAAOgB,EAAM7C,MAAM8uB,OAAOjtB,EAAEoK,MAC7C8N,IAAG,SAAUlY,GAAK,OAAOgB,EAAM7C,MAAMsvB,OAAOztB,EAAEsJ,MAC9CkP,GAAGxX,EAAM7C,MAAMsvB,OAAO,IAI3B,OAHIzsB,EAAM5T,MAAM+kC,YACZU,EAAcpT,MAAMoM,EAAWuG,YAE3BxxB,EAAMkB,cAAc,IAAK,KAAMd,EAAM5T,MAAM+G,OAAO1B,KAAI,SAAU0W,EAAOgB,GAAO,OAAQvJ,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW6S,EAAW,kBAAmB,mBAAqBwJ,GAAMnK,EAAG6yB,EAAc1pB,EAAMC,YAASjb,EAAWJ,IAAKob,EAAMxX,YAE1PqP,EAAM8xB,mBAAqB,WACvB,IAAInxB,EAAKX,EAAM7C,MAAO+vB,EAAkBvsB,EAAGusB,gBAAiBD,EAAmBtsB,EAAGssB,iBAAkBR,EAAS9rB,EAAG8rB,OAC5GG,EAAa5sB,EAAM5T,MAAM+G,OAAO,GACpC,OAAuB,MAAnB+5B,GAA+C,MAApBD,GAA6BL,EAGpDhtB,EAAMkB,cAAc,IAAK,KAC7BlB,EAAMkB,cAAc,OAAQ,CAAEhU,UAAW,eAAgBmqB,GAAIgW,EAAkB7V,GAAI6V,EAAkB/V,GAAIuV,EAAOrB,QAAQ,GAAI/T,GAAIoV,EAAOrB,QAAQ,KAC/IprB,EAAM5T,MAAM+G,OAAO1B,KAAI,SAAU0W,EAAOgB,GACpC,IAAId,EAAQF,EAAMC,KAAK8kB,GACvB,OAAK7kB,IAAWA,EAAMC,GAAiB,IAAZD,EAAMC,EACtB,KAEH1I,EAAMkB,cAAc,SAAU,CAAEhU,UAAW6S,EAAW,iBAAkB,kBAAoBwJ,GAAM8S,GAAIgR,EAAkB/Q,GAAIuQ,EAAOpkB,EAAMC,GAAIvb,IAAKob,EAAMxX,KAAMgf,EAAG,UATtK,MAYf3P,EAAM+xB,eAAiB,WACnB,OAAQnyB,EAAMkB,cAAc,OAAQ,KAChClB,EAAMkB,cAAc,WAAY,CAAEnU,GAAI,cAClCiT,EAAMkB,cAAc,OAAQ,CAAElJ,OAAQoI,EAAM7C,MAAMsvB,OAAOrB,QAAQ,GAAK,GAAI2E,UAAW,kBAAmB5gB,MAAOnP,EAAM7C,MAAM8uB,OAAOb,QAAQ,QAEtJprB,EAAMgyB,yBAA2B,SAAUC,GACvC,IAAIC,EAAc,GAYlB,OAXID,IACAC,EAAYC,QAAUnyB,EAAMqtB,aAE5BrtB,EAAM5T,MAAMsiC,gBACZwD,EAAYE,aAAepyB,EAAMuuB,iBACjC2D,EAAYG,YAAcryB,EAAMquB,gBAChC6D,EAAYI,WAAatyB,EAAMyuB,gBAE/BzuB,EAAM5T,MAAMuiC,qBACZuD,EAAYxgC,QAAUsO,EAAMG,aAExBP,EAAMkB,cAAc,OAAQiC,EAAS,CAAEjW,UAAW,6BAA8B8K,OAAQoI,EAAM7C,MAAMsvB,OAAOrB,QAAQ,GAAIjc,MAAOnP,EAAM7C,MAAM8uB,OAAOb,QAAQ,IAAM8G,KAE3K,IAAIK,EAASvyB,EAAMssB,UAAUlgC,GACzBomC,EAAkBxyB,EAAM0sB,mBAAmB6F,EAAOtG,OAAQ7/B,EAAMugC,cAIpE,OAHA3sB,EAAM7C,MAAQ4F,EAASA,EAAS,GAAIwvB,GAASC,GAC7CxyB,EAAMsuB,iBAAmB7d,EAASgiB,SAASzyB,EAAMsuB,iBAAkB,IACnEtuB,EAAMmuB,iBAAmB1d,EAASgiB,SAASzyB,EAAMmuB,iBAAkB,IAC5DnuB,EAyDX,OAlWAjB,EAAUgsB,EAAkBhrB,GA2S5BgrB,EAAiBvrB,UAAUkzB,mBAAqB,SAAU70B,GACtD,IAAI00B,EACAC,EAaJ,GAZIrmC,KAAKC,MAAMsE,aAAemN,EAAUnN,YACpCvE,KAAKC,MAAMkH,YAAcuK,EAAUvK,WACnCnH,KAAKC,MAAMw/B,UAAY/tB,EAAU+tB,SACjCz/B,KAAKC,MAAM+iB,QAAUtR,EAAUsR,OAC/BhjB,KAAKC,MAAMmgC,UAAY1uB,EAAU0uB,SACjCpgC,KAAKC,MAAMwL,SAAWiG,EAAUjG,QAChCzL,KAAKC,MAAM+G,SAAW0K,EAAU1K,SAChCo/B,EAASpmC,KAAKmgC,UAAUngC,KAAKC,OACE,MAA3BD,KAAKgR,MAAMwvB,eACX6F,EAAkBrmC,KAAKugC,mBAAmB6F,EAAOtG,OAAQ9/B,KAAKgR,MAAMwvB,iBAGvElc,EAASkiB,QAAQxmC,KAAKC,MAAMugC,aAAc9uB,EAAU8uB,cAAe,CACpE,IAAIV,EAASsG,EAASA,EAAOtG,OAAS9/B,KAAKgR,MAAM8uB,OACjDuG,EAAkBrmC,KAAKugC,mBAAmBT,EAAQ9/B,KAAKC,MAAMugC,eAE7D4F,GAAUC,KACND,GACApmC,KAAKmP,SAASyH,EAAS,GAAIwvB,IAE3BC,GACArmC,KAAKmP,SAASyH,EAAS,GAAIyvB,IAE3BA,GAAmBrmC,KAAKC,MAAMsiC,eAC9BviC,KAAKC,MAAMsiC,cAAc8D,EAAgB7F,aAAc6F,EAAgBvF,iBAAkBuF,EAAgBtF,mBAIrHnC,EAAiBvrB,UAAUkB,OAAS,WAChC,IAAKvU,KAAKC,MAAM+iB,QAAUhjB,KAAKC,MAAMwL,OACjC,OAAOgI,EAAMkB,cAAc,MAAO,MAEtC,IAAImxB,GAAe9lC,KAAKC,MAAMwmC,aAAwC,MAAzBzmC,KAAKC,MAAMgiC,WACpDyE,EAAW3hC,QAAQ/E,KAAKC,MAAMkH,WAAanH,KAAKC,MAAMw/B,SAC1D,OAAQhsB,EAAMkB,cAAc,MAAO,CAAEhU,UAAW6S,EAAW,aAAc,CAAE,eAAgBkzB,IAAaj7B,OAAQzL,KAAKC,MAAMwL,OAAQuX,MAAOhjB,KAAKC,MAAM+iB,OACjJ8iB,GAAe9lC,KAAK4lC,iBACpBnyB,EAAMkB,cAAc,IAAK,CAAEivB,UAAW,aAAe5jC,KAAKC,MAAMmgC,QAAQ,GAAK,KAAOpgC,KAAKC,MAAMmgC,QAAQ,GAAK,KAC3E,MAA7BpgC,KAAKC,MAAM2G,gBAA0B5G,KAAK2kC,cACzC3kC,KAAKC,MAAM0mC,UAAY3mC,KAAKijC,wBAC5BjjC,KAAKC,MAAM2mC,WAAa5mC,KAAKyjC,mBAC9BzjC,KAAKC,MAAM4mC,WAAa7mC,KAAKylC,cAC7BzlC,KAAK8kC,cACL9kC,KAAKklC,aACLllC,KAAK2lC,qBACL3lC,KAAK6lC,yBAAyBC,MAE1ClH,EAAiB7pB,aAAe,CAC5B+xB,UAAW,EACX1D,eAAgB,EAChBhD,QAAS,CAAC,GAAI,GAAI,GAAI,IACtBsB,UAAW,GAER9C,EAnWY,CAoWrBnrB,EAAMuB,eACRxV,EAAQN,QAAU0/B,G,oBC1YlB,IAAI7/B,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,8rBAA+rB,KAExtBD,EAAOK,QAAUA,G,qBCJjBA,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,+jBAAgkB,KAEzlBD,EAAOK,QAAUA,G,iCCNjB,yGAqCe,SAASwI,EAAa/H,GACnC,MAAM,WAAEN,EAAF,UAAcC,EAAd,MAAyB+G,EAAzB,MAAgCpF,EAAhC,OAAuCV,GAAWZ,EACxD,OACE,gBAAC,IAAI,CACHU,UAAU,gBACVkB,QACab,IAAXH,QAAkCG,IAAV2F,GAAuB,YAAcA,GACzD,YAAqB/G,EAAWiB,EAAQlB,GACxC,YAAeC,EAAWD,EAAYgH,IAE5C,gBAAC,IAAW,CAAChG,UAAU,sBAAsBO,KAAM,KACnD,4BAAOK,GAAS,oBAAU,+B,oBChDhC,IAAIxC,EAAM,EAAQ,KACFC,EAAU,EAAQ,KAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAIhBC,GAFSP,EAAIC,EAASK,GAEXL,EAAQO,OAASP,EAAQO,OAAS,IAIjDJ,EAAOK,QAAUF,G,qBClBjBE,EADkC,EAAQ,IAChCgG,EAA4B,IAE9BC,KAAK,CAACtG,EAAOC,EAAI,mFAAoF,KAE7GD,EAAOK,QAAUA,G,0QC4BF,MAAM,UAAyB,gBAA9C,c,oBACE,KAAAwU,YAAc,KACRhU,KAAKC,MAAM8mC,cACb/mC,KAAKC,MAAM8mC,aAAa/mC,KAAKC,MAAMY,SAIvC,SACE,MAAMmmC,EAA0C,MAA3BhnC,KAAKC,MAAM8mC,aAC1BE,EAAc,EAClB,CAAE,mCAAoCD,GACtChnC,KAAKC,MAAMU,WAEb,OACE,wBAAMA,UAAWsmC,GACdjnC,KAAKC,MAAMinC,YACV,gBAAC,IAAa,CAACvmC,UAAU,iBAEzB,gBAAC,IAAe,CAACA,UAAU,2BAA2BqV,MAAOhW,KAAKC,MAAM+V,QAE1E,wBAAMrV,UAAU,eAAeX,KAAKC,MAAMuE,MACzCwiC,GACC,gBAAC,cAAW,CACVrmC,UAAU,sCACVsY,UAAW,CAAE/X,KAAM,IACnBqE,QAASvF,KAAKgU,gB,aC5BX,SAASmzB,EAAmBlnC,GACzC,MAAM,OAAE+G,GAAW/G,EACnB,OACE,uBAAKU,UAAU,8CACb,uBAAKA,UAAU,UACZqG,EAAO1B,IAAI,CAAC0W,EAAOgB,KAClB,MAAMoqB,EAAU,YAAcprB,GACxBqrB,EACJ,gBAAC,EAAgB,CACfrxB,MAAOgH,EACPnc,OAAQmb,EAAMxX,KACdA,KAAMwX,EAAMkB,eACZ6pB,aAAc9mC,EAAM8mC,aACpBG,aAAcE,IAGlB,OAAKA,EAUH,wBAAMzmC,UAAU,2BAA2BC,IAAKob,EAAMxX,MACnD6iC,GATD,gBAAC,IAAO,CACNzmC,IAAKob,EAAMxX,KACXzC,QAAS,oBAAU,qDACnB,wBAAMpB,UAAU,4BAA4B0mC,QCzB7C,SAASC,GAAmB,OAAEtgC,IAC3C,OACE,uBAAKrG,UAAU,0BACZqG,EAAO1B,IAAI,CAAC0W,EAAOgB,IAClB,gBAAC,EAAgB,CACfrc,UAAU,mCACVqV,MAAOgH,EACPpc,IAAKob,EAAMxX,KACX3D,OAAQmb,EAAMxX,KACdA,KAAMwX,EAAMkB,mB,wCCPP,SAASqqB,GAAsB,KAAE/iC,EAAF,MAAQwR,EAAR,eAAekH,EAAf,MAA+B5c,IAC3E,OACE,sBAAIK,UAAU,8BAA8BC,IAAK4D,GAC/C,sBAAI7D,UAAU,QACZ,gBAAC,IAAe,CAACA,UAAU,eAAeqV,MAAOA,KAEnD,sBAAIrV,UAAU,6DAA6DL,GAC3E,0BAAK4c,ICNI,SAASsqB,GAA8B,aACpDC,EADoD,gBAEpD3gC,EAFoD,WAGpD4gC,IAEA,MAAMC,EAAY7gC,EAAgBsG,KAAK/M,GAA8B,oBAAnBA,EAAQQ,QACpDiM,EAAWhG,EAAgBsG,KAAK/M,GAA8B,aAAnBA,EAAQQ,QACzD,KAAK8mC,GAAcA,EAAUrgC,QAAQogC,IAAgB56B,GAAaA,EAASxF,QAAQogC,IACjF,OAAO,KAET,MAAME,EAAiBD,EAAUrgC,QAAQogC,GAAYpnC,MAC/CunC,EAAgB/6B,EAASxF,QAAQogC,GAAYpnC,MACnD,OACE,6BACGmnC,GACC,0BACE,sBAAI9mC,UAAU,mCAAmCmnC,QAAS,GACxD,6BAILF,GACC,sBAAIjnC,UAAU,+BACZ,sBAAIA,UAAU,4DAA4DmnC,QAAS,GAChF,wBAAcF,EAAgB,cAEjC,0BAAK,oBAAU,iCAGlBC,GACC,sBAAIlnC,UAAU,+BACZ,sBAAIA,UAAU,4DAA4DmnC,QAAS,GAChF,wBAAcD,EAAe,YAEhC,0BAAK,oBAAU,2BClCV,SAASE,GAAiC,aACvDN,EADuD,gBAEvD3gC,EAFuD,WAGvD4gC,IAEA,MAAMM,EAAqBlhC,EAAgBsG,KACzC/M,GAA8B,6BAAnBA,EAAQQ,QAErB,IAAKmnC,IAAuBA,EAAmB1gC,QAAQogC,GACrD,OAAO,KAET,MAAMO,EAA0BD,EAAmB1gC,QAAQogC,GAAYpnC,MACvE,OAAK2nC,EAIH,6BACGR,GACC,0BACE,sBAAI9mC,UAAU,mCAAmCmnC,QAAS,GACxD,6BAIN,sBAAInnC,UAAU,+BACZ,sBAAIA,UAAU,4DAA4DmnC,QAAS,GAChF,wBAAcG,EAAyB,YAE1C,0BAAK,oBAAU,2CAfZ,K,sBCdI,SAASC,GAA4B,aAAET,EAAF,OAAgBphC,IAClE,OACE,6BACGohC,GACC,0BACE,sBAAI9mC,UAAU,mCAAmCmnC,QAAS,GACxD,6BAIN,sBAAInnC,UAAU,+BACZ,sBAAImnC,QAAS,GACX,4BAAO,oBAAU,UAAkB,KAClCzhC,EAAOf,IAAII,GACV,wBAAM/E,UAAU,cAAcC,IAAK8E,EAAM9E,KACvC,gBAAC,IAAgB,CACfD,UAAW,IAAW,8BAA+B+E,EAAMC,iB,sBCZ3E,MAAMwiC,EAAgC,CACpCntB,KAAM,qBACNE,gBAAiB,kBACjBD,YAAa,gBAGA,SAASmtB,EAA4BnoC,GAClD,MAAM+B,EAAS/B,EAAM6G,gBAAgBsG,KACnC/M,GAAWA,EAAQQ,SAAWsnC,EAAcloC,EAAMuE,OAEpD,IAAKxC,IAAWA,EAAOsF,QAAQrH,EAAMynC,YACnC,OAAO,KAET,MAAMW,EAAcrmC,EAAOsF,QAAQrH,EAAMynC,YAAYpnC,MACrD,OACE,sBAAIK,UAAU,qCAAqCC,IAAKX,EAAMuE,MAC5D,sBAAI7D,UAAU,QACZ,gBAAC,IAAe,CAACA,UAAU,eAAeqV,MAAO/V,EAAM+V,SAEzD,sBAAIrV,UAAU,2BACZ,wBAAMA,UAAU,gCAAgCV,EAAMK,OACrD+nC,GAAe,gBAAC,IAAM,CAAC1nC,UAAU,cAAcsF,OAAO,EAAM3F,MAAO+nC,KAEtE,0BAAKpoC,EAAMid,iBCXF,MAAM,UAAuB,gBAC1C,gBACE,MAAM,WAAEwqB,GAAe1nC,KAAKC,MAE5B,OAAOD,KAAKC,MAAM+G,OAAO1B,IAAI,CAAC0W,EAAOgB,KACnC,MAAMd,EAAQF,EAAMC,KAAKyrB,GACzB,OAAKxrB,IAAWA,EAAMC,GAAiB,IAAZD,EAAMC,EACxB,KAELnc,KAAKC,MAAM0G,QAAU,IAErB,gBAACyhC,EAA2B,CAC1BpyB,MAAOgH,EACPpc,IAAKob,EAAMxX,KACXsC,gBAAiB9G,KAAKC,MAAM6G,gBAC5BtC,KAAMwX,EAAMxX,KACZkjC,WAAYA,EACZxqB,eAAgBlB,EAAMkB,eACtB5c,MAAON,KAAKC,MAAMqoC,YAAYpsB,EAAMC,KAKtC,gBAACorB,EAAqB,CACpBvxB,MAAOgH,EACPpc,IAAKob,EAAMxX,KACXA,KAAMwX,EAAMxX,KACZ0Y,eAAgBlB,EAAMkB,eACtB5c,MAAON,KAAKC,MAAMqoC,YAAYpsB,EAAMC,OAO9C,SACE,MAAM,OAAE9V,EAAF,gBAAUS,EAAV,WAA2B4gC,GAAe1nC,KAAKC,MAErD,IAAIshC,EAAOvhC,KAAKC,MAAMsoC,WAAa,GAC/BC,EAAY,iBAAeC,SAC3BlH,EAAOvhC,KAAKC,MAAMyoC,WA1CJ,IA0CiC,KACjDnH,GA3CgB,IA4ChBiH,EAAY,iBAAeG,SAE7B,MAAMC,EAAiB5oC,KAAK6oC,gBAAgBnhC,OAAO,aAC7C+/B,EAAemB,EAAe5jC,OAAS,EAC7C,OACE,gBAAC,QAAK,CACJrE,UAAU,0BACV6nC,UAAWA,EACXh9B,MAAO,CAAEkB,IAbD,GAaM60B,OAAMve,MApDN,MAqDd,uBAAKriB,UAAU,0BACb,uBAAKA,UAAU,8CACb,gBAAC,IAAiB,CAAC8F,KAAMzG,KAAKC,MAAMugC,gBAEtC,yBAAO7/B,UAAU,aACf,6BAAQioC,GACc,aAArB5oC,KAAKC,MAAM0G,OACV,gBAAC6gC,EAA6B,CAC5BC,aAAcA,EACd3gC,gBAAiBA,EACjB4gC,WAAYA,IAGM,iBAArB1nC,KAAKC,MAAM0G,OACV,gBAACohC,EAAgC,CAC/BN,aAAcA,EACd3gC,gBAAiBA,EACjB4gC,WAAYA,IAGfrhC,GAAUA,EAAOrB,OAAS,GACzB,gBAACkjC,EAA2B,CAACT,aAAcA,EAAcphC,OAAQA,QCjEhE,MAAM,UAAqB,gBAA1C,c,oBACE,KAAA2K,MAAe,GAEf,KAAAs3B,YAAehF,GACN,wBAAcA,EAAM,uBAAatjC,KAAKC,MAAM6oC,cAGrD,KAAAC,mBAAsBzF,GACb,wBAAcA,EAAMtjC,KAAKC,MAAM6oC,aAGxC,KAAAvG,cAAgB,CAAC/B,EAAqBwI,EAAsBtB,KAC1D1nC,KAAKC,MAAMsiC,cAAc/B,GACzBxgC,KAAKmP,SAAS,CAAE65B,cAAatB,gBAG/B,SACE,MAAM,OACJrhC,EADI,MAEJM,EAFI,aAGJsiC,EAHI,eAIJC,EAJI,SAKJC,EALI,eAMJviC,EANI,gBAOJE,EAPI,YAQJgiC,EARI,aASJtI,EATI,OAUJx5B,EAVI,UAWJ6/B,GACE7mC,KAAKC,OACH,WAAEynC,EAAF,YAAcsB,GAAgBhpC,KAAKgR,MAEzC,OACE,uBAAKrQ,UAAU,2GACZwoC,GAAYnpC,KAAKC,MAAMmpC,mBACtB,gBAACjC,EAAkB,CAACJ,aAAc/mC,KAAKC,MAAMmpC,mBAAoBpiC,OAAQA,IAEzE,gBAACsgC,EAAkB,CAACtgC,OAAQA,IAG9B,uBAAKrG,UAAU,UACb,gBAAC0oC,EAAA,UAAS,KACP,EAAG59B,SAAQuX,WACV,2BACE,gBAAC,IAAgB,CACf4hB,sBAAsB,EACtBnF,QAASwJ,EACT/F,YAAaljC,KAAKsoC,YAClB78B,OAAQA,EACR7E,eAAgBA,EAChBrC,WAAYukC,EACZtI,aAAcA,EACdx5B,OAAQA,EACR6/B,UAAWA,EACX1/B,UAAW+hC,EACX1G,mBAAoBxiC,KAAKC,MAAMuiC,mBAC/BD,cAAeviC,KAAKuiC,cACpBN,WAAYjiC,KAAKC,MAAMqpC,gBACvBtmB,MAAOA,SAEShiB,IAAjBw/B,QACgBx/B,IAAf0mC,QACgB1mC,IAAhBgoC,GACE,gBAAC,EAAc,CACb3iC,OAAQA,EACRiiC,YAAatoC,KAAK+oC,mBAClBpiC,MAAOA,EACP+hC,WAAY1lB,EACZlc,gBAAiBA,EACjB05B,aAAcA,EACdx5B,OAAQA,EACR0gC,WAAYA,EACZa,WAAYS,S,OC3EnB,MAAM,UAAsB,gBACzC,YAAY/oC,GACV4O,MAAM5O,GAYR,KAAAspC,sBAAwB,KACtB,MAAM,aAAE/I,GAAiBxgC,KAAKgR,OACxB,SAAEtK,GAAa1G,KAAKC,MAC1B,GAAIyG,GAAY85B,EAAc,CAC5B,MAAMr6B,EAAWO,EAAS0G,KAAKzF,GAAKA,EAAElB,KAAKk6B,YAAcH,EAAaG,WACtE,GAAIx6B,EACF,OAAOA,EAASE,OAGpB,MAAO,IAGT,KAAAk8B,cAAiB/B,IACfxgC,KAAKmP,SAAS,CAAEqxB,kBAxBhBxgC,KAAKgR,MAAQ,CACXwvB,aAAcvgC,EAAMugC,cAIxB,0BAA0BhgB,GACnB,IAAQA,EAAUggB,aAAcxgC,KAAKC,MAAMugC,eAC9CxgC,KAAKmP,SAAS,CAAEqxB,aAAchgB,EAAUggB,eAoB5C,SACE,MAAM,MAAE75B,EAAF,QAASE,EAAT,OAAkBG,GAAWhH,KAAKC,MAClCkpC,EAAW,YAAcxiC,GAE/B,GAAIE,EACF,OACE,uBAAKlG,UAAU,2GACb,uBAAKA,UAAU,eACb,gBAAC,IAAe,CAACkG,QAASA,MAMlC,IAAK,YAAeG,GAClB,OACE,uBAAKrG,UAAU,2GACb,uBAAKA,UAAU,mDACb,uBACE+K,IAAI,GACJ/K,UAAU,eACV8K,OAAQ,GACRE,IAAG,UAAK,uBAAL,gCAEL,uBAAKhL,UAAU,iCAAiC6K,MAAO,CAAEI,SAAU,MAChE,oBACCu9B,EACI,4CACA,oCAOhB,MAAM9iC,EAASrG,KAAKupC,wBACd1C,EAAY,CAAC,IAAU/5B,SAAU,IAAUuO,cAAcnR,SAASvD,GACxE,OACE,uBAAKhG,UAAU,kFACZX,KAAKC,MAAMgH,OAAO3B,IAAI,CAACkkC,EAAaxsB,IACnC,gBAAC,EAAY,CACX3W,OAAQA,EACRM,MAAOA,EACPsiC,aAAcjpC,KAAKC,MAAMgpC,aACzBC,eAAgBlpC,KAAKC,MAAMipC,eAC3BC,SAAUA,EACVvoC,IAAKoc,EACLpW,eAAgB5G,KAAKC,MAAM2G,eAC3BE,gBAAiB9G,KAAKC,MAAM6G,gBAC5BgiC,YAAa,YAAoBU,GACjCJ,mBAAoBppC,KAAKC,MAAMmpC,mBAC/B5I,aAAcxgC,KAAKgR,MAAMwvB,aACzBx5B,OAAQwiC,EACR3C,UAAWA,EACXyC,gBAAiBtpC,KAAKC,MAAMqpC,gBAC5B9G,mBAAoBxiC,KAAKC,MAAMuiC,mBAC/BD,cAAeviC,KAAKuiC,qB,0lBCnGjB,SAASkH,EAAV,GAIa,IAJiB,SAC1C3pB,EAD0C,kBAE1C4pB,GAEyB,EADtBzpC,EACsB,sCACrB8gB,EAA8B,GAsBlC,OApBI9gB,EAAM4f,iBAAiB7a,QAAU,EACnC+b,EACE,gBAACzY,EAAA,MAAK,CAAC3H,UAAU,sCAAsCwH,QAAQ,QAC5D,oBAAU,mDAGNuhC,GAAqBA,EAAkB1kC,OAAS,IACzD+b,EACE,gBAACzY,EAAA,MAAK,CAAC3H,UAAU,sCAAsCwH,QAAQ,QAC5D,kCACC,gDACAuhC,EACGpkC,IAAKxF,GAAiB,oBAAU,cAAeA,IAC/CyzB,OACApiB,KAAK,SAOd,uBAAKxQ,UAAU,sBACb,gBAACgpC,EAAA,EAAW,CACV7oB,kBAAkB,EAClBD,eAAgB5gB,EAAM4f,iBAAiB7a,OAAS,EAChD8a,SAAUA,EACVE,eAAgB/f,EAAM+f,eACtBe,WAAYA,EACZvB,SAAUvf,EAAMuf,SAChB5S,SAAW2R,GAAiBuB,EAAS5V,SAASqU,IAASte,EAAM2M,SAAS2R,GACtEoB,WAAY1f,EAAM0f,WAClB6B,YAAa,oBAAU,0BACvBtD,YAAaje,EAAMie,YACnB2B,iBAAkB5f,EAAM4f,oBCjCjB,MAAM,UAAuB,gBAA5C,c,oBACE,KAAA7O,MAAe,CACbjK,QAAS,GACT1E,MAAO,GACPunC,gBAAiB,IAGnB,KAAA5pB,eAAiB,CAAC3d,EAAewd,IACxBA,EAAiBnY,OAAOsW,GAC7Bhe,KAAK6pC,8BAA8B7rB,GAChCjb,cACAmH,SAAS7H,EAAMU,gBAItB,KAAA+mC,sBAAwB,EACpBJ,oBAAmB3iC,UAAS6iC,mBAC9BvnC,IAEO0E,EACJW,OAAO7G,KAEJA,EAAOkpC,QACP,uBAAalpC,EAAOD,MACpB,CAAC,OAAQ,WAAWsJ,SAASrJ,EAAOf,OACpC8pC,EAAgB1/B,SAASrJ,EAAOD,OAC/B,iCAAuBC,GACrBkC,cACAmH,SAAS7H,EAAMU,oBAIhB2mC,GAAqBA,EAAkB1kC,OAAS,IAC3C0kC,EAAkBx/B,SAASrJ,EAAOf,QAI5CwF,IAAIzE,GAAUA,EAAOD,KAG1B,KAAAopC,2BAA6B,CAACjjC,EAAqB6iC,KACjD,MAAM/8B,EAAW+8B,GAAmB5pC,KAAKC,MAAM2pC,gBAC/C,OAAO7iC,EAAQW,OAAO7G,GAAUgM,EAAS3C,SAASrJ,EAAOD,MAAM0E,IAAIzE,GAAUA,EAAOD,MAGtF,KAAAipC,8BAAiCjpC,IAC/B,MAAMC,EAAS,IAAKb,KAAKC,MAAM8G,QAAS,CAAEnG,QAC1C,YAAkBI,IAAXH,EAAuBD,EAAM,iCAAuBC,IAG7D,KAAA2e,SAAYnd,IACVrC,KAAKmP,SAAS,CAAE9M,UACTyN,QAAQm6B,WAGjB,KAAAr9B,SAAY/L,IACVb,KAAKC,MAAMiqC,UAAUrpC,GACrBb,KAAKmP,SAAS6B,IACL,CACL44B,gBAAiB,IAAO,IAAI54B,EAAM44B,gBAAiB/oC,IACnDkG,QAAS/G,KAAK8pC,sBAAsB9pC,KAAKC,MAAO+Q,EAAM3O,WAK5D,KAAAsd,WAAc9e,IACZb,KAAKC,MAAM8mC,aAAalmC,GACxBb,KAAKmP,SAAS6B,IACL,CACLjK,QAAS,IAAO,IAAIiK,EAAMjK,QAASlG,IACnC+oC,gBAAiB54B,EAAM44B,gBAAgBliC,OAAOmF,GAAYA,IAAahM,OAK7E,SACE,MAAM,MAAEwB,GAAUrC,KAAKgR,MACjBm5B,EAAkBnqC,KAAK8pC,sBAAsB9pC,KAAKC,MAAOoC,GACzDunC,EAAkB5pC,KAAKgqC,2BAC3BhqC,KAAKC,MAAM8G,QACX/G,KAAKC,MAAM2pC,iBAEb,OACE,gBAAC,IAAQ,CACPjpC,UAAU,uBACVypC,cAAc,EACdC,qBAAqB,EACrBtoC,QACE,gBAAC0nC,EAAmB,CAClB3pB,SAAUqqB,EACVnqB,eAAgBhgB,KAAKggB,eACrB0pB,kBAAmB1pC,KAAKC,MAAMypC,kBAC9BlqB,SAAUxf,KAAKwf,SACf5S,SAAU5M,KAAK4M,SACf+S,WAAY3f,KAAK2f,WACjBzB,YAAaF,GAAWhe,KAAK6pC,8BAA8B7rB,GAC3D6B,iBAAkB+pB,KAGtB,gBAAC,SAAM,CAACjpC,UAAU,eAChB,wBAAMA,UAAU,6BACb,oBAAU,uCAEb,gBAAC,IAAY,CAACA,UAAU,mC,oBC3GnB,MAAM,UAAqB,gBAA1C,c,oBACE,KAAA8Q,kBAAqB64B,IACfA,EAAOhqC,QAAUN,KAAKC,MAAM0G,OAC9B3G,KAAKC,MAAM4H,YAAYyiC,EAAOhqC,QAIlC,SACE,MAAM,gBACJiqC,EADI,UAEJ5pC,EAFI,MAGJgG,EAHI,QAIJI,EAJI,kBAKJ2iC,EALI,mBAMJN,EANI,gBAOJQ,EAAkB,IAChB5pC,KAAKC,MAIHuqC,EAFQ,iBAAkCxpC,IAApBupC,QAAwDvpC,IAAvBooC,GAEjC9jC,IAAIxF,IAAI,CAClCyB,MAAO,oBAAU,0BAA2BzB,GAC5CQ,MAAOR,KAGT,OACE,uBAAKa,UAAW,IAAWA,EAAW,sBACpC,gBAAC,IAAM,CACLA,UAAU,yBACV8pC,WAAW,EACXlpB,SAAUvhB,KAAKyR,kBACfpS,QAASmrC,EACTE,YAAY,EACZpqC,MAAOqG,IAER,YAAcA,SACO3F,IAApBupC,QACuBvpC,IAAvBooC,GACE,gBAAC,EAAc,CACbc,UAAWK,EACX5pC,UAAU,wBACVoG,QAASA,EACT2iC,kBAAmBA,EACnB3C,aAAcqC,EACdQ,gBAAiBA","file":"js/272.m.80f3f5fe.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport {\n  getMeasurementIconClass,\n  getMeasurementLabelKeys,\n  getMeasurementLinesMetricKey,\n  getMeasurementMetricKey,\n  MeasurementType\n} from '../utils';\n\ninterface Props {\n  branchLike?: BranchLike;\n  centered?: boolean;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  type: MeasurementType;\n  useDiffMetric?: boolean;\n}\n\nexport default class MeasurementLabel extends React.Component<Props> {\n  getLabelText = () => {\n    const { branchLike, component, measures, type, useDiffMetric = false } = this.props;\n    const { expandedLabelKey, labelKey } = getMeasurementLabelKeys(type, useDiffMetric);\n    const linesMetric = getMeasurementLinesMetricKey(type, useDiffMetric);\n    const measure = findMeasure(measures, linesMetric);\n\n    if (!measure) {\n      return translate(labelKey);\n    } else {\n      const value = useDiffMetric ? getLeakValue(measure) : measure.value;\n\n      return (\n        <FormattedMessage\n          defaultMessage={translate(expandedLabelKey)}\n          id={expandedLabelKey}\n          values={{\n            count: (\n              <DrilldownLink\n                branchLike={branchLike}\n                className=\"big\"\n                component={component.key}\n                metric={linesMetric}>\n                {formatMeasure(value, 'SHORT_INT')}\n              </DrilldownLink>\n            )\n          }}\n        />\n      );\n    }\n  };\n\n  render() {\n    const { branchLike, centered, component, measures, type, useDiffMetric = false } = this.props;\n    const iconClass = getMeasurementIconClass(type);\n    const metric = getMeasurementMetricKey(type, useDiffMetric);\n    const measure = findMeasure(measures, metric);\n\n    let value;\n    if (measure) {\n      value = useDiffMetric ? getLeakValue(measure) : measure.value;\n    }\n\n    if (value === undefined) {\n      return (\n        <div className=\"display-flex-center\">\n          <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n          <span className=\"big-spacer-left\">{this.getLabelText()}</span>\n        </div>\n      );\n    }\n\n    const icon = React.createElement(iconClass, { size: 'big', value: Number(value) });\n    const link = (\n      <DrilldownLink\n        branchLike={branchLike}\n        className=\"overview-measures-value text-light\"\n        component={component.key}\n        metric={metric}>\n        {formatMeasure(value, 'PERCENT', { decimals: 2, omitExtraDecimalZeros: true })}\n      </DrilldownLink>\n    );\n    const label = this.getLabelText();\n\n    return centered ? (\n      <div className=\"display-flex-column flex-1\">\n        <div className=\"display-flex-center display-flex-justify-center\">\n          <span className=\"big-spacer-right\">{icon}</span>\n          {link}\n        </div>\n        <div className=\"spacer-top text-center\">{label}</div>\n      </div>\n    ) : (\n      <div className=\"display-flex-center\">\n        <span className=\"big-spacer-right\">{icon}</span>\n        <div className=\"display-flex-column\">\n          <span>{link}</span>\n          <span className=\"spacer-top\">{label}</span>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure, localizeMetric } from 'sonar-ui-common/helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { findMeasure } from '../../../helpers/measures';\nimport { getComponentIssuesUrl, getComponentSecurityHotspotsUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { IssueType } from '../../../types/issues';\nimport { getIssueIconClass, getIssueMetricKey } from '../utils';\n\nexport interface IssueLabelProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  helpTooltip?: string;\n  measures: T.MeasureEnhanced[];\n  type: IssueType;\n  useDiffMetric?: boolean;\n}\n\nexport function IssueLabel(props: IssueLabelProps) {\n  const { branchLike, component, helpTooltip, measures, type, useDiffMetric = false } = props;\n  const metric = getIssueMetricKey(type, useDiffMetric);\n  const measure = findMeasure(measures, metric);\n  const iconClass = getIssueIconClass(type);\n\n  let value;\n  if (measure) {\n    value = useDiffMetric ? getLeakValue(measure) : measure.value;\n  }\n\n  const params = {\n    ...getBranchLikeQuery(branchLike),\n    resolved: 'false',\n    types: type,\n    sinceLeakPeriod: useDiffMetric ? 'true' : 'false'\n  };\n\n  return (\n    <>\n      {value === undefined ? (\n        <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n      ) : (\n        <Link\n          className=\"overview-measures-value text-light\"\n          to={\n            type === IssueType.SecurityHotspot\n              ? getComponentSecurityHotspotsUrl(component.key, params)\n              : getComponentIssuesUrl(component.key, params)\n          }>\n          {formatMeasure(value, 'SHORT_INT')}\n        </Link>\n      )}\n      {React.createElement(iconClass, { className: 'big-spacer-left little-spacer-right' })}\n      {localizeMetric(metric)}\n      {helpTooltip && <HelpTooltip className=\"little-spacer-left\" overlay={helpTooltip} />}\n    </>\n  );\n}\n\nexport default React.memo(IssueLabel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { getLeakValue, getRatingTooltip } from '../../../components/measure/utils';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { IssueType } from '../../../types/issues';\nimport { getIssueRatingMetricKey, getIssueRatingName } from '../utils';\n\nexport interface IssueRatingProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  type: IssueType;\n  useDiffMetric?: boolean;\n}\n\nfunction renderRatingLink(props: IssueRatingProps) {\n  const { branchLike, component, useDiffMetric = false, measures, type } = props;\n  const rating = getIssueRatingMetricKey(type, useDiffMetric);\n  const measure = findMeasure(measures, rating);\n\n  if (!rating || !measure) {\n    return (\n      <div className=\"padded\">\n        <Rating value={undefined} />\n      </div>\n    );\n  }\n\n  const value = measure && (useDiffMetric ? getLeakValue(measure) : measure.value);\n  const tooltip = value && getRatingTooltip(rating, Number(value));\n\n  return (\n    <Tooltip overlay={tooltip}>\n      <span>\n        <DrilldownLink\n          branchLike={branchLike}\n          className=\"link-no-underline\"\n          component={component.key}\n          metric={rating}>\n          <Rating value={value} />\n        </DrilldownLink>\n      </span>\n    </Tooltip>\n  );\n}\n\nexport function IssueRating(props: IssueRatingProps) {\n  const { type } = props;\n\n  return (\n    <>\n      <span className=\"flex-1 big-spacer-right text-right\">{getIssueRatingName(type)}</span>\n      {renderRatingLink(props)}\n    </>\n  );\n}\n\nexport default React.memo(IssueRating);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { Location } from 'sonar-ui-common/helpers/urls';\nimport Measure from '../../../components/measure/Measure';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { getComponentIssuesUrl, getComponentSecurityHotspotsUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { IssueType } from '../../../types/issues';\nimport { MetricKey } from '../../../types/metrics';\nimport { QualityGateStatusConditionEnhanced } from '../../../types/quality-gates';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key'>;\n  condition: QualityGateStatusConditionEnhanced;\n}\n\nexport default class QualityGateCondition extends React.PureComponent<Props> {\n  getIssuesUrl = (sinceLeakPeriod: boolean, customQuery: T.Dict<string>) => {\n    const query: T.Dict<string | undefined> = {\n      resolved: 'false',\n      ...getBranchLikeQuery(this.props.branchLike),\n      ...customQuery\n    };\n    if (sinceLeakPeriod) {\n      Object.assign(query, { sinceLeakPeriod: 'true' });\n    }\n    return getComponentIssuesUrl(this.props.component.key, query);\n  };\n\n  getUrlForSecurityHotspot(sinceLeakPeriod: boolean) {\n    const query: T.Dict<string | undefined> = {\n      ...getBranchLikeQuery(this.props.branchLike)\n    };\n    if (sinceLeakPeriod) {\n      Object.assign(query, { sinceLeakPeriod: 'true' });\n    }\n    return getComponentSecurityHotspotsUrl(this.props.component.key, query);\n  }\n\n  getUrlForCodeSmells(sinceLeakPeriod: boolean) {\n    return this.getIssuesUrl(sinceLeakPeriod, { types: 'CODE_SMELL' });\n  }\n\n  getUrlForBugsOrVulnerabilities(type: string, sinceLeakPeriod: boolean) {\n    const RATING_TO_SEVERITIES_MAPPING = [\n      'BLOCKER,CRITICAL,MAJOR,MINOR',\n      'BLOCKER,CRITICAL,MAJOR',\n      'BLOCKER,CRITICAL',\n      'BLOCKER'\n    ];\n\n    const { condition } = this.props;\n    const threshold = condition.level === 'ERROR' ? condition.error : condition.warning;\n\n    return this.getIssuesUrl(sinceLeakPeriod, {\n      types: type,\n      severities: RATING_TO_SEVERITIES_MAPPING[Number(threshold) - 1]\n    });\n  }\n\n  wrapWithLink(children: React.ReactNode) {\n    const { branchLike, component, condition } = this.props;\n\n    const className = classNames(\n      'overview-quality-gate-condition',\n      `overview-quality-gate-condition-${condition.level.toLowerCase()}`\n    );\n\n    const metricKey = condition.measure.metric.key;\n\n    const METRICS_TO_URL_MAPPING: T.Dict<() => Location> = {\n      [MetricKey.reliability_rating]: () =>\n        this.getUrlForBugsOrVulnerabilities(IssueType.Bug, false),\n      [MetricKey.new_reliability_rating]: () =>\n        this.getUrlForBugsOrVulnerabilities(IssueType.Bug, true),\n      [MetricKey.security_rating]: () =>\n        this.getUrlForBugsOrVulnerabilities(IssueType.Vulnerability, false),\n      [MetricKey.new_security_rating]: () =>\n        this.getUrlForBugsOrVulnerabilities(IssueType.Vulnerability, true),\n      [MetricKey.sqale_rating]: () => this.getUrlForCodeSmells(false),\n      [MetricKey.new_maintainability_rating]: () => this.getUrlForCodeSmells(true),\n      [MetricKey.security_hotspots_reviewed]: () => this.getUrlForSecurityHotspot(false),\n      [MetricKey.new_security_hotspots_reviewed]: () => this.getUrlForSecurityHotspot(true)\n    };\n\n    return METRICS_TO_URL_MAPPING[metricKey] ? (\n      <Link className={className} to={METRICS_TO_URL_MAPPING[metricKey]()}>\n        {children}\n      </Link>\n    ) : (\n      <DrilldownLink\n        branchLike={branchLike}\n        className={className}\n        component={component.key}\n        metric={condition.measure.metric.key}\n        sinceLeakPeriod={condition.period != null}>\n        {children}\n      </DrilldownLink>\n    );\n  }\n\n  render() {\n    const { condition } = this.props;\n    const { measure } = condition;\n    const { metric } = measure;\n\n    const isDiff = isDiffMetric(metric.key);\n\n    const threshold = (condition.level === 'ERROR' ? condition.error : condition.warning) as string;\n    const actual = (condition.period ? measure.period?.value : measure.value) as string;\n\n    let operator = translate('quality_gates.operator', condition.op);\n\n    if (metric.type === 'RATING') {\n      operator = translate('quality_gates.operator', condition.op, 'rating');\n    }\n\n    return this.wrapWithLink(\n      <div className=\"overview-quality-gate-condition-container display-flex-center\">\n        <div className=\"overview-quality-gate-condition-value text-center spacer-right\">\n          <Measure\n            decimals={2}\n            metricKey={measure.metric.key}\n            metricType={measure.metric.type}\n            value={actual}\n          />\n        </div>\n\n        <div>\n          <span className=\"overview-quality-gate-condition-metric little-spacer-right\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={metric.key} />\n            {metric.name}\n          </span>\n          {!isDiff && condition.period != null && (\n            <span className=\"overview-quality-gate-condition-period text-ellipsis little-spacer-right\">\n              {translate('quality_gates.conditions.new_code')}\n            </span>\n          )}\n          <span className=\"little-spacer-top small text-muted\">\n            {operator} {formatMeasure(threshold, metric.type)}\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport ChevronDownIcon from 'sonar-ui-common/components/icons/ChevronDownIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { BranchLike } from '../../../types/branch-like';\nimport { QualityGateStatusConditionEnhanced } from '../../../types/quality-gates';\nimport QualityGateCondition from './QualityGateCondition';\n\nconst LEVEL_ORDER = ['ERROR', 'WARN'];\n\nexport interface QualityGateConditionsProps {\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key'>;\n  collapsible?: boolean;\n  failedConditions: QualityGateStatusConditionEnhanced[];\n}\n\nconst MAX_CONDITIONS = 5;\n\nexport function QualityGateConditions(props: QualityGateConditionsProps) {\n  const { branchLike, collapsible, component, failedConditions } = props;\n  const [collapsed, toggleCollapsed] = React.useState(Boolean(collapsible));\n\n  if (failedConditions.length === 0) {\n    return null;\n  }\n\n  const sortedConditions = sortBy(failedConditions, condition =>\n    LEVEL_ORDER.indexOf(condition.level)\n  );\n\n  let renderConditions;\n  let renderCollapsed;\n  if (collapsed && sortedConditions.length > MAX_CONDITIONS) {\n    renderConditions = sortedConditions.slice(0, MAX_CONDITIONS);\n    renderCollapsed = true;\n  } else {\n    renderConditions = sortedConditions;\n    renderCollapsed = false;\n  }\n\n  return (\n    <div\n      className=\"overview-quality-gate-conditions-list\"\n      id=\"overview-quality-gate-conditions-list\">\n      {renderConditions.map(condition => (\n        <QualityGateCondition\n          branchLike={branchLike}\n          component={component}\n          condition={condition}\n          key={condition.measure.metric.key}\n        />\n      ))}\n      {renderCollapsed && (\n        <ButtonLink\n          className=\"overview-quality-gate-conditions-list-collapse\"\n          onClick={() => toggleCollapsed(!collapsed)}>\n          {translateWithParameters(\n            'overview.X_more_failed_conditions',\n            sortedConditions.length - MAX_CONDITIONS\n          )}\n          <ChevronDownIcon className=\"little-spacer-left\" />\n        </ButtonLink>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(QualityGateConditions);\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".overview{animation:fadeIn .5s forwards}.overview-panel{min-height:100%}.overview-panel-content{background:#fff;border:1px solid #e6e6e6}.overview-panel-title{text-transform:uppercase;font-weight:600;font-size:12px;margin-bottom:8px}.overview-panel-padded{padding:16px}.overview-panel-big-padded{padding:24px}.overview-panel-huge-padded{padding:40px}.overview-measures-row{min-height:105px;box-sizing:border-box}.overview-measures-row+.overview-measures-row{border-top:1px solid #e6e6e6}.overview-measures-value{line-height:1;font-size:36px;white-space:nowrap}.overview-measures-empty-value{height:1px;width:16px;background:#333}.overview-measures-aside{flex-basis:200px;box-sizing:border-box}.overview-measures-tab{width:128px}.overview-measures-emphasis{background:#f5f9fc}.overview-quality-gate-badge-large{padding:16px;color:#fff;box-sizing:border-box}.overview-quality-gate-badge-large.failed{background:#d4333f}.overview-quality-gate-badge-large.success{background:#0a0;height:160px}.overview-quality-gate-badge-large h3{color:#fff}.overview-quality-gate-conditions{padding-bottom:16px}.overview-quality-gate-conditions-project-name{padding:8px 0 8px 16px;font-size:16px;background:#e6e6e6}.overview-quality-gate-conditions-section-title{padding:16px 16px 8px;border-bottom:1px solid #e6e6e6;margin:0;font-size:13px}.overview-quality-gate-conditions-list{margin-bottom:16px}.overview-quality-gate-conditions-list-collapse{margin:16px 0}.overview-quality-gate-condition,.overview-quality-gate-condition:hover{display:block;color:#333;border:none;transition:background-color .3s ease}.overview-quality-gate-condition:hover{background-color:#ecf6fe}.overview-quality-gate-condition-container{padding:12px 8px 12px 24px;border-bottom:1px solid #e6e6e6}.overview-quality-gate-condition-value{flex:0 0 20%;line-height:1;font-size:16px}.overview-quality-gate-condition-value span{display:inline-block;vertical-align:top}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pr-overview{max-width:1020px;margin:0 auto}.pr-overview.has-conditions{max-width:1260px}.pr-overview-failed-conditions{flex:0 0 240px}.pr-overview .overview-quality-gate-condition:first-of-type{margin-top:0}.pr-overview .overview-quality-gate-condition{margin-top:12px;background-color:#fff;border-left:5px solid;border-top-right-radius:2px;border-bottom-right-radius:2px}.pr-overview .overview-quality-gate-condition-error{border-color:#d4333f}.pr-overview .overview-quality-gate-condition-warn{border-color:#ed7d20}.pr-overview .overview-quality-gate-condition:focus .overview-quality-gate-condition-container,.pr-overview .overview-quality-gate-condition:hover .overview-quality-gate-condition-container{border-color:inherit}.pr-overview .overview-quality-gate-condition-metric,.pr-overview .overview-quality-gate-condition-period{display:block;max-width:125px;line-height:16px;font-size:12px}.pr-overview .overview-quality-gate-condition-container{min-width:150px;min-height:52px;padding:8px;border-top:1px solid #e6e6e6;border-right:1px solid #e6e6e6;transition:border-color .3s ease}.pr-overview .overview-quality-gate-condition-value{font-size:24px}.pr-overview .overview-quality-gate-badge-large{width:240px;min-height:160px;color:hsla(0,0%,100%,.62)}.pr-pverview .overview-measures-row{min-height:85px}.pr-overview .overview-measures-aside{flex-basis:270px}@media (max-width:1200px){.pr-overview .overview-measures-aside{flex-basis:220px}}.overview-panel .activity-graph-legends{text-align:right;margin-top:-30px}.overview-panel .activity-graph-new-code-legend{position:relative;z-index:3;width:12px;overflow:hidden;margin-top:1px;margin-left:16px;text-indent:-9999px}.overview-panel .activity-graph-new-code-legend:after{margin:0}.overview-analysis{color:#666}.overview-analysis+.overview-analysis{margin-top:16px}.overview-activity-events{display:flex;flex-direction:column;align-items:flex-start}.overview-analysis-event{display:inline-block}.overview-analysis-event.badge{border-radius:2px;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}.overview-analysis-event+.overview-analysis-event{margin-top:4px}.overview-panel .activity-graph-container{min-height:200px;padding-bottom:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DismissableAlert.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".dismissable-alert-banner .dismissable-alert-content{max-width:1320px}.dismissable-alert-banner .button-icon{height:16px;width:16px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDefinitionChangeEvent } from '../../projectActivity/components/DefinitionChangeEventInner';\nimport { isRichQualityGateEvent } from '../../projectActivity/components/RichQualityGateEventInner';\n\ninterface Props {\n  event: T.AnalysisEvent;\n}\n\nexport function Event({ event }: Props) {\n  if (event.category === 'VERSION') {\n    return (\n      <span\n        className=\"overview-analysis-event analysis-version\"\n        title={`${translate('version')} ${event.name}`}>\n        {event.name}\n      </span>\n    );\n  }\n\n  const eventCategory = translate('event.category', event.category);\n  if (isDefinitionChangeEvent(event)) {\n    return (\n      <div className=\"overview-analysis-event\">\n        <span className=\"note\">{eventCategory}</span>\n      </div>\n    );\n  }\n\n  if (isRichQualityGateEvent(event)) {\n    return (\n      <div className=\"overview-analysis-event\">\n        <span className=\"note\">{eventCategory}:</span>{' '}\n        {event.qualityGate.stillFailing ? (\n          <FormattedMessage\n            defaultMessage={translate('event.quality_gate.still_x')}\n            id=\"event.quality_gate.still_x\"\n            values={{ status: <Level level={event.qualityGate.status} small={true} /> }}\n          />\n        ) : (\n          <Level level={event.qualityGate.status} small={true} />\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"overview-analysis-event\">\n      <span className=\"note\">{eventCategory}:</span>{' '}\n      {event.description ? (\n        <strong title={event.description}>{event.name}</strong>\n      ) : (\n        <strong>{event.name}</strong>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(Event);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { ComponentQualifier } from '../../../types/component';\nimport Event from './Event';\n\nexport interface AnalysisProps {\n  analysis: T.Analysis;\n  qualifier: string;\n}\n\nexport function Analysis({ analysis, ...props }: AnalysisProps) {\n  const sortedEvents = sortBy(\n    analysis.events,\n    // versions first\n    event => (event.category === 'VERSION' ? 0 : 1),\n    // then the rest sorted by category\n    'category'\n  );\n\n  // use `TRK` for all components but applications\n  const qualifier =\n    props.qualifier === ComponentQualifier.Application\n      ? ComponentQualifier.Application\n      : ComponentQualifier.Project;\n\n  return (\n    <li className=\"overview-analysis\">\n      <div className=\"small little-spacer-bottom\">\n        <strong>\n          <DateTimeFormatter date={analysis.date} />\n        </strong>\n      </div>\n\n      {sortedEvents.length > 0 ? (\n        <div className=\"overview-activity-events\">\n          {sortedEvents.map(event => (\n            <Event event={event} key={event.key} />\n          ))}\n        </div>\n      ) : (\n        <span className=\"note\">{translate('project_activity.analyzed', qualifier)}</span>\n      )}\n    </li>\n  );\n}\n\nexport default React.memo(Analysis);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport GraphsHeader from '../../../components/activity-graph/GraphsHeader';\nimport GraphsHistory from '../../../components/activity-graph/GraphsHistory';\nimport {\n  DEFAULT_GRAPH,\n  generateSeries,\n  getDisplayedHistoryMetrics,\n  splitSeriesInGraphs\n} from '../../../components/activity-graph/utils';\nimport ActivityLink from '../../../components/common/ActivityLink';\nimport { BranchLike } from '../../../types/branch-like';\nimport { GraphType, MeasureHistory } from '../../../types/project-activity';\nimport Analysis from './Analysis';\n\nexport interface ActivityPanelProps {\n  analyses?: T.Analysis[];\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key' | 'qualifier'>;\n  graph?: GraphType;\n  leakPeriodDate?: Date;\n  loading?: boolean;\n  measuresHistory: MeasureHistory[];\n  metrics: T.Metric[];\n  onGraphChange: (graph: GraphType) => void;\n}\n\nconst MAX_ANALYSES_NB = 5;\nconst MAX_GRAPH_NB = 2;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport function ActivityPanel(props: ActivityPanelProps) {\n  const {\n    analyses = [],\n    branchLike,\n    component,\n    graph = DEFAULT_GRAPH,\n    leakPeriodDate,\n    loading,\n    measuresHistory,\n    metrics\n  } = props;\n\n  const series = generateSeries(\n    measuresHistory,\n    graph,\n    metrics,\n    getDisplayedHistoryMetrics(graph, [])\n  );\n  const graphs = splitSeriesInGraphs(series, MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n  let shownLeakPeriodDate;\n  if (leakPeriodDate !== undefined) {\n    const startDate = measuresHistory.reduce((oldest: Date, { history }) => {\n      if (history.length > 0) {\n        const date = parseDate(history[0].date);\n        return oldest.getTime() > date.getTime() ? date : oldest;\n      } else {\n        return oldest;\n      }\n    }, new Date());\n    shownLeakPeriodDate =\n      startDate.getTime() > leakPeriodDate.getTime() ? startDate : leakPeriodDate;\n  }\n\n  const filteredAnalyses = analyses.filter(a => a.events.length > 0).slice(0, MAX_ANALYSES_NB);\n\n  return (\n    <div className=\"overview-panel big-spacer-top\" data-test=\"overview__activity-panel\">\n      <h2 className=\"overview-panel-title\">{translate('overview.activity')}</h2>\n\n      <div className=\"overview-panel-content\">\n        <div className=\"display-flex-row\">\n          <div className=\"display-flex-column flex-1\">\n            <div aria-hidden={true} className=\"overview-panel-padded display-flex-column flex-1\">\n              <GraphsHeader graph={graph} metrics={metrics} updateGraph={props.onGraphChange} />\n              <GraphsHistory\n                analyses={[]}\n                graph={graph}\n                graphs={graphs}\n                leakPeriodDate={shownLeakPeriodDate}\n                loading={Boolean(loading)}\n                measuresHistory={measuresHistory}\n                series={series}\n              />\n            </div>\n\n            <div className=\"overview-panel-padded bordered-top text-right\">\n              <ActivityLink branchLike={branchLike} component={component.key} graph={graph} />\n            </div>\n          </div>\n\n          <div className=\"overview-panel-padded bordered-left width-30\">\n            <div data-test=\"overview__activity-analyses\">\n              <DeferredSpinner\n                className=\"spacer-top spacer-left\"\n                loading={analyses.length === 0 && loading}>\n                {analyses.length === 0 ? (\n                  <p className=\"spacer-top spacer-left note\">{translate('no_results')}</p>\n                ) : (\n                  <ul className=\"spacer-top spacer-left\">\n                    {filteredAnalyses.map(analysis => (\n                      <Analysis\n                        analysis={analysis}\n                        key={analysis.key}\n                        qualifier={component.qualifier}\n                      />\n                    ))}\n                  </ul>\n                )}\n              </DeferredSpinner>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(ActivityPanel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport ClearIcon from 'sonar-ui-common/components/icons/ClearIcon';\nimport { Alert, AlertProps } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport './DismissableAlert.css';\n\nexport interface DismissableAlertProps extends AlertProps {\n  alertKey: string;\n  children?: React.ReactNode;\n  className?: string;\n}\n\nexport const DISMISSED_ALERT_STORAGE_KEY = 'sonarqube.dismissed_alert';\n\nexport default function DismissableAlert(props: DismissableAlertProps) {\n  const { alertKey, children, className, display = 'banner', variant } = props;\n  const [show, setShow] = React.useState(false);\n\n  React.useEffect(() => {\n    if (get(DISMISSED_ALERT_STORAGE_KEY, alertKey) !== 'true') {\n      setShow(true);\n    }\n  }, [alertKey]);\n\n  const hideAlert = () => {\n    save(DISMISSED_ALERT_STORAGE_KEY, 'true', alertKey);\n  };\n\n  return !show ? null : (\n    <Alert\n      className={classNames(`dismissable-alert-${display}`, className)}\n      display={display}\n      variant={variant}>\n      <div className=\"display-flex-center dismissable-alert-content\">\n        <div className=\"flex-1\">{children}</div>\n        <ButtonIcon\n          aria-label={translate('alert.dismiss')}\n          onClick={() => {\n            hideAlert();\n            setShow(false);\n          }}>\n          <ClearIcon size={12} thin={true} />\n        </ButtonIcon>\n      </div>\n    </Alert>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { withCurrentUser } from '../../../components/hoc/withCurrentUser';\nimport DismissableAlert from '../../../components/ui/DismissableAlert';\nimport { isLoggedIn } from '../../../helpers/users';\nimport { ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport { ComponentQualifier } from '../../../types/component';\nimport { PULL_REQUEST_DECORATION_BINDING_CATEGORY } from '../../settings/components/AdditionalCategoryKeys';\n\nexport interface FirstAnalysisNextStepsNotifProps {\n  branchesEnabled?: boolean;\n  component: T.Component;\n  currentUser: T.CurrentUser;\n  detectedCIOnLastAnalysis?: boolean;\n  projectBinding?: ProjectAlmBindingResponse;\n}\n\nexport function FirstAnalysisNextStepsNotif(props: FirstAnalysisNextStepsNotifProps) {\n  const {\n    component,\n    currentUser,\n    branchesEnabled,\n    detectedCIOnLastAnalysis,\n    projectBinding\n  } = props;\n\n  if (!isLoggedIn(currentUser) || component.qualifier !== ComponentQualifier.Project) {\n    return null;\n  }\n\n  const showConfigurePullRequestDecoNotif = branchesEnabled && projectBinding === undefined;\n  const showConfigureCINotif =\n    detectedCIOnLastAnalysis !== undefined ? !detectedCIOnLastAnalysis : false;\n\n  if (!showConfigureCINotif && !showConfigurePullRequestDecoNotif) {\n    return null;\n  }\n\n  const showOnlyConfigureCI = showConfigureCINotif && !showConfigurePullRequestDecoNotif;\n  const showOnlyConfigurePR = showConfigurePullRequestDecoNotif && !showConfigureCINotif;\n  const showBoth = showConfigureCINotif && showConfigurePullRequestDecoNotif;\n  const isProjectAdmin = component.configuration?.showSettings;\n  const tutorialsLink = (\n    <Link\n      to={{\n        pathname: '/tutorials',\n        query: { id: component.key }\n      }}>\n      {translate('overview.project.next_steps.links.set_up_ci')}\n    </Link>\n  );\n  const projectSettingsLink = (\n    <Link\n      to={{\n        pathname: '/project/settings',\n        query: {\n          id: component.key,\n          category: PULL_REQUEST_DECORATION_BINDING_CATEGORY\n        }\n      }}>\n      {translate('overview.project.next_steps.links.project_settings')}\n    </Link>\n  );\n\n  return (\n    <DismissableAlert alertKey={`config_ci_pr_deco.${component.key}`} variant=\"info\">\n      {showOnlyConfigureCI && (\n        <FormattedMessage\n          defaultMessage={translate('overview.project.next_steps.set_up_ci')}\n          id=\"overview.project.next_steps.set_up_ci\"\n          values={{\n            link: tutorialsLink\n          }}\n        />\n      )}\n\n      {showOnlyConfigurePR &&\n        (isProjectAdmin ? (\n          <FormattedMessage\n            defaultMessage={translate('overview.project.next_steps.set_up_pr_deco.admin')}\n            id=\"overview.project.next_steps.set_up_pr_deco.admin\"\n            values={{\n              link_project_settings: projectSettingsLink\n            }}\n          />\n        ) : (\n          translate('overview.project.next_steps.set_up_pr_deco')\n        ))}\n\n      {showBoth &&\n        (isProjectAdmin ? (\n          <FormattedMessage\n            defaultMessage={translate('overview.project.next_steps.set_up_pr_deco_and_ci.admin')}\n            id=\"overview.project.next_steps.set_up_pr_deco_and_ci.admin\"\n            values={{\n              link_ci: tutorialsLink,\n              link_project_settings: projectSettingsLink\n            }}\n          />\n        ) : (\n          <FormattedMessage\n            defaultMessage={translate('overview.project.next_steps.set_up_pr_deco_and_ci')}\n            id=\"overview.project.next_steps.set_up_pr_deco_and_ci\"\n            values={{ link_ci: tutorialsLink }}\n          />\n        ))}\n    </DismissableAlert>\n  );\n}\n\nexport default withCurrentUser(FirstAnalysisNextStepsNotif);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\n\nexport interface DrilldownMeasureValueProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  metric: MetricKey;\n}\n\nexport function DrilldownMeasureValue(props: DrilldownMeasureValueProps) {\n  const { branchLike, component, measures, metric } = props;\n  const measure = findMeasure(measures, metric);\n\n  let content;\n  if (!measure) {\n    content = <span className=\"overview-measures-value text-light\">-</span>;\n  } else {\n    content = (\n      <span>\n        <DrilldownLink\n          branchLike={branchLike}\n          className=\"overview-measures-value text-light\"\n          component={component.key}\n          metric={metric}>\n          {formatMeasure(measure.value, 'SHORT_INT')}\n        </DrilldownLink>\n      </span>\n    );\n  }\n\n  return (\n    <div className=\"display-flex-column display-flex-center\">\n      {content}\n      <span className=\"spacer-top\">{getLocalizedMetricName({ key: metric })}</span>\n    </div>\n  );\n}\n\nexport default React.memo(DrilldownMeasureValue);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ApplicationPeriod } from '../../../types/application';\n\nexport interface ApplicationLeakPeriodInfoProps {\n  leakPeriod: ApplicationPeriod;\n}\n\nexport function ApplicationLeakPeriodInfo({ leakPeriod }: ApplicationLeakPeriodInfoProps) {\n  return (\n    <div className=\"note spacer-top display-inline-flex-center\">\n      <DateFromNow date={leakPeriod.date}>\n        {fromNow => translateWithParameters('overview.started_x', fromNow)}\n      </DateFromNow>\n      <HelpTooltip\n        className=\"little-spacer-left\"\n        overlay={translateWithParameters(\n          'overview.max_new_code_period_from_x',\n          leakPeriod.projectName\n        )}\n      />\n    </div>\n  );\n}\n\nexport default React.memo(ApplicationLeakPeriodInfo);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedIntl, injectIntl } from 'react-intl';\nimport { longFormatterOption } from 'sonar-ui-common/components/intl/DateFormatter';\nimport DateFromNow from 'sonar-ui-common/components/intl/DateFromNow';\nimport { formatterOption } from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getPeriodDate, getPeriodLabel } from '../../../helpers/periods';\n\nexport interface ProjectLeakPeriodInfoProps {\n  intl: Pick<InjectedIntl, 'formatDate' | 'formatTime'>;\n  leakPeriod: T.Period;\n}\n\nexport function ProjectLeakPeriodInfo(props: ProjectLeakPeriodInfoProps) {\n  const {\n    intl: { formatDate, formatTime },\n    leakPeriod\n  } = props;\n\n  const leakPeriodLabel = getPeriodLabel(\n    leakPeriod,\n    ['manual_baseline', 'SPECIFIC_ANALYSIS'].includes(leakPeriod.mode)\n      ? (date: string) => formatTime(date, formatterOption)\n      : (date: string) => formatDate(date, longFormatterOption)\n  );\n\n  if (!leakPeriodLabel) {\n    return null;\n  }\n\n  if (leakPeriod.mode === 'days' || leakPeriod.mode === 'NUMBER_OF_DAYS') {\n    return <div className=\"note spacer-top\">{leakPeriodLabel} </div>;\n  }\n\n  const leakPeriodDate = getPeriodDate(leakPeriod);\n\n  if (!leakPeriodDate) {\n    return null;\n  }\n\n  return (\n    <>\n      <div className=\"note spacer-top\">{leakPeriodLabel}</div>\n      <DateFromNow date={leakPeriodDate}>\n        {fromNow => (\n          <div className=\"note little-spacer-top\">\n            {translateWithParameters(\n              leakPeriod.mode === 'previous_analysis'\n                ? 'overview.previous_analysis_x'\n                : 'overview.started_x',\n              fromNow\n            )}\n          </div>\n        )}\n      </DateFromNow>\n    </>\n  );\n}\n\nexport default React.memo(injectIntl(ProjectLeakPeriodInfo));\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { isApplicationPeriod } from '../../../helpers/periods';\nimport { ApplicationPeriod } from '../../../types/application';\nimport ApplicationLeakPeriodInfo from './ApplicationLeakPeriodInfo';\nimport ProjectLeakPeriodInfo from './ProjectLeakPeriodInfo';\n\nexport interface LeakPeriodInfoProps {\n  leakPeriod: T.Period | ApplicationPeriod;\n}\n\nexport function LeakPeriodInfo({ leakPeriod }: LeakPeriodInfoProps) {\n  if (isApplicationPeriod(leakPeriod)) {\n    return <ApplicationLeakPeriodInfo leakPeriod={leakPeriod} />;\n  } else {\n    return <ProjectLeakPeriodInfo leakPeriod={leakPeriod} />;\n  }\n}\n\nexport default React.memo(LeakPeriodInfo);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport DrilldownLink from '../../../components/shared/DrilldownLink';\nimport { findMeasure, localizeMetric } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { MetricKey } from '../../../types/metrics';\n\nexport interface DebtValueProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures: T.MeasureEnhanced[];\n  useDiffMetric?: boolean;\n}\n\nexport function DebtValue(props: DebtValueProps) {\n  const { branchLike, component, measures, useDiffMetric = false } = props;\n  const metric = useDiffMetric ? MetricKey.new_technical_debt : MetricKey.sqale_index;\n  const measure = findMeasure(measures, metric);\n\n  let value;\n  if (measure) {\n    value = useDiffMetric ? getLeakValue(measure) : measure.value;\n  }\n\n  return (\n    <>\n      {value === undefined ? (\n        <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n      ) : (\n        <DrilldownLink\n          branchLike={branchLike}\n          className=\"overview-measures-value text-light\"\n          component={component.key}\n          metric={metric}>\n          {formatMeasure(value, 'WORK_DUR')}\n        </DrilldownLink>\n      )}\n      <span className=\"big-spacer-left\">\n        {measure ? getLocalizedMetricName(measure.metric, true) : localizeMetric(metric)}\n      </span>\n    </>\n  );\n}\n\nexport default React.memo(DebtValue);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getLeakValue } from '../../../components/measure/utils';\nimport CoverageRating from '../../../components/ui/CoverageRating';\nimport { findMeasure } from '../../../helpers/measures';\nimport { MetricKey } from '../../../types/metrics';\n\nexport interface SecurityHotspotsReviewedProps {\n  measures: T.MeasureEnhanced[];\n  useDiffMetric?: boolean;\n}\n\nexport default function SecurityHotspotsReviewed(props: SecurityHotspotsReviewedProps) {\n  const { measures, useDiffMetric = false } = props;\n  const metric = useDiffMetric\n    ? MetricKey.new_security_hotspots_reviewed\n    : MetricKey.security_hotspots_reviewed;\n  const measure = findMeasure(measures, metric);\n\n  let value;\n  if (measure) {\n    value = useDiffMetric ? getLeakValue(measure) : measure.value;\n  }\n\n  return (\n    <>\n      {value === undefined ? (\n        <span aria-label={translate('no_data')} className=\"overview-measures-empty-value\" />\n      ) : (\n        <>\n          <CoverageRating value={value} />\n          <span className=\"huge spacer-left\">{formatMeasure(value, 'PERCENT')}</span>\n        </>\n      )}\n      <span className=\"big-spacer-left\">\n        {translate('overview.measures.security_hotspots_reviewed')}\n      </span>\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { IssueType } from '../../../types/issues';\nimport IssueLabel from '../components/IssueLabel';\nimport IssueRating from '../components/IssueRating';\nimport DebtValue from './DebtValue';\nimport SecurityHotspotsReviewed from './SecurityHotspotsReviewed';\n\nexport interface MeasuresPanelIssueMeasureRowProps {\n  branchLike?: BranchLike;\n  component: T.Component;\n  isNewCodeTab: boolean;\n  measures: T.MeasureEnhanced[];\n  type: IssueType;\n}\n\nexport default function MeasuresPanelIssueMeasureRow(props: MeasuresPanelIssueMeasureRowProps) {\n  const { branchLike, component, isNewCodeTab, measures, type } = props;\n\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  return (\n    <div\n      className=\"display-flex-row overview-measures-row\"\n      data-test={`overview__measures-${type.toString().toLowerCase()}`}>\n      {type === IssueType.CodeSmell ? (\n        <>\n          <div className=\"overview-panel-big-padded flex-1 small display-flex-center big-spacer-left\">\n            <DebtValue\n              branchLike={branchLike}\n              component={component}\n              measures={measures}\n              useDiffMetric={isNewCodeTab}\n            />\n          </div>\n          <div className=\"flex-1 small display-flex-center\">\n            <IssueLabel\n              branchLike={branchLike}\n              component={component}\n              measures={measures}\n              type={type}\n              useDiffMetric={isNewCodeTab}\n            />\n          </div>\n        </>\n      ) : (\n        <div className=\"overview-panel-big-padded flex-1 small display-flex-center big-spacer-left\">\n          <IssueLabel\n            branchLike={branchLike}\n            component={component}\n            helpTooltip={\n              type === IssueType.SecurityHotspot\n                ? translate('metric.security_hotspots.full_description')\n                : undefined\n            }\n            measures={measures}\n            type={type}\n            useDiffMetric={isNewCodeTab}\n          />\n        </div>\n      )}\n      {type === IssueType.SecurityHotspot && (\n        <div className=\"flex-1 small display-flex-center\">\n          <SecurityHotspotsReviewed measures={measures} useDiffMetric={isNewCodeTab} />\n        </div>\n      )}\n      {(!isApp || !isNewCodeTab) && (\n        <div className=\"overview-panel-big-padded overview-measures-aside display-flex-center\">\n          <IssueRating\n            branchLike={branchLike}\n            component={component}\n            measures={measures}\n            type={type}\n            useDiffMetric={isNewCodeTab}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BoxedTabs from 'sonar-ui-common/components/controls/BoxedTabs';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDiffMetric } from 'sonar-ui-common/helpers/measures';\nimport { rawSizes } from '../../../app/theme';\nimport { findMeasure } from '../../../helpers/measures';\nimport { ApplicationPeriod } from '../../../types/application';\nimport { Branch } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { IssueType } from '../../../types/issues';\nimport { MetricKey } from '../../../types/metrics';\nimport MeasurementLabel from '../components/MeasurementLabel';\nimport { MeasurementType } from '../utils';\nimport { DrilldownMeasureValue } from './DrilldownMeasureValue';\nimport { LeakPeriodInfo } from './LeakPeriodInfo';\nimport MeasuresPanelIssueMeasureRow from './MeasuresPanelIssueMeasureRow';\nimport MeasuresPanelNoNewCode from './MeasuresPanelNoNewCode';\n\nexport interface MeasuresPanelProps {\n  appLeak?: ApplicationPeriod;\n  branch?: Branch;\n  component: T.Component;\n  loading?: boolean;\n  measures?: T.MeasureEnhanced[];\n  period?: T.Period;\n}\n\nexport enum MeasuresPanelTabs {\n  New,\n  Overall\n}\n\nexport function MeasuresPanel(props: MeasuresPanelProps) {\n  const { appLeak, branch, component, loading, measures = [], period } = props;\n\n  const hasDiffMeasures = measures.some(m => isDiffMetric(m.metric.key));\n  const isApp = component.qualifier === ComponentQualifier.Application;\n  const leakPeriod = isApp ? appLeak : period;\n\n  const [tab, selectTab] = React.useState(MeasuresPanelTabs.New);\n\n  const isNewCodeTab = tab === MeasuresPanelTabs.New;\n\n  React.useEffect(() => {\n    // Open Overall tab by default if there are no new measures.\n    if (loading === false && !hasDiffMeasures && isNewCodeTab) {\n      selectTab(MeasuresPanelTabs.Overall);\n    }\n    // In this case, we explicitly do NOT want to mark tab as a dependency, as\n    // it would prevent the user from selecting it, even if it's empty.\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, [loading, hasDiffMeasures]);\n\n  const tabs = [\n    {\n      key: MeasuresPanelTabs.New,\n      label: (\n        <div className=\"text-left overview-measures-tab\">\n          <span className=\"text-bold\">{translate('overview.new_code')}</span>\n          {leakPeriod && <LeakPeriodInfo leakPeriod={leakPeriod} />}\n        </div>\n      )\n    },\n    {\n      key: MeasuresPanelTabs.Overall,\n      label: (\n        <div className=\"text-left overview-measures-tab\">\n          <span className=\"text-bold\" style={{ position: 'absolute', top: 2 * rawSizes.grid }}>\n            {translate('overview.overall_code')}\n          </span>\n        </div>\n      )\n    }\n  ];\n\n  return (\n    <div className=\"overview-panel\" data-test=\"overview__measures-panel\">\n      <h2 className=\"overview-panel-title\">{translate('overview.measures')}</h2>\n\n      {loading ? (\n        <div className=\"overview-panel-content overview-panel-big-padded\">\n          <DeferredSpinner loading={loading} />\n        </div>\n      ) : (\n        <>\n          <BoxedTabs onSelect={selectTab} selected={tab} tabs={tabs} />\n\n          <div className=\"overview-panel-content flex-1 bordered\">\n            {!hasDiffMeasures && isNewCodeTab ? (\n              <MeasuresPanelNoNewCode branch={branch} component={component} period={period} />\n            ) : (\n              <>\n                {[\n                  IssueType.Bug,\n                  IssueType.Vulnerability,\n                  IssueType.SecurityHotspot,\n                  IssueType.CodeSmell\n                ].map((type: IssueType) => (\n                  <MeasuresPanelIssueMeasureRow\n                    branchLike={branch}\n                    component={component}\n                    isNewCodeTab={isNewCodeTab}\n                    key={type}\n                    measures={measures}\n                    type={type}\n                  />\n                ))}\n\n                <div className=\"display-flex-row overview-measures-row\">\n                  {(findMeasure(measures, MetricKey.coverage) ||\n                    findMeasure(measures, MetricKey.new_coverage)) && (\n                    <div\n                      className=\"overview-panel-huge-padded flex-1 bordered-right display-flex-center\"\n                      data-test=\"overview__measures-coverage\">\n                      <MeasurementLabel\n                        branchLike={branch}\n                        centered={isNewCodeTab}\n                        component={component}\n                        measures={measures}\n                        type={MeasurementType.Coverage}\n                        useDiffMetric={isNewCodeTab}\n                      />\n\n                      {tab === MeasuresPanelTabs.Overall && (\n                        <div className=\"huge-spacer-left\">\n                          <DrilldownMeasureValue\n                            branchLike={branch}\n                            component={component}\n                            measures={measures}\n                            metric={MetricKey.tests}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  )}\n                  <div className=\"overview-panel-huge-padded flex-1 display-flex-center\">\n                    <MeasurementLabel\n                      branchLike={branch}\n                      centered={isNewCodeTab}\n                      component={component}\n                      measures={measures}\n                      type={MeasurementType.Duplication}\n                      useDiffMetric={isNewCodeTab}\n                    />\n\n                    {tab === MeasuresPanelTabs.Overall && (\n                      <div className=\"huge-spacer-left\">\n                        <DrilldownMeasureValue\n                          branchLike={branch}\n                          component={component}\n                          measures={measures}\n                          metric={MetricKey.duplicated_blocks}\n                        />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(MeasuresPanel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { Branch } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\n\nexport interface MeasuresPanelNoNewCodeProps {\n  branch?: Branch;\n  component: T.Component;\n  period?: T.Period;\n}\n\nexport default function MeasuresPanelNoNewCode(props: MeasuresPanelNoNewCodeProps) {\n  const { branch, component, period } = props;\n\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  const hasBadReferenceBranch =\n    !isApp && !!period && !period.date && period.mode === 'REFERENCE_BRANCH';\n  /*\n   * If the period is \"reference branch\"-based, and if there's no date, it means\n   * that we're not lacking a second analysis, but that we'll never have new code because the\n   * selected reference branch is itself, or has disappeared for some reason.\n   * Makes no sense for Apps (project aggregate)\n   */\n  const hasBadNewCodeSettingSameRef = hasBadReferenceBranch && branch?.name === period?.parameter;\n\n  const badExplanationKey = hasBadReferenceBranch\n    ? hasBadNewCodeSettingSameRef\n      ? 'overview.measures.same_reference.explanation'\n      : 'overview.measures.bad_reference.explanation'\n    : 'overview.measures.empty_explanation';\n\n  const showSettingsLink = !!(component.configuration && component.configuration.showSettings);\n\n  return (\n    <div className=\"display-flex-center display-flex-justify-center\" style={{ height: 500 }}>\n      <img\n        alt=\"\" /* Make screen readers ignore this image; it's purely eye candy. */\n        className=\"spacer-right\"\n        height={52}\n        src={`${getBaseUrl()}/images/source-code.svg`}\n      />\n      <div className=\"big-spacer-left text-muted\" style={{ maxWidth: 500 }}>\n        <p className=\"spacer-bottom big-spacer-top big\">{translate(badExplanationKey)}</p>\n        {hasBadNewCodeSettingSameRef ? (\n          showSettingsLink && (\n            <p>\n              <FormattedMessage\n                defaultMessage={translate('overview.measures.bad_setting.link')}\n                id=\"overview.measures.bad_setting.link\"\n                values={{\n                  setting_link: (\n                    <Link\n                      to={{\n                        pathname: '/project/baseline',\n                        query: { id: component.key, ...getBranchLikeQuery(branch) }\n                      }}>\n                      {translate('settings.new_code_period.category')}\n                    </Link>\n                  )\n                }}\n              />\n            </p>\n          )\n        ) : (\n          <p>\n            <FormattedMessage\n              defaultMessage={translate('overview.measures.empty_link')}\n              id=\"overview.measures.empty_link\"\n              values={{\n                learn_more_link: (\n                  <Link to=\"/documentation/user-guide/clean-as-you-code/\">\n                    {translate('learn_more')}\n                  </Link>\n                )\n              }}\n            />\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getBranchLikeDisplayName, isMainBranch } from '../../../helpers/branch-like';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { MetricKey } from '../../../types/metrics';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: T.Component;\n  measures?: T.MeasureEnhanced[];\n}\n\nexport function NoCodeWarning({ branchLike, component, measures }: Props) {\n  const isApp = component.qualifier === ComponentQualifier.Application;\n\n  /* eslint-disable no-lonely-if */\n  // - Is App\n  //     - No measures, OR measures, but no projects => empty\n  //     - Else => no lines of code\n  // - Else\n  //   - No measures => empty\n  //       - Main branch?\n  //       - LLB?\n  //       - No branch info?\n  //   - Measures, but no ncloc (checked in isEmpty()) => no lines of code\n  //       - Main branch?\n  //       - LLB?\n  //       - No branch info?\n  let title = translate('overview.project.no_lines_of_code');\n  if (isApp) {\n    if (\n      measures === undefined ||\n      measures.find(measure => measure.metric.key === MetricKey.projects) === undefined\n    ) {\n      title = translate('portfolio.app.empty');\n    } else {\n      title = translate('portfolio.app.no_lines_of_code');\n    }\n  } else {\n    if (measures === undefined || measures.length === 0) {\n      if (isMainBranch(branchLike)) {\n        title = translate('overview.project.main_branch_empty');\n      } else if (branchLike !== undefined) {\n        title = translateWithParameters(\n          'overview.project.branch_X_empty',\n          getBranchLikeDisplayName(branchLike)\n        );\n      } else {\n        title = translate('overview.project.empty');\n      }\n    } else {\n      if (isMainBranch(branchLike)) {\n        title = translate('overview.project.main_branch_no_lines_of_code');\n      } else if (branchLike !== undefined) {\n        title = translateWithParameters(\n          'overview.project.branch_X_no_lines_of_code',\n          getBranchLikeDisplayName(branchLike)\n        );\n      }\n    }\n  }\n  /* eslint-enable no-lonely-if */\n\n  return (\n    <Alert display=\"banner\" variant=\"warning\">\n      {title}\n    </Alert>\n  );\n}\n\nexport default React.memo(NoCodeWarning);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDiffMetric } from '../../../helpers/measures';\nimport { BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { QualityGateStatus } from '../../../types/quality-gates';\nimport { QualityGateConditions } from '../components/QualityGateConditions';\n\nexport interface QualityGatePanelSectionProps {\n  branchLike?: BranchLike;\n  component: Pick<T.Component, 'key' | 'qualifier'>;\n  qgStatus: QualityGateStatus;\n}\n\nexport function QualityGatePanelSection(props: QualityGatePanelSectionProps) {\n  const { component, qgStatus } = props;\n  const newCodeFailedConditions = qgStatus.failedConditions.filter(c => isDiffMetric(c.metric));\n  const overallFailedConditions = qgStatus.failedConditions.filter(c => !isDiffMetric(c.metric));\n\n  if (newCodeFailedConditions.length === 0 && overallFailedConditions.length === 0) {\n    return null;\n  }\n\n  const showName = component.qualifier === ComponentQualifier.Application;\n\n  return (\n    <div className=\"overview-quality-gate-conditions\">\n      {showName && (\n        <h3 className=\"overview-quality-gate-conditions-project-name\">{qgStatus.name}</h3>\n      )}\n\n      {newCodeFailedConditions.length > 0 && (\n        <>\n          <h4 className=\"overview-quality-gate-conditions-section-title\">\n            {translate('quality_gates.conditions.new_code')}\n          </h4>\n          <QualityGateConditions\n            component={qgStatus}\n            branchLike={qgStatus.branchLike}\n            failedConditions={newCodeFailedConditions}\n          />\n        </>\n      )}\n\n      {overallFailedConditions.length > 0 && (\n        <>\n          <h4 className=\"overview-quality-gate-conditions-section-title\">\n            {translate('quality_gates.conditions.overall_code')}\n          </h4>\n          <QualityGateConditions\n            component={qgStatus}\n            branchLike={qgStatus.branchLike}\n            failedConditions={overallFailedConditions}\n          />\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default React.memo(QualityGatePanelSection);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { QualityGateStatus } from '../../../types/quality-gates';\nimport QualityGatePanelSection from './QualityGatePanelSection';\n\nexport interface QualityGatePanelProps {\n  component: Pick<T.Component, 'key' | 'qualifier'>;\n  loading?: boolean;\n  qgStatuses?: QualityGateStatus[];\n}\n\nexport function QualityGatePanel(props: QualityGatePanelProps) {\n  const { component, loading, qgStatuses = [] } = props;\n\n  if (qgStatuses === undefined) {\n    return null;\n  }\n\n  const overallLevel = qgStatuses.map(s => s.status).includes('ERROR') ? 'ERROR' : 'OK';\n  const success = overallLevel === 'OK';\n\n  const overallFailedConditionsCount = qgStatuses.reduce(\n    (acc, qgStatus) => acc + qgStatus.failedConditions.length,\n    0\n  );\n\n  const showIgnoredConditionWarning =\n    component.qualifier === 'TRK' &&\n    qgStatuses !== undefined &&\n    qgStatuses.some(p => Boolean(p.ignoredConditions));\n\n  return (\n    <div className=\"overview-panel\" data-test=\"overview__quality-gate-panel\">\n      <h2 className=\"overview-panel-title display-inline-flex-center\">\n        {translate('overview.quality_gate')}{' '}\n        <HelpTooltip\n          className=\"little-spacer-left\"\n          overlay={\n            <div className=\"big-padded-top big-padded-bottom\">\n              {translate('overview.quality_gate.help')}\n            </div>\n          }\n        />\n      </h2>\n\n      {showIgnoredConditionWarning && (\n        <Alert className=\"big-spacer-bottom\" display=\"inline\" variant=\"info\">\n          <span className=\"text-middle\">\n            {translate('overview.quality_gate.ignored_conditions')}\n          </span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('overview.quality_gate.ignored_conditions.tooltip')}\n          />\n        </Alert>\n      )}\n\n      <div className=\"overview-panel-content\">\n        {loading ? (\n          <div className=\"overview-panel-big-padded\">\n            <DeferredSpinner loading={loading} />\n          </div>\n        ) : (\n          <>\n            <div\n              className={classNames('overview-quality-gate-badge-large', {\n                failed: !success,\n                success\n              })}>\n              <h3 className=\"big-spacer-bottom huge\">{translate('metric.level', overallLevel)}</h3>\n\n              <span className=\"small\">\n                {overallFailedConditionsCount > 0\n                  ? translateWithParameters(\n                      'overview.X_conditions_failed',\n                      overallFailedConditionsCount\n                    )\n                  : translate('overview.quality_gate_all_conditions_passed')}\n              </span>\n            </div>\n\n            {overallFailedConditionsCount > 0 && (\n              <div data-test=\"overview__quality-gate-conditions\">\n                {qgStatuses.map(qgStatus => (\n                  <QualityGatePanelSection\n                    component={component}\n                    key={qgStatus.key}\n                    qgStatus={qgStatus}\n                  />\n                ))}\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default React.memo(QualityGatePanel);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport { ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport { ApplicationPeriod } from '../../../types/application';\nimport { Branch } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { GraphType, MeasureHistory } from '../../../types/project-activity';\nimport { QualityGateStatus } from '../../../types/quality-gates';\nimport ActivityPanel from './ActivityPanel';\nimport FirstAnalysisNextStepsNotif from './FirstAnalysisNextStepsNotif';\nimport { MeasuresPanel } from './MeasuresPanel';\nimport NoCodeWarning from './NoCodeWarning';\nimport QualityGatePanel from './QualityGatePanel';\n\nexport interface BranchOverviewRendererProps {\n  analyses?: T.Analysis[];\n  appLeak?: ApplicationPeriod;\n  branch?: Branch;\n  branchesEnabled?: boolean;\n  component: T.Component;\n  detectedCIOnLastAnalysis?: boolean;\n  graph?: GraphType;\n  loadingHistory?: boolean;\n  loadingStatus?: boolean;\n  measures?: T.MeasureEnhanced[];\n  measuresHistory?: MeasureHistory[];\n  metrics?: T.Metric[];\n  onGraphChange: (graph: GraphType) => void;\n  period?: T.Period;\n  projectBinding?: ProjectAlmBindingResponse;\n  projectIsEmpty?: boolean;\n  qgStatuses?: QualityGateStatus[];\n}\n\nexport function BranchOverviewRenderer(props: BranchOverviewRendererProps) {\n  const {\n    analyses,\n    appLeak,\n    branch,\n    branchesEnabled,\n    component,\n    detectedCIOnLastAnalysis,\n    graph,\n    loadingHistory,\n    loadingStatus,\n    measures,\n    measuresHistory = [],\n    metrics = [],\n    onGraphChange,\n    period,\n    projectBinding,\n    projectIsEmpty,\n    qgStatuses\n  } = props;\n\n  const leakPeriod = component.qualifier === ComponentQualifier.Application ? appLeak : period;\n\n  return (\n    <>\n      <FirstAnalysisNextStepsNotif\n        component={component}\n        branchesEnabled={branchesEnabled}\n        detectedCIOnLastAnalysis={detectedCIOnLastAnalysis}\n        projectBinding={projectBinding}\n      />\n      <div className=\"page page-limited\">\n        <div className=\"overview\">\n          <A11ySkipTarget anchor=\"overview_main\" />\n\n          {projectIsEmpty ? (\n            <NoCodeWarning branchLike={branch} component={component} measures={measures} />\n          ) : (\n            <div className=\"display-flex-row\">\n              <div className=\"width-25 big-spacer-right\">\n                <QualityGatePanel\n                  component={component}\n                  loading={loadingStatus}\n                  qgStatuses={qgStatuses}\n                />\n              </div>\n\n              <div className=\"flex-1\">\n                <div className=\"display-flex-column\">\n                  <MeasuresPanel\n                    appLeak={appLeak}\n                    branch={branch}\n                    component={component}\n                    loading={loadingStatus}\n                    measures={measures}\n                    period={period}\n                  />\n\n                  <ActivityPanel\n                    analyses={analyses}\n                    branchLike={branch}\n                    component={component}\n                    graph={graph}\n                    leakPeriodDate={leakPeriod && parseDate(leakPeriod.date)}\n                    loading={loadingHistory}\n                    measuresHistory={measuresHistory}\n                    metrics={metrics}\n                    onGraphChange={onGraphChange}\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default React.memo(BranchOverviewRenderer);\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy, uniq } from 'lodash';\nimport * as React from 'react';\nimport { parseDate, toNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getApplicationDetails, getApplicationLeak } from '../../../api/application';\nimport { getMeasuresWithPeriodAndMetrics } from '../../../api/measures';\nimport { getProjectActivity } from '../../../api/projectActivity';\nimport { getApplicationQualityGate, getQualityGateProjectStatus } from '../../../api/quality-gates';\nimport { getAllTimeMachineData } from '../../../api/time-machine';\nimport {\n  getActivityGraph,\n  getHistoryMetrics,\n  saveActivityGraph\n} from '../../../components/activity-graph/utils';\nimport {\n  getBranchLikeDisplayName,\n  getBranchLikeQuery,\n  isMainBranch,\n  isSameBranchLike\n} from '../../../helpers/branch-like';\nimport { enhanceConditionWithMeasure, enhanceMeasuresWithMetrics } from '../../../helpers/measures';\nimport {\n  extractStatusConditionsFromApplicationStatusChildProject,\n  extractStatusConditionsFromProjectStatus\n} from '../../../helpers/qualityGates';\nimport { ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport { ApplicationPeriod } from '../../../types/application';\nimport { Branch, BranchLike } from '../../../types/branch-like';\nimport { ComponentQualifier } from '../../../types/component';\nimport { MetricKey } from '../../../types/metrics';\nimport { GraphType, MeasureHistory } from '../../../types/project-activity';\nimport { QualityGateStatus, QualityGateStatusCondition } from '../../../types/quality-gates';\nimport '../styles.css';\nimport { HISTORY_METRICS_LIST, METRICS } from '../utils';\nimport BranchOverviewRenderer from './BranchOverviewRenderer';\n\ninterface Props {\n  branch?: Branch;\n  branchesEnabled?: boolean;\n  component: T.Component;\n  projectBinding?: ProjectAlmBindingResponse;\n}\n\ninterface State {\n  analyses?: T.Analysis[];\n  appLeak?: ApplicationPeriod;\n  detectedCIOnLastAnalysis?: boolean;\n  graph: GraphType;\n  loadingHistory?: boolean;\n  loadingStatus?: boolean;\n  measures?: T.MeasureEnhanced[];\n  measuresHistory?: MeasureHistory[];\n  metrics?: T.Metric[];\n  period?: T.Period;\n  qgStatuses?: QualityGateStatus[];\n}\n\nexport const BRANCH_OVERVIEW_ACTIVITY_GRAPH = 'sonar_branch_overview.graph';\nexport const NO_CI_DETECTED = 'undetected';\n\n// Get all history data over the past year.\nconst FROM_DATE = toNotSoISOString(new Date().setFullYear(new Date().getFullYear() - 1));\n\nexport default class BranchOverview extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State;\n\n  constructor(props: Props) {\n    super(props);\n\n    const { graph } = getActivityGraph(BRANCH_OVERVIEW_ACTIVITY_GRAPH, props.component.key);\n    this.state = { graph };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n    this.loadHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      this.props.component.key !== prevProps.component.key ||\n      !isSameBranchLike(this.props.branch, prevProps.branch)\n    ) {\n      this.loadStatus();\n      this.loadHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus = () => {\n    if (this.props.component.qualifier === ComponentQualifier.Application) {\n      this.loadApplicationStatus();\n    } else {\n      this.loadProjectStatus();\n    }\n  };\n\n  loadApplicationStatus = async () => {\n    const { branch, component } = this.props;\n    this.setState({ loadingStatus: true });\n    // Start by loading the application quality gate info, as well as the meta\n    // data for the application as a whole.\n    const appStatus = await getApplicationQualityGate({\n      application: component.key,\n      ...getBranchLikeQuery(branch)\n    });\n    const { measures: appMeasures, metrics, period } = await this.loadMeasuresAndMeta(\n      component.key,\n      branch\n    );\n\n    const appBranchName =\n      (branch && !isMainBranch(branch) && getBranchLikeDisplayName(branch)) || undefined;\n\n    const appDetails = await getApplicationDetails(component.key, appBranchName);\n\n    // We also need to load the application leak periods separately.\n    getApplicationLeak(component.key, appBranchName).then(\n      leaks => {\n        if (this.mounted && leaks && leaks.length) {\n          const sortedLeaks = sortBy(leaks, leak => {\n            return new Date(leak.date);\n          });\n          this.setState({\n            appLeak: sortedLeaks[0]\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ appLeak: undefined });\n        }\n      }\n    );\n\n    // We need to load the measures for each project in an application\n    // individually, in order to display all QG conditions correctly. Loading\n    // them at the parent application level will not get all the necessary\n    // information, unfortunately, as they are aggregated.\n    Promise.all(\n      appStatus.projects.map(project => {\n        const projectDetails = appDetails.projects.find(p => p.key === project.key);\n        const projectBranchLike = projectDetails\n          ? { isMain: projectDetails.isMain, name: projectDetails.branch, excludedFromPurge: false }\n          : undefined;\n\n        return this.loadMeasuresAndMeta(\n          project.key,\n          projectBranchLike,\n          // Only load metrics that apply to failing QG conditions; we don't\n          // need the others anyway.\n          project.conditions.filter(c => c.status !== 'OK').map(c => c.metric)\n        ).then(({ measures }) => ({\n          measures,\n          project,\n          projectBranchLike\n        }));\n      })\n    ).then(\n      results => {\n        if (this.mounted) {\n          const qgStatuses = results.map(({ measures = [], project, projectBranchLike }) => {\n            const { key, name, status } = project;\n            const conditions = extractStatusConditionsFromApplicationStatusChildProject(project);\n            const failedConditions = this.getFailedConditions(conditions, measures);\n\n            return {\n              failedConditions,\n              key,\n              name,\n              status,\n              branchLike: projectBranchLike\n            };\n          });\n\n          this.setState({\n            loadingStatus: false,\n            measures: appMeasures,\n            metrics,\n            period,\n            qgStatuses\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingStatus: false, qgStatuses: undefined });\n        }\n      }\n    );\n  };\n\n  loadProjectStatus = async () => {\n    const {\n      branch,\n      component: { key, name }\n    } = this.props;\n    this.setState({ loadingStatus: true });\n\n    const projectStatus = await getQualityGateProjectStatus({\n      projectKey: key,\n      ...getBranchLikeQuery(branch)\n    });\n\n    // Get failing condition metric keys. We need measures for them as well to\n    // render them.\n    const metricKeys =\n      projectStatus.conditions !== undefined\n        ? uniq([...METRICS, ...projectStatus.conditions.map(c => c.metricKey)])\n        : METRICS;\n\n    this.loadMeasuresAndMeta(key, branch, metricKeys).then(\n      ({ measures, metrics, period }) => {\n        if (this.mounted && measures) {\n          const { ignoredConditions, status } = projectStatus;\n          const conditions = extractStatusConditionsFromProjectStatus(projectStatus);\n          const failedConditions = this.getFailedConditions(conditions, measures);\n\n          const qgStatus = {\n            ignoredConditions,\n            failedConditions,\n            key,\n            name,\n            status,\n            branchLike: branch\n          };\n\n          this.setState({\n            loadingStatus: false,\n            measures,\n            metrics,\n            period,\n            qgStatuses: [qgStatus]\n          });\n        } else if (this.mounted) {\n          this.setState({ loadingStatus: false, qgStatuses: undefined });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingStatus: false, qgStatuses: undefined });\n        }\n      }\n    );\n  };\n\n  loadMeasuresAndMeta = (\n    componentKey: string,\n    branchLike?: BranchLike,\n    metricKeys: string[] = []\n  ) => {\n    return getMeasuresWithPeriodAndMetrics(\n      componentKey,\n      metricKeys.length > 0 ? metricKeys : METRICS,\n      getBranchLikeQuery(branchLike)\n    ).then(({ component: { measures }, metrics, period }) => {\n      return {\n        measures: enhanceMeasuresWithMetrics(measures || [], metrics || []),\n        metrics,\n        period\n      };\n    });\n  };\n\n  loadHistory = () => {\n    this.setState({ loadingHistory: true });\n\n    return Promise.all([this.loadHistoryMeasures(), this.loadAnalyses()]).then(\n      this.doneLoadingHistory,\n      this.doneLoadingHistory\n    );\n  };\n\n  loadHistoryMeasures = () => {\n    const { branch, component } = this.props;\n    const { graph } = this.state;\n\n    const graphMetrics = getHistoryMetrics(graph, []);\n    const metrics = uniq([...HISTORY_METRICS_LIST, ...graphMetrics]);\n\n    return getAllTimeMachineData({\n      ...getBranchLikeQuery(branch),\n      from: FROM_DATE,\n      component: component.key,\n      metrics: metrics.join()\n    }).then(\n      ({ measures }) => {\n        if (this.mounted) {\n          this.setState({\n            measuresHistory: measures.map(measure => ({\n              metric: measure.metric,\n              history: measure.history.map(analysis => ({\n                date: parseDate(analysis.date),\n                value: analysis.value\n              }))\n            }))\n          });\n        }\n      },\n      () => {}\n    );\n  };\n\n  loadAnalyses = () => {\n    const { branch } = this.props;\n\n    return getProjectActivity({\n      ...getBranchLikeQuery(branch),\n      project: this.getTopLevelComponent(),\n      from: FROM_DATE\n    }).then(\n      ({ analyses }) => {\n        if (this.mounted) {\n          this.setState({\n            detectedCIOnLastAnalysis:\n              analyses.length > 0\n                ? analyses[0].detectedCI !== undefined && analyses[0].detectedCI !== NO_CI_DETECTED\n                : undefined,\n            analyses\n          });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getFailedConditions = (\n    conditions: QualityGateStatusCondition[],\n    measures: T.MeasureEnhanced[]\n  ) => {\n    return (\n      conditions\n        .filter(c => c.level !== 'OK')\n        // Enhance them with Metric information, which will be needed\n        // to render the conditions properly.\n        .map(c => enhanceConditionWithMeasure(c, measures))\n        // The enhancement will return undefined if it cannot find the\n        // appropriate measure. Make sure we filter them out.\n        .filter(isDefined)\n    );\n  };\n\n  getTopLevelComponent = () => {\n    const { component } = this.props;\n    let current = component.breadcrumbs.length - 1;\n    while (\n      current > 0 &&\n      !([\n        ComponentQualifier.Project,\n        ComponentQualifier.Portfolio,\n        ComponentQualifier.Application\n      ] as string[]).includes(component.breadcrumbs[current].qualifier)\n    ) {\n      current--;\n    }\n    return component.breadcrumbs[current].key;\n  };\n\n  doneLoadingHistory = () => {\n    if (this.mounted) {\n      this.setState({\n        loadingHistory: false\n      });\n    }\n  };\n\n  handleGraphChange = (graph: GraphType) => {\n    const { component } = this.props;\n    saveActivityGraph(BRANCH_OVERVIEW_ACTIVITY_GRAPH, component.key, graph);\n    this.setState({ graph, loadingHistory: true }, () => {\n      this.loadHistoryMeasures().then(this.doneLoadingHistory, this.doneLoadingHistory);\n    });\n  };\n\n  render() {\n    const { branch, branchesEnabled, component, projectBinding } = this.props;\n    const {\n      analyses,\n      appLeak,\n      detectedCIOnLastAnalysis,\n      graph,\n      loadingStatus,\n      loadingHistory,\n      measures,\n      measuresHistory,\n      metrics,\n      period,\n      qgStatuses\n    } = this.state;\n\n    const projectIsEmpty =\n      loadingStatus === false &&\n      (measures === undefined ||\n        measures.find(measure =>\n          ([MetricKey.lines, MetricKey.new_lines] as string[]).includes(measure.metric.key)\n        ) === undefined);\n\n    return (\n      <BranchOverviewRenderer\n        analyses={analyses}\n        appLeak={appLeak}\n        branch={branch}\n        branchesEnabled={branchesEnabled}\n        component={component}\n        detectedCIOnLastAnalysis={detectedCIOnLastAnalysis}\n        graph={graph}\n        loadingHistory={loadingHistory}\n        loadingStatus={loadingStatus}\n        measures={measures}\n        measuresHistory={measuresHistory}\n        metrics={metrics}\n        onGraphChange={this.handleGraphChange}\n        period={period}\n        projectBinding={projectBinding}\n        projectIsEmpty={projectIsEmpty}\n        qgStatuses={qgStatuses}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport { withAppState } from '../../../components/hoc/withAppState';\nimport { Router, withRouter } from '../../../components/hoc/withRouter';\nimport { isPullRequest } from '../../../helpers/branch-like';\nimport { ProjectAlmBindingResponse } from '../../../types/alm-settings';\nimport { BranchLike } from '../../../types/branch-like';\nimport { isPortfolioLike } from '../../../types/component';\nimport BranchOverview from '../branches/BranchOverview';\n\nconst EmptyOverview = lazyLoadComponent(() => import('./EmptyOverview'));\nconst PullRequestOverview = lazyLoadComponent(() => import('../pullRequests/PullRequestOverview'));\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  branchLike?: BranchLike;\n  branchLikes: BranchLike[];\n  component: T.Component;\n  isInProgress?: boolean;\n  isPending?: boolean;\n  projectBinding?: ProjectAlmBindingResponse;\n  router: Pick<Router, 'replace'>;\n}\n\nexport class App extends React.PureComponent<Props> {\n  isPortfolio = () => {\n    return isPortfolioLike(this.props.component.qualifier);\n  };\n\n  render() {\n    const {\n      appState: { branchesEnabled },\n      branchLike,\n      branchLikes,\n      component,\n      projectBinding\n    } = this.props;\n\n    if (this.isPortfolio()) {\n      return null;\n    }\n\n    return isPullRequest(branchLike) ? (\n      <>\n        <Suggestions suggestions=\"pull_requests\" />\n        <PullRequestOverview branchLike={branchLike} component={component} />\n      </>\n    ) : (\n      <>\n        <Suggestions suggestions=\"overview\" />\n\n        {!component.analysisDate && (\n          <EmptyOverview\n            branchLike={branchLike}\n            branchLikes={branchLikes}\n            component={component}\n            hasAnalyses={this.props.isPending || this.props.isInProgress}\n            projectBinding={projectBinding}\n          />\n        )}\n\n        {component.analysisDate && (\n          <BranchOverview\n            branch={branchLike}\n            branchesEnabled={branchesEnabled}\n            component={component}\n            projectBinding={projectBinding}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default withRouter(withAppState(App));\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nrequire(\"./Checkbox.css\");\nvar Checkbox = (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(!_this.props.checked, _this.props.id);\n            }\n        };\n        return _this;\n    }\n    Checkbox.prototype.render = function () {\n        var _a = this.props, checked = _a.checked, children = _a.children, disabled = _a.disabled, id = _a.id, loading = _a.loading, right = _a.right, thirdState = _a.thirdState, title = _a.title;\n        var className = classNames('icon-checkbox', {\n            'icon-checkbox-checked': checked,\n            'icon-checkbox-single': thirdState,\n            'icon-checkbox-disabled': disabled,\n        });\n        if (children) {\n            return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('link-checkbox', this.props.className, {\n                    note: disabled,\n                    disabled: disabled,\n                }), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title },\n                right && children,\n                React.createElement(DeferredSpinner_1.default, { loading: Boolean(loading) },\n                    React.createElement(\"i\", { className: className })),\n                !right && children));\n        }\n        if (loading) {\n            return React.createElement(DeferredSpinner_1.default, null);\n        }\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames(className, this.props.className), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title }));\n    };\n    Checkbox.defaultProps = {\n        thirdState: false,\n    };\n    return Checkbox;\n}(React.PureComponent));\nexports.default = Checkbox;\n//# sourceMappingURL=Checkbox.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#666;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nexports.formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\nexports.longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\nfunction DateFormatter(_a) {\n    var children = _a.children, date = _a.date, long = _a.long;\n    return (React.createElement(react_intl_1.FormattedDate, __assign({ value: dates_1.parseDate(date) }, (long ? exports.longFormatterOption : exports.formatterOption)), children));\n}\nexports.default = DateFormatter;\n//# sourceMappingURL=DateFormatter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar date_fns_1 = require(\"date-fns\");\nvar React = require(\"react\");\nvar react_intl_1 = require(\"react-intl\");\nvar dates_1 = require(\"../../helpers/dates\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DateTimeFormatter_1 = require(\"./DateTimeFormatter\");\nfunction DateFromNow(props) {\n    var _a = props.children, originalChildren = _a === void 0 ? function (f) { return f; } : _a, date = props.date, hourPrecision = props.hourPrecision;\n    var children = originalChildren;\n    if (!date) {\n        return React.createElement(React.Fragment, null, originalChildren(l10n_1.translate('never')));\n    }\n    if (date && hourPrecision && date_fns_1.differenceInHours(Date.now(), date) < 1) {\n        children = function () { return originalChildren(l10n_1.translate('less_than_1_hour_ago')); };\n    }\n    var parsedDate = dates_1.parseDate(date);\n    return (React.createElement(DateTimeFormatter_1.default, { date: parsedDate }, function (formattedDate) { return (React.createElement(\"span\", { title: formattedDate },\n        React.createElement(react_intl_1.FormattedRelative, { value: parsedDate }, children))); }));\n}\nexports.default = DateFromNow;\n//# sourceMappingURL=DateFromNow.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar IssueIcon_1 = require(\"./IssueIcon\");\nfunction IssueTypeIcon(_a) {\n    var query = _a.query, iconProps = __rest(_a, [\"query\"]);\n    var type;\n    switch (query.toLowerCase()) {\n        case 'bug':\n        case 'bugs':\n        case 'new_bugs':\n            type = 'BUG';\n            break;\n        case 'vulnerability':\n        case 'vulnerabilities':\n        case 'new_vulnerabilities':\n            type = 'VULNERABILITY';\n            break;\n        case 'code_smell':\n        case 'code_smells':\n        case 'new_code_smells':\n            type = 'CODE_SMELL';\n            break;\n        case 'security_hotspot':\n        case 'security_hotspots':\n        case 'new_security_hotspots':\n            type = 'SECURITY_HOTSPOT';\n            break;\n        default:\n            return null;\n    }\n    return React.createElement(IssueIcon_1.default, __assign({ type: type }, iconProps));\n}\nexports.default = IssueTypeIcon;\n//# sourceMappingURL=IssueTypeIcon.js.map","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction BranchIcon(_a) {\n    var fill = _a.fill, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M12.5 6.5c0-1.1-.9-2-2-2s-2 .9-2 2c0 .8.5 1.5 1.2 1.8-.3.6-.7 1.1-1.2 1.4-.9.5-1.9.5-2.5.4V4c.9-.2 1.5-1 1.5-1.9 0-1.1-.9-2-2-2s-2 .9-2 2C3.5 3 4.1 3.8 5 4v8c-.9.2-1.5 1-1.5 1.9 0 1.1.9 2 2 2s2-.9 2-2c0-.9-.6-1.7-1.5-1.9v-1c.2 0 .5.1.7.1.7 0 1.5-.1 2.2-.6.8-.5 1.4-1.2 1.7-2.1 1.1 0 1.9-.9 1.9-1.9zm-8-4.4c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.5-1-1zm2 11.9c0 .6-.4 1-1 1s-1-.4-1-1 .4-1 1-1 1 .4 1 1zm4-6.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nexports.default = BranchIcon;\n//# sourceMappingURL=BranchIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating',\n  'security_review_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  return measure?.period?.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}></span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, {\n      decimals,\n      omitExtraDecimalZeros: metricType === 'PERCENT'\n    });\n    return <span className={className}>{formattedValue != null ? formattedValue : ''}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { chunk, flatMap, groupBy, sortBy } from 'lodash';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { get, save } from 'sonar-ui-common/helpers/storage';\nimport { localizeMetric } from '../../helpers/measures';\nimport { MetricKey } from '../../types/metrics';\nimport { GraphType, MeasureHistory, Serie } from '../../types/project-activity';\n\nexport const DEFAULT_GRAPH = GraphType.issues;\n\nconst GRAPHS_METRICS_DISPLAYED: T.Dict<string[]> = {\n  [GraphType.issues]: [MetricKey.bugs, MetricKey.code_smells, MetricKey.vulnerabilities],\n  [GraphType.coverage]: [MetricKey.lines_to_cover, MetricKey.uncovered_lines],\n  [GraphType.duplications]: [MetricKey.ncloc, MetricKey.duplicated_lines]\n};\n\nconst GRAPHS_METRICS: T.Dict<string[]> = {\n  [GraphType.issues]: GRAPHS_METRICS_DISPLAYED[GraphType.issues].concat([\n    MetricKey.reliability_rating,\n    MetricKey.security_rating,\n    MetricKey.sqale_rating\n  ]),\n  [GraphType.coverage]: [...GRAPHS_METRICS_DISPLAYED[GraphType.coverage], MetricKey.coverage],\n  [GraphType.duplications]: [\n    ...GRAPHS_METRICS_DISPLAYED[GraphType.duplications],\n    MetricKey.duplicated_lines_density\n  ]\n};\n\nexport function isCustomGraph(graph: GraphType) {\n  return graph === GraphType.custom;\n}\n\nexport function getGraphTypes(ignoreCustom = false) {\n  const graphs = [GraphType.issues, GraphType.coverage, GraphType.duplications];\n  return ignoreCustom ? graphs : [...graphs, GraphType.custom];\n}\n\nexport function hasDataValues(serie: Serie) {\n  return serie.data.some(point => Boolean(point.y || point.y === 0));\n}\n\nexport function hasHistoryData(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1);\n}\n\nexport function getSeriesMetricType(series: Serie[]) {\n  return series.length > 0 ? series[0].type : 'INT';\n}\n\nexport function getDisplayedHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n}\n\nexport function getHistoryMetrics(graph: GraphType, customMetrics: string[]) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n}\n\nexport function hasHistoryDataValue(series: Serie[]) {\n  return series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n}\n\nexport function splitSeriesInGraphs(series: Serie[], maxGraph: number, maxSeries: number) {\n  return flatMap(\n    groupBy(series, serie => serie.type),\n    type => chunk(type, maxSeries)\n  ).slice(0, maxGraph);\n}\n\nexport function generateCoveredLinesMetric(\n  uncoveredLines: MeasureHistory,\n  measuresHistory: MeasureHistory[]\n) {\n  const linesToCover = measuresHistory.find(measure => measure.metric === MetricKey.lines_to_cover);\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n}\n\nexport function generateSeries(\n  measuresHistory: MeasureHistory[],\n  graph: GraphType,\n  metrics: T.Metric[] | T.Dict<T.Metric>,\n  displayedMetrics: string[]\n): Serie[] {\n  if (displayedMetrics.length <= 0 || measuresHistory === undefined) {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === MetricKey.uncovered_lines && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = findMetric(measure.metric, metrics);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : localizeMetric(measure.metric),\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport function saveActivityGraph(\n  namespace: string,\n  project: string,\n  graph: GraphType,\n  metrics: string[] = []\n) {\n  save(namespace, graph, project);\n  if (isCustomGraph(graph)) {\n    save(`${namespace}.custom`, metrics.join(','), project);\n  }\n}\n\nexport function getActivityGraph(\n  namespace: string,\n  project: string\n): { graph: GraphType; customGraphs: string[] } {\n  const customGraphs = get(`${namespace}.custom`, project);\n  return {\n    graph: (get(namespace, project) as GraphType) || DEFAULT_GRAPH,\n    customGraphs: customGraphs ? customGraphs.split(',') : []\n  };\n}\n\nfunction findMetric(key: string, metrics: T.Metric[] | T.Dict<T.Metric>) {\n  if (Array.isArray(metrics)) {\n    return metrics.find(metric => metric.key === key);\n  }\n  return metrics[key];\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar BugIcon_1 = require(\"./BugIcon\");\nvar CodeSmellIcon_1 = require(\"./CodeSmellIcon\");\nvar SecurityHotspotIcon_1 = require(\"./SecurityHotspotIcon\");\nvar VulnerabilityIcon_1 = require(\"./VulnerabilityIcon\");\nfunction IssueIcon(_a) {\n    var type = _a.type, iconProps = __rest(_a, [\"type\"]);\n    switch (type) {\n        case 'BUG':\n            return React.createElement(BugIcon_1.default, __assign({}, iconProps));\n        case 'VULNERABILITY':\n            return React.createElement(VulnerabilityIcon_1.default, __assign({}, iconProps));\n        case 'CODE_SMELL':\n            return React.createElement(CodeSmellIcon_1.default, __assign({}, iconProps));\n        case 'SECURITY_HOTSPOT':\n            return React.createElement(SecurityHotspotIcon_1.default, __assign({}, iconProps));\n        default:\n            return null;\n    }\n}\nexports.default = IssueIcon;\n//# sourceMappingURL=IssueIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","var createFind = require('./_createFind'),\n    findIndex = require('./findIndex');\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nmodule.exports = find;\n","var baseIteratee = require('./_baseIteratee'),\n    isArrayLike = require('./isArrayLike'),\n    keys = require('./keys');\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    if (!isArrayLike(collection)) {\n      var iteratee = baseIteratee(predicate, 3);\n      collection = keys(collection);\n      predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n    }\n    var index = findIndexFunc(collection, predicate, fromIndex);\n    return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n  };\n}\n\nmodule.exports = createFind;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nmodule.exports = findIndex;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum GraphType {\n  issues = 'issues',\n  coverage = 'coverage',\n  duplications = 'duplications',\n  custom = 'custom'\n}\n\nexport interface HistoryItem {\n  date: Date;\n  value?: string;\n}\n\nexport interface MeasureHistory {\n  metric: string;\n  history: HistoryItem[];\n}\n\nexport interface Serie {\n  data: Point[];\n  name: string;\n  translatedName: string;\n  type: string;\n}\n\nexport interface Point {\n  x: Date;\n  y: number | string | undefined;\n}\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { colors } from '../../app/theme';\n\nconst DonutChart = lazyLoadComponent(\n  () => import('sonar-ui-common/components/charts/DonutChart'),\n  'DonutChart'\n);\n\nconst SIZE_TO_WIDTH_MAPPING = { small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { small: 2, normal: 3, big: 3, huge: 4 };\n\nexport interface CoverageRatingProps {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({\n  muted = false,\n  size = 'normal',\n  value\n}: CoverageRatingProps) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n  let padAngle = 0;\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? colors.gray71 : colors.green },\n      { value: 100 - numberValue, fill: muted ? colors.barBackgroundColor : colors.lineCoverageRed }\n    ];\n    if (numberValue !== 0 && numberValue < 100) {\n      padAngle = 0.1; // Same for all sizes, because it scales automatically\n    }\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return (\n    <DonutChart\n      data={data}\n      height={width}\n      padAngle={padAngle}\n      thickness={thickness}\n      width={width}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport const ALM_INTEGRATION = 'almintegration';\nexport const ANALYSIS_SCOPE_CATEGORY = 'exclusions';\nexport const LANGUAGES_CATEGORY = 'languages';\nexport const NEW_CODE_PERIOD_CATEGORY = 'new_code_period';\nexport const PULL_REQUEST_DECORATION_BINDING_CATEGORY = 'pull_request_decoration_binding';\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Application, ApplicationPeriod, ApplicationProject } from '../types/application';\nimport { Visibility } from '../types/component';\n\nexport function getApplicationLeak(\n  application: string,\n  branch?: string\n): Promise<ApplicationPeriod[]> {\n  return getJSON('/api/applications/show_leak', { application, branch }).then(\n    r => r.leaks,\n    throwGlobalError\n  );\n}\n\nexport function getApplicationDetails(application: string, branch?: string): Promise<Application> {\n  return getJSON('/api/applications/show', { application, branch }).then(\n    r => r.application,\n    throwGlobalError\n  );\n}\n\nexport function addApplicationBranch(data: {\n  application: string;\n  branch: string;\n  project: string[];\n  projectBranch: string[];\n}) {\n  return post('/api/applications/create_branch', data).catch(throwGlobalError);\n}\n\nexport function updateApplicationBranch(data: {\n  application: string;\n  branch: string;\n  name: string;\n  project: string[];\n  projectBranch: string[];\n}) {\n  return post('/api/applications/update_branch', data).catch(throwGlobalError);\n}\n\nexport function deleteApplicationBranch(application: string, branch: string) {\n  return post('/api/applications/delete_branch', { application, branch }).catch(throwGlobalError);\n}\n\nexport function getApplicationProjects(data: {\n  application: string;\n  p?: number;\n  ps?: number;\n  q?: string;\n  selected: string;\n}): Promise<{ paging: T.Paging; projects: ApplicationProject[] }> {\n  return getJSON('/api/applications/search_projects', data).catch(throwGlobalError);\n}\n\nexport function addProjectToApplication(application: string, project: string) {\n  return post('/api/applications/add_project', { application, project }).catch(throwGlobalError);\n}\n\nexport function removeProjectFromApplication(application: string, project: string) {\n  return post('/api/applications/remove_project', { application, project }).catch(throwGlobalError);\n}\n\nexport function refreshApplication(key: string) {\n  return post('/api/applications/refresh', { key }).catch(throwGlobalError);\n}\n\nexport function createApplication(\n  name: string,\n  description: string,\n  key: string | undefined,\n  visibility: string\n): Promise<{\n  application: {\n    description?: string;\n    key: string;\n    name: string;\n    visibility: Visibility;\n  };\n}> {\n  return postJSON('/api/applications/create', { description, key, name, visibility }).catch(\n    throwGlobalError\n  );\n}\n\nexport function deleteApplication(application: string) {\n  return post('/api/applications/delete', { application }).catch(throwGlobalError);\n}\n\nexport function editApplication(application: string, name: string, description: string) {\n  return post('/api/applications/update', { name, description, application }).catch(\n    throwGlobalError\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nrequire(\"./DuplicationsRating.css\");\nfunction DuplicationsRating(_a) {\n    var _b = _a.muted, muted = _b === void 0 ? false : _b, _c = _a.size, size = _c === void 0 ? 'normal' : _c, value = _a.value;\n    var className = classNames('duplications-rating', {\n        'duplications-rating-small': size === 'small',\n        'duplications-rating-big': size === 'big',\n        'duplications-rating-huge': size === 'huge',\n        'duplications-rating-muted': muted || value == null || isNaN(value),\n        'duplications-rating-A': lodash_1.inRange(value || 0, 0, 3),\n        'duplications-rating-B': lodash_1.inRange(value || 0, 3, 5),\n        'duplications-rating-C': lodash_1.inRange(value || 0, 5, 10),\n        'duplications-rating-D': lodash_1.inRange(value || 0, 10, 20),\n        'duplications-rating-E': (value || 0) >= 20,\n    });\n    return React.createElement(\"div\", { className: className });\n}\nexports.default = DuplicationsRating;\n//# sourceMappingURL=DuplicationsRating.js.map","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ProjectEventIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? '#fff' : _b, _c = _a.size, size = _c === void 0 ? 14 : _c, iconProps = __rest(_a, [\"fill\", \"size\"]);\n    return (React.createElement(Icon_1.default, __assign({ size: size }, iconProps),\n        React.createElement(\"path\", { d: \"M8 2 L14 8 L8 14 L2 8 L8 2 L14 8\", style: { fill: fill, stroke: 'currentColor', strokeWidth: '2px' } })));\n}\nexports.default = ProjectEventIcon;\n//# sourceMappingURL=ProjectEventIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { getBranchLikeQuery } from '../../helpers/branch-like';\nimport { getComponentDrilldownUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\n\nconst ISSUE_MEASURES = [\n  'violations',\n  'new_violations',\n  'blocker_violations',\n  'critical_violations',\n  'major_violations',\n  'minor_violations',\n  'info_violations',\n  'new_blocker_violations',\n  'new_critical_violations',\n  'new_major_violations',\n  'new_minor_violations',\n  'new_info_violations',\n  'open_issues',\n  'reopened_issues',\n  'confirmed_issues',\n  'false_positive_issues',\n  'code_smells',\n  'new_code_smells',\n  'bugs',\n  'new_bugs',\n  'vulnerabilities',\n  'new_vulnerabilities'\n];\n\nconst issueParamsPerMetric: T.Dict<T.Dict<string>> = {\n  blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  new_blocker_violations: { resolved: 'false', severities: 'BLOCKER' },\n  critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  new_critical_violations: { resolved: 'false', severities: 'CRITICAL' },\n  major_violations: { resolved: 'false', severities: 'MAJOR' },\n  new_major_violations: { resolved: 'false', severities: 'MAJOR' },\n  minor_violations: { resolved: 'false', severities: 'MINOR' },\n  new_minor_violations: { resolved: 'false', severities: 'MINOR' },\n  info_violations: { resolved: 'false', severities: 'INFO' },\n  new_info_violations: { resolved: 'false', severities: 'INFO' },\n  open_issues: { resolved: 'false', statuses: 'OPEN' },\n  reopened_issues: { resolved: 'false', statuses: 'REOPENED' },\n  confirmed_issues: { resolved: 'false', statuses: 'CONFIRMED' },\n  false_positive_issues: { resolutions: 'FALSE-POSITIVE' },\n  code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  new_code_smells: { resolved: 'false', types: 'CODE_SMELL' },\n  bugs: { resolved: 'false', types: 'BUG' },\n  new_bugs: { resolved: 'false', types: 'BUG' },\n  vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' },\n  new_vulnerabilities: { resolved: 'false', types: 'VULNERABILITY' }\n};\n\ninterface Props {\n  branchLike?: BranchLike;\n  children?: React.ReactNode;\n  className?: string;\n  component: string;\n  metric: string;\n  sinceLeakPeriod?: boolean;\n}\n\nexport default class DrilldownLink extends React.PureComponent<Props> {\n  isIssueMeasure = () => {\n    return ISSUE_MEASURES.indexOf(this.props.metric) !== -1;\n  };\n\n  propsToIssueParams = () => {\n    const params: T.Dict<string | boolean> = {\n      ...(issueParamsPerMetric[this.props.metric] || { resolved: 'false' })\n    };\n\n    if (this.props.sinceLeakPeriod) {\n      params.sinceLeakPeriod = true;\n    }\n\n    return params;\n  };\n\n  renderIssuesLink = () => {\n    const url = getComponentIssuesUrl(this.props.component, {\n      ...this.propsToIssueParams(),\n      ...getBranchLikeQuery(this.props.branchLike)\n    });\n\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  };\n\n  render() {\n    if (this.isIssueMeasure()) {\n      return this.renderIssuesLink();\n    }\n\n    const url = getComponentDrilldownUrl({\n      componentKey: this.props.component,\n      metric: this.props.metric,\n      branchLike: this.props.branchLike,\n      listView: true\n    });\n    return (\n      <Link className={this.props.className} to={url}>\n        {this.props.children}\n      </Link>\n    );\n  }\n}\n","\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar TabContainer = theme_1.styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n\"])));\nvar baseBorder = function (_a) {\n    var theme = _a.theme;\n    return \"1px solid \" + theme.colors.barBorderColor;\n};\nvar highlightHoverMixin = function (_a) {\n    var theme = _a.theme;\n    return \"\\n  &:hover {\\n    background-color: \" + theme.colors.barBackgroundColorHighlight + \";\\n  }\\n\";\n};\nvar StyledTab = theme_1.styled.button(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: relative;\\n  background-color: \", \";\\n  border-top: \", \";\\n  border-left: \", \";\\n  border-right: none;\\n  border-bottom: none;\\n  margin-bottom: -1px;\\n  min-width: 128px;\\n  min-height: 56px;\\n  \", \"\\n  outline: 0;\\n  padding: calc(2 * \", \");\\n\\n  \", \"\\n\\n  &:last-child {\\n    border-right: \", \";\\n  }\\n\"], [\"\\n  position: relative;\\n  background-color: \", \";\\n  border-top: \", \";\\n  border-left: \", \";\\n  border-right: none;\\n  border-bottom: none;\\n  margin-bottom: -1px;\\n  min-width: 128px;\\n  min-height: 56px;\\n  \", \"\\n  outline: 0;\\n  padding: calc(2 * \", \");\\n\\n  \", \"\\n\\n  &:last-child {\\n    border-right: \", \";\\n  }\\n\"])), function (props) { return (props.active ? 'white' : props.theme.colors.barBackgroundColor); }, baseBorder, baseBorder, function (props) { return !props.active && 'cursor: pointer;'; }, theme_1.themeSize('gridSize'), function (props) { return (!props.active ? highlightHoverMixin : null); }, baseBorder);\nvar ActiveBorder = theme_1.styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: \", \";\\n  background-color: \", \";\\n  height: 3px;\\n  width: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: -1px;\\n\"], [\"\\n  display: \", \";\\n  background-color: \", \";\\n  height: 3px;\\n  width: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: -1px;\\n\"])), function (props) { return (props.active ? 'block' : 'none'); }, theme_1.themeColor('blue'));\nfunction BoxedTabs(props) {\n    var className = props.className, tabs = props.tabs, selected = props.selected;\n    return (React.createElement(TabContainer, { className: className }, tabs.map(function (_a, i) {\n        var key = _a.key, label = _a.label;\n        return (React.createElement(StyledTab, { active: selected === key, key: i, onClick: function () { return selected !== key && props.onSelect(key); }, type: \"button\" },\n            React.createElement(ActiveBorder, { active: selected === key }),\n            label));\n    })));\n}\nexports.default = BoxedTabs;\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceMappingURL=BoxedTabs.js.map","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nmodule.exports = chunk;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport DuplicationsRating from 'sonar-ui-common/components/ui/DuplicationsRating';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CoverageRating from '../../components/ui/CoverageRating';\nimport { ISSUETYPE_METRIC_KEYS_MAP } from '../../helpers/issues';\nimport { IssueType } from '../../types/issues';\nimport { MetricKey } from '../../types/metrics';\n\nexport const METRICS: string[] = [\n  // quality gate\n  MetricKey.alert_status,\n  MetricKey.quality_gate_details, // TODO: still relevant?\n\n  // bugs\n  MetricKey.bugs,\n  MetricKey.new_bugs,\n  MetricKey.reliability_rating,\n  MetricKey.new_reliability_rating,\n\n  // vulnerabilities\n  MetricKey.vulnerabilities,\n  MetricKey.new_vulnerabilities,\n  MetricKey.security_rating,\n  MetricKey.new_security_rating,\n\n  // hotspots\n  MetricKey.security_hotspots,\n  MetricKey.new_security_hotspots,\n  MetricKey.security_hotspots_reviewed,\n  MetricKey.new_security_hotspots_reviewed,\n  MetricKey.security_review_rating,\n  MetricKey.new_security_review_rating,\n\n  // code smells\n  MetricKey.code_smells,\n  MetricKey.new_code_smells,\n  MetricKey.sqale_rating,\n  MetricKey.new_maintainability_rating,\n  MetricKey.sqale_index,\n  MetricKey.new_technical_debt,\n\n  // coverage\n  MetricKey.coverage,\n  MetricKey.new_coverage,\n  MetricKey.lines_to_cover,\n  MetricKey.new_lines_to_cover,\n  MetricKey.tests,\n\n  // duplications\n  MetricKey.duplicated_lines_density,\n  MetricKey.new_duplicated_lines_density,\n  MetricKey.duplicated_blocks,\n\n  // size\n  MetricKey.ncloc,\n  MetricKey.ncloc_language_distribution,\n  MetricKey.projects,\n  MetricKey.lines,\n  MetricKey.new_lines\n];\n\nexport const PR_METRICS: string[] = [\n  MetricKey.coverage,\n  MetricKey.new_coverage,\n  MetricKey.new_lines_to_cover,\n\n  MetricKey.duplicated_lines_density,\n  MetricKey.new_duplicated_lines_density,\n  MetricKey.new_lines,\n  MetricKey.new_code_smells,\n  MetricKey.new_maintainability_rating,\n  MetricKey.new_bugs,\n  MetricKey.new_reliability_rating,\n  MetricKey.new_vulnerabilities,\n  MetricKey.new_security_hotspots,\n  MetricKey.new_security_review_rating,\n  MetricKey.new_security_rating\n];\n\nexport const HISTORY_METRICS_LIST: string[] = [\n  MetricKey.bugs,\n  MetricKey.vulnerabilities,\n  MetricKey.sqale_index,\n  MetricKey.duplicated_lines_density,\n  MetricKey.ncloc,\n  MetricKey.coverage\n];\n\nexport enum MeasurementType {\n  Coverage = 'COVERAGE',\n  Duplication = 'DUPLICATION'\n}\n\nconst MEASUREMENTS_MAP = {\n  [MeasurementType.Coverage]: {\n    metric: MetricKey.coverage,\n    newMetric: MetricKey.new_coverage,\n    linesMetric: MetricKey.lines_to_cover,\n    newLinesMetric: MetricKey.new_lines_to_cover,\n    afterMergeMetric: MetricKey.coverage,\n    labelKey: 'metric.coverage.name',\n    expandedLabelKey: 'overview.coverage_on_X_lines',\n    newLinesExpandedLabelKey: 'overview.coverage_on_X_new_lines',\n    iconClass: CoverageRating\n  },\n  [MeasurementType.Duplication]: {\n    metric: MetricKey.duplicated_lines_density,\n    newMetric: MetricKey.new_duplicated_lines_density,\n    linesMetric: MetricKey.ncloc,\n    newLinesMetric: MetricKey.new_lines,\n    afterMergeMetric: MetricKey.duplicated_lines_density,\n    labelKey: 'metric.duplicated_lines_density.short_name',\n    expandedLabelKey: 'overview.duplications_on_X_lines',\n    newLinesExpandedLabelKey: 'overview.duplications_on_X_new_lines',\n    iconClass: DuplicationsRating\n  }\n};\n\nexport function getIssueRatingName(type: IssueType) {\n  return translate('metric_domain', ISSUETYPE_METRIC_KEYS_MAP[type].ratingName);\n}\n\nexport function getIssueIconClass(type: IssueType) {\n  return ISSUETYPE_METRIC_KEYS_MAP[type].iconClass;\n}\n\nexport function getIssueMetricKey(type: IssueType, useDiffMetric: boolean) {\n  return useDiffMetric\n    ? ISSUETYPE_METRIC_KEYS_MAP[type].newMetric\n    : ISSUETYPE_METRIC_KEYS_MAP[type].metric;\n}\n\nexport function getIssueRatingMetricKey(type: IssueType, useDiffMetric: boolean) {\n  return useDiffMetric\n    ? ISSUETYPE_METRIC_KEYS_MAP[type].newRating\n    : ISSUETYPE_METRIC_KEYS_MAP[type].rating;\n}\n\nexport function getMeasurementIconClass(type: MeasurementType) {\n  return MEASUREMENTS_MAP[type].iconClass;\n}\n\nexport function getMeasurementMetricKey(type: MeasurementType, useDiffMetric: boolean) {\n  return useDiffMetric ? MEASUREMENTS_MAP[type].newMetric : MEASUREMENTS_MAP[type].metric;\n}\n\nexport function getMeasurementAfterMergeMetricKey(type: MeasurementType) {\n  return MEASUREMENTS_MAP[type].afterMergeMetric;\n}\n\nexport function getMeasurementLinesMetricKey(type: MeasurementType, useDiffMetric: boolean) {\n  return useDiffMetric ? MEASUREMENTS_MAP[type].newLinesMetric : MEASUREMENTS_MAP[type].linesMetric;\n}\n\nexport function getMeasurementLabelKeys(type: MeasurementType, useDiffMetric: boolean) {\n  return {\n    expandedLabelKey: useDiffMetric\n      ? MEASUREMENTS_MAP[type].newLinesExpandedLabelKey\n      : MEASUREMENTS_MAP[type].expandedLabelKey,\n    labelKey: MEASUREMENTS_MAP[type].labelKey\n  };\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".duplications-rating{position:relative;display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:24px;height:24px;border:3px solid #ed7d20;border-radius:24px;box-sizing:border-box}.duplications-rating-small{width:16px;height:16px;border-width:2px}.duplications-rating-big{width:40px;height:40px;border-width:3px}.duplications-rating-huge{width:60px;height:60px;border-width:4px;border-radius:30px}.duplications-rating-muted{border-color:#bdbdbd!important}.duplications-rating-muted:after{background-color:#bdbdbd!important}.duplications-rating:after{border-radius:24px;content:\\\"\\\"}.duplications-rating-A{border-color:#0a0}.duplications-rating-A:after{display:none}.duplications-rating-B{border-color:#b0d513}.duplications-rating-B:after{width:6px;height:6px;background-color:#b0d513}.duplications-rating-small.duplications-rating-B:after{width:2px;height:2px}.duplications-rating-big.duplications-rating-B:after{width:12px;height:12px}.duplications-rating-huge.duplications-rating-B:after{width:18px;height:18px}.duplications-rating-C{border-color:#eabe06}.duplications-rating-C:after{width:8px;height:8px;background-color:#eabe06}.duplications-rating-small.duplications-rating-C:after{width:6px;height:6px}.duplications-rating-big.duplications-rating-C:after{width:16px;height:16px}.duplications-rating-huge.duplications-rating-C:after{width:24px;height:24px}.duplications-rating-D{border-color:#ed7d20}.duplications-rating-D:after{width:12px;height:12px;background-color:#ed7d20}.duplications-rating-small.duplications-rating-D:after{width:8px;height:8px}.duplications-rating-big.duplications-rating-D:after{width:24px;height:24px}.duplications-rating-huge.duplications-rating-D:after{width:36px;height:36px}.duplications-rating-E{border-color:#d4333f}.duplications-rating-E:after{width:14px;height:14px;background-color:#d4333f}.duplications-rating-small.duplications-rating-E:after{width:10px;height:10px}.duplications-rating-big.duplications-rating-E:after{width:28px;height:28px}.duplications-rating-huge.duplications-rating-E:after{width:42px;height:42px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChartLegendIcon(_a) {\n    var index = _a.index, iconProps = __rest(_a, [\"index\"]);\n    return (React.createElement(Icon_1.ThemedIcon, __assign({}, iconProps), function (_a) {\n        var theme = _a.theme;\n        var COLORS = [theme.colors.blue, theme.colors.darkBlue, '#24c6e0'];\n        return (React.createElement(\"path\", { d: \"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z\", style: { fill: COLORS[index] || COLORS[0] } }));\n    }));\n}\nexports.default = ChartLegendIcon;\n//# sourceMappingURL=ChartLegendIcon.js.map","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","export var slice = Array.prototype.slice;\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction HistoryIcon(_a) {\n    var _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, iconProps = __rest(_a, [\"fill\"]);\n    return (React.createElement(Icon_1.default, __assign({}, iconProps),\n        React.createElement(\"path\", { d: \"M14.7 3.4v3.3c0 .1 0 .2-.1.2s-.2 0-.3-.1l-.9-.9-4.8 4.8c-.1.1-.1.1-.2.1s-.1 0-.2-.1L6.4 9l-3.2 3.2-1.5-1.5 4.5-4.5c.1-.1.1-.1.2-.1s.1 0 .2.1L8.4 8l3.5-3.5-.9-1c-.1-.1-.1-.2-.1-.3s.1-.1.2-.1h3.3c.1 0 .1 0 .2.1.1 0 .1.1.1.2z\", style: { fill: fill } })));\n}\nexports.default = HistoryIcon;\n//# sourceMappingURL=HistoryIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getProjectActivity(\n  data: {\n    project: string;\n    category?: string;\n    from?: string;\n    p?: number;\n    ps?: number;\n  } & BranchParameters\n): Promise<{ analyses: T.Analysis[]; paging: T.Paging }> {\n  return getJSON('/api/project_analyses/search', data).catch(throwGlobalError);\n}\n\ninterface CreateEventResponse {\n  analysis: string;\n  key: string;\n  name: string;\n  category: string;\n  description?: string;\n}\n\nexport function createEvent(\n  analysis: string,\n  name: string,\n  category?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { analysis, name };\n  if (category) {\n    data.category = category;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/create_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteEvent(event: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete_event', { event }).catch(throwGlobalError);\n}\n\nexport function changeEvent(\n  event: string,\n  name?: string,\n  description?: string\n): Promise<CreateEventResponse> {\n  const data: RequestData = { event };\n  if (name) {\n    data.name = name;\n  }\n  if (description) {\n    data.description = description;\n  }\n  return postJSON('/api/project_analyses/update_event', data).then(r => r.event, throwGlobalError);\n}\n\nexport function deleteAnalysis(analysis: string): Promise<void | Response> {\n  return post('/api/project_analyses/delete', { analysis }).catch(throwGlobalError);\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport BranchIcon from 'sonar-ui-common/components/icons/BranchIcon';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { isMainBranch } from '../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\n\nexport type DefinitionChangeEvent = T.AnalysisEvent &\n  Required<Pick<T.AnalysisEvent, 'definitionChange'>>;\n\nexport function isDefinitionChangeEvent(event: T.AnalysisEvent): event is DefinitionChangeEvent {\n  return event.category === 'DEFINITION_CHANGE' && event.definitionChange !== undefined;\n}\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  event: DefinitionChangeEvent;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport class DefinitionChangeEventInner extends React.PureComponent<Props, State> {\n  state: State = { expanded: false };\n\n  stopPropagation = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  toggleProjectsList = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  renderProjectLink = (project: { key: string; name: string }, branch: string | undefined) => (\n    <Link\n      onClick={this.stopPropagation}\n      title={project.name}\n      to={getProjectUrl(project.key, branch)}>\n      {limitComponentName(project.name, 28)}\n    </Link>\n  );\n\n  renderBranch = (branch = translate('branches.main_branch')) => (\n    <span className=\"nowrap\" title={branch}>\n      <BranchIcon className=\"little-spacer-left text-text-top\" />\n      {branch}\n    </span>\n  );\n\n  renderProjectChange(project: {\n    changeType: string;\n    key: string;\n    name: string;\n    branch?: string;\n    newBranch?: string;\n    oldBranch?: string;\n  }) {\n    const mainBranch = !this.props.branchLike || isMainBranch(this.props.branchLike);\n\n    if (project.changeType === 'ADDED') {\n      const message = mainBranch\n        ? 'event.definition_change.added'\n        : 'event.definition_change.branch_added';\n      return (\n        <div className=\"text-ellipsis\">\n          <FormattedMessage\n            defaultMessage={translate(message)}\n            id={message}\n            values={{\n              project: this.renderProjectLink(project, project.branch),\n              branch: this.renderBranch(project.branch)\n            }}\n          />\n        </div>\n      );\n    } else if (project.changeType === 'REMOVED') {\n      const message = mainBranch\n        ? 'event.definition_change.removed'\n        : 'event.definition_change.branch_removed';\n      return (\n        <div className=\"text-ellipsis\">\n          <FormattedMessage\n            defaultMessage={translate(message)}\n            id={message}\n            values={{\n              project: this.renderProjectLink(project, project.branch),\n              branch: this.renderBranch(project.branch)\n            }}\n          />\n        </div>\n      );\n    } else if (project.changeType === 'BRANCH_CHANGED') {\n      return (\n        <FormattedMessage\n          defaultMessage={translate('event.definition_change.branch_replaced')}\n          id=\"event.definition_change.branch_replaced\"\n          values={{\n            project: this.renderProjectLink(project, project.newBranch),\n            oldBranch: this.renderBranch(project.oldBranch),\n            newBranch: this.renderBranch(project.newBranch)\n          }}\n        />\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const { event } = this.props;\n    const { expanded } = this.state;\n    return (\n      <>\n        <span className=\"note\">{translate('event.category', event.category)}:</span>\n\n        <div>\n          <ResetButtonLink\n            className=\"project-activity-event-inner-more-link\"\n            onClick={this.toggleProjectsList}\n            stopPropagation={true}>\n            {expanded ? translate('hide') : translate('more')}\n            <DropdownIcon className=\"little-spacer-left\" turned={expanded} />\n          </ResetButtonLink>\n        </div>\n\n        {expanded && (\n          <ul className=\"spacer-left spacer-top\">\n            {event.definitionChange.projects.map(project => (\n              <li className=\"display-flex-center spacer-top\" key={project.key}>\n                {this.renderProjectChange(project)}\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getProjectUrl } from '../../../helpers/urls';\n\nexport type RichQualityGateEvent = T.AnalysisEvent & Required<Pick<T.AnalysisEvent, 'qualityGate'>>;\n\nexport function isRichQualityGateEvent(event: T.AnalysisEvent): event is RichQualityGateEvent {\n  return event.category === 'QUALITY_GATE' && event.qualityGate !== undefined;\n}\n\ninterface Props {\n  event: RichQualityGateEvent;\n}\n\ninterface State {\n  expanded: boolean;\n}\n\nexport class RichQualityGateEventInner extends React.PureComponent<Props, State> {\n  state: State = { expanded: false };\n\n  stopPropagation = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.stopPropagation();\n  };\n\n  toggleProjectsList = () => {\n    this.setState(state => ({ expanded: !state.expanded }));\n  };\n\n  render() {\n    const { event } = this.props;\n    const { expanded } = this.state;\n    return (\n      <>\n        <span className=\"note spacer-right\">{translate('event.category', event.category)}:</span>\n        {event.qualityGate.stillFailing ? (\n          <FormattedMessage\n            defaultMessage={translate('event.quality_gate.still_x')}\n            id=\"event.quality_gate.still_x\"\n            values={{ status: <Level level={event.qualityGate.status} small={true} /> }}\n          />\n        ) : (\n          <Level level={event.qualityGate.status} small={true} />\n        )}\n\n        <div>\n          {event.qualityGate.failing.length > 0 && (\n            <ResetButtonLink\n              className=\"project-activity-event-inner-more-link\"\n              onClick={this.toggleProjectsList}\n              stopPropagation={true}>\n              {expanded ? translate('hide') : translate('more')}\n              <DropdownIcon className=\"little-spacer-left\" turned={expanded} />\n            </ResetButtonLink>\n          )}\n        </div>\n\n        {expanded && (\n          <ul className=\"spacer-left spacer-top\">\n            {event.qualityGate.failing.map(project => (\n              <li className=\"display-flex-center spacer-top\" key={project.key}>\n                <Level\n                  aria-label={translate('quality_gates.status')}\n                  className=\"spacer-right\"\n                  level={event.qualityGate.status}\n                  small={true}\n                />\n                <div className=\"flex-1 text-ellipsis\">\n                  <Link\n                    onClick={this.stopPropagation}\n                    title={project.name}\n                    to={getProjectUrl(project.key, project.branch)}>\n                    <span aria-label={translateWithParameters('project_x', project.name)}>\n                      {project.name}\n                    </span>\n                  </Link>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ApplicationPeriod } from '../types/application';\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter || '';\n\n  switch (period.mode) {\n    case 'SPECIFIC_ANALYSIS':\n      parameter = dateFormatter(period.date);\n      break;\n    case 'PREVIOUS_VERSION':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    /*\n     * Handle legacy period modes, that predate MMF-1579\n     */\n    case 'previous_version':\n      if (!parameter) {\n        return translate('overview.period.previous_version_only_date');\n      }\n      break;\n    case 'date':\n      parameter = parameter && dateFormatter(parameter);\n      break;\n    case 'manual_baseline':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    default: // No change in the parameter\n  }\n\n  return translateWithParameters(`overview.period.${period.mode.toLowerCase()}`, parameter);\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n\nexport function isApplicationPeriod(\n  period: T.Period | ApplicationPeriod\n): period is ApplicationPeriod {\n  return (period as ApplicationPeriod).project !== undefined;\n}\n","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./LineChart.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\ninterface TimeMachineResponse {\n  measures: {\n    metric: string;\n    history: Array<{ date: string; value?: string }>;\n  }[];\n  paging: T.Paging;\n}\n\nexport function getTimeMachineData(\n  data: {\n    component: string;\n    from?: string;\n    metrics: string;\n    p?: number;\n    ps?: number;\n    to?: string;\n  } & BranchParameters\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', data).catch(throwGlobalError);\n}\n\nexport function getAllTimeMachineData(\n  data: {\n    component: string;\n    metrics: string;\n    from?: string;\n    p?: number;\n    to?: string;\n  } & BranchParameters,\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData({ ...data, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData({ ...data, p: result.paging.pageIndex + 1 }, result);\n  });\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".activity-graph-container{padding:10px 0}.activity-graph-tooltip{padding:8px}.activity-graph-tooltip-line{height:20px}.activity-graph-tooltip-line+.activity-graph-tooltip-line{padding-top:4px}.activity-graph-tooltip-issues-line{height:26px;padding-bottom:4px}.activity-graph-tooltip-separator{padding-left:16px;padding-right:16px}.activity-graph-tooltip-separator hr{margin-top:8px;margin-bottom:8px}.activity-graph-tooltip-title,.activity-graph-tooltip-value{font-weight:700}.activity-graph-legends{flex-grow:0;padding-bottom:16px;text-align:center}.activity-graph-legend-actionable{display:inline-block;padding:4px 8px 4px 12px;border-width:1px;border-style:solid;border-radius:12px}.activity-graph-new-code-legend{margin-right:10px}.activity-graph-new-code-legend:after{content:\\\"\\\";display:inline-block;margin-left:4px;width:8px;height:8px;background-color:#fbf3d5;border:2px solid #f1e8cb}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar d3_shape_1 = require(\"d3-shape\");\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar types_1 = require(\"../../helpers/types\");\nvar theme_1 = require(\"../theme\");\nrequire(\"./AdvancedTimeline.css\");\nrequire(\"./LineChart.css\");\nvar LEGEND_LINE_HEIGHT = 16;\nvar AdvancedTimeline = (function (_super) {\n    __extends(AdvancedTimeline, _super);\n    function AdvancedTimeline(props) {\n        var _this = _super.call(this, props) || this;\n        _this.getRatingScale = function (availableHeight) {\n            return d3_scale_1.scalePoint().domain([5, 4, 3, 2, 1]).range([availableHeight, 0]);\n        };\n        _this.getLevelScale = function (availableHeight) {\n            return d3_scale_1.scalePoint().domain(['ERROR', 'WARN', 'OK']).range([availableHeight, 0]);\n        };\n        _this.getYScale = function (props, availableHeight, flatData) {\n            if (props.metricType === 'RATING') {\n                return _this.getRatingScale(availableHeight);\n            }\n            else if (props.metricType === 'LEVEL') {\n                return _this.getLevelScale(availableHeight);\n            }\n            else {\n                return d3_scale_1.scaleLinear()\n                    .range([availableHeight, 0])\n                    .domain([0, d3_array_1.max(flatData, function (d) { return Number(d.y || 0); }) || 1])\n                    .nice();\n            }\n        };\n        _this.getXScale = function (_a, availableWidth, flatData) {\n            var startDate = _a.startDate, endDate = _a.endDate;\n            var dateRange = d3_array_1.extent(flatData, function (d) { return d.x; });\n            var start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n            var end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n            var xScale = d3_scale_1.scaleTime()\n                .domain(lodash_1.sortBy([start, end]))\n                .range([0, availableWidth])\n                .clamp(false);\n            return {\n                xScale: xScale,\n                maxXRange: dateRange.map(xScale),\n            };\n        };\n        _this.getScales = function (props) {\n            var availableWidth = props.width - props.padding[1] - props.padding[3];\n            var availableHeight = props.height - props.padding[0] - props.padding[2];\n            var flatData = lodash_1.flatten(props.series.map(function (serie) { return serie.data; }));\n            return __assign(__assign({}, _this.getXScale(props, availableWidth, flatData)), { yScale: _this.getYScale(props, availableHeight, flatData) });\n        };\n        _this.getSelectedDatePos = function (xScale, selectedDate) {\n            var firstSerie = _this.props.series[0];\n            if (selectedDate && firstSerie) {\n                var idx = firstSerie.data.findIndex(function (p) { return p.x.valueOf() === selectedDate.valueOf(); });\n                var xRange = lodash_1.sortBy(xScale.range());\n                var xPos = xScale(selectedDate);\n                if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n                    return {\n                        selectedDate: selectedDate,\n                        selectedDateXPos: xScale(selectedDate),\n                        selectedDateIdx: idx,\n                    };\n                }\n            }\n            return { selectedDate: undefined, selectedDateXPos: undefined, selectedDateIdx: undefined };\n        };\n        _this.getEventMarker = function (size) {\n            var half = size / 2;\n            return \"M\" + half + \" 0 L\" + size + \" \" + half + \" L \" + half + \" \" + size + \" L0 \" + half + \" L\" + half + \" 0 L\" + size + \" \" + half;\n        };\n        _this.handleWheel = function (event) {\n            event.preventDefault();\n            var _a = _this.state, maxXRange = _a.maxXRange, xScale = _a.xScale;\n            var parentBbox = event.currentTarget.getBoundingClientRect();\n            var mouseXPos = (event.pageX - parentBbox.left) / parentBbox.width;\n            var xRange = xScale.range();\n            var speed = event.deltaMode\n                ? (25 / event.deltaMode) * _this.props.zoomSpeed\n                : _this.props.zoomSpeed;\n            var leftPos = xRange[0] - Math.round(speed * event.deltaY * mouseXPos);\n            var rightPos = xRange[1] + Math.round(speed * event.deltaY * (1 - mouseXPos));\n            var startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : undefined;\n            var endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : undefined;\n            _this.handleZoomUpdate(startDate, endDate);\n        };\n        _this.handleZoomUpdate = function (startDate, endDate) {\n            if (_this.props.updateZoom) {\n                _this.props.updateZoom(startDate, endDate);\n            }\n        };\n        _this.handleMouseMove = function (event) {\n            var parentBbox = event.currentTarget.getBoundingClientRect();\n            _this.updateTooltipPos(event.pageX - parentBbox.left);\n        };\n        _this.handleMouseEnter = function () {\n            _this.setState({ mouseOver: true });\n        };\n        _this.handleMouseOut = function () {\n            var updateTooltip = _this.props.updateTooltip;\n            if (updateTooltip) {\n                _this.setState({\n                    mouseOver: false,\n                    selectedDate: undefined,\n                    selectedDateXPos: undefined,\n                    selectedDateIdx: undefined,\n                });\n                updateTooltip(undefined, undefined, undefined);\n            }\n        };\n        _this.handleClick = function () {\n            var updateSelectedDate = _this.props.updateSelectedDate;\n            if (updateSelectedDate) {\n                updateSelectedDate(_this.state.selectedDate || undefined);\n            }\n        };\n        _this.setLeakLegendTextWidth = function (node) {\n            if (node) {\n                _this.setState({ leakLegendTextWidth: node.getBoundingClientRect().width });\n            }\n        };\n        _this.updateTooltipPos = function (xPos) {\n            _this.setState(function (state) {\n                var firstSerie = _this.props.series[0];\n                if (state.mouseOver && firstSerie) {\n                    var updateTooltip = _this.props.updateTooltip;\n                    var date = state.xScale.invert(xPos);\n                    var bisectX = d3_array_1.bisector(function (d) { return d.x; }).right;\n                    var idx = bisectX(firstSerie.data, date);\n                    if (idx >= 0) {\n                        var previousPoint = firstSerie.data[idx - 1];\n                        var nextPoint = firstSerie.data[idx];\n                        if (!nextPoint ||\n                            (previousPoint &&\n                                date.valueOf() - previousPoint.x.valueOf() <= nextPoint.x.valueOf() - date.valueOf())) {\n                            idx--;\n                        }\n                        var selectedDate = firstSerie.data[idx].x;\n                        var xPos_1 = state.xScale(selectedDate);\n                        if (updateTooltip) {\n                            updateTooltip(selectedDate, xPos_1, idx);\n                        }\n                        return { selectedDate: selectedDate, selectedDateXPos: xPos_1, selectedDateIdx: idx };\n                    }\n                }\n                return null;\n            });\n        };\n        _this.renderHorizontalGrid = function () {\n            var formatYTick = _this.props.formatYTick;\n            var _a = _this.state, xScale = _a.xScale, yScale = _a.yScale;\n            var hasTicks = typeof yScale.ticks === 'function';\n            var ticks = hasTicks\n                ? yScale.ticks(_this.props.maxYTicksCount)\n                : yScale.domain();\n            if (!ticks.length) {\n                ticks.push(yScale.domain()[1]);\n            }\n            if (formatYTick) {\n                var formattedTicks = ticks.map(function (tick) { return formatYTick(tick); });\n                if (ticks.length > lodash_1.uniq(formattedTicks).length) {\n                    ticks = yScale.domain();\n                }\n            }\n            return (React.createElement(\"g\", null, ticks.map(function (tick) { return (React.createElement(\"g\", { key: tick },\n                formatYTick != null && (React.createElement(\"text\", { className: \"line-chart-tick line-chart-tick-x\", dx: \"-1em\", dy: \"0.3em\", textAnchor: \"end\", x: xScale.range()[0], y: yScale(tick) }, formatYTick(tick))),\n                React.createElement(\"line\", { className: \"line-chart-grid\", x1: xScale.range()[0], x2: xScale.range()[1], y1: yScale(tick), y2: yScale(tick) }))); })));\n        };\n        _this.renderXAxisTicks = function () {\n            var _a = _this.state, xScale = _a.xScale, yScale = _a.yScale;\n            var format = xScale.tickFormat(7);\n            var ticks = xScale.ticks(7);\n            var y = yScale.range()[0];\n            return (React.createElement(\"g\", { transform: \"translate(0, 20)\" }, ticks.slice(0, -1).map(function (tick, index) {\n                var nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n                var x = (xScale(tick) + xScale(nextTick)) / 2;\n                return (React.createElement(\"text\", { className: \"line-chart-tick\", key: index, textAnchor: \"end\", transform: \"rotate(-35, \" + x + \", \" + y + \")\", x: x, y: y }, format(tick)));\n            })));\n        };\n        _this.renderNewCodeLegend = function (params) {\n            var leakStart = params.leakStart, leakWidth = params.leakWidth, theme = params.theme;\n            var _a = _this.state, leakLegendTextWidth = _a.leakLegendTextWidth, xScale = _a.xScale, yScale = _a.yScale;\n            var yRange = yScale.range();\n            var xRange = xScale.range();\n            var legendMinWidth = (leakLegendTextWidth || 0) + theme.rawSizes.grid;\n            var legendPadding = theme.rawSizes.grid / 2;\n            var legendBackgroundPosition;\n            var legendBackgroundWidth;\n            var legendMargin;\n            var legendPosition;\n            var legendTextAnchor;\n            if (leakWidth >= legendMinWidth) {\n                legendBackgroundWidth = leakWidth;\n                legendBackgroundPosition = leakStart;\n                legendMargin = 0;\n                legendPosition = legendBackgroundPosition + legendPadding;\n                legendTextAnchor = 'start';\n            }\n            else {\n                legendBackgroundWidth = legendMinWidth;\n                legendBackgroundPosition = xRange[xRange.length - 1] - legendBackgroundWidth;\n                legendMargin = theme.rawSizes.grid / 2;\n                legendPosition = xRange[xRange.length - 1] - legendPadding;\n                legendTextAnchor = 'end';\n            }\n            return (React.createElement(React.Fragment, null,\n                React.createElement(\"rect\", { fill: theme.colors.leakPrimaryColor, height: LEGEND_LINE_HEIGHT, width: legendBackgroundWidth, x: legendBackgroundPosition, y: yRange[yRange.length - 1] - LEGEND_LINE_HEIGHT - legendMargin }),\n                React.createElement(\"text\", { className: \"new-code-legend\", ref: _this.setLeakLegendTextWidth, x: legendPosition, y: yRange[yRange.length - 1] - legendPadding - legendMargin, textAnchor: legendTextAnchor }, \"new code\")));\n        };\n        _this.renderLeak = function () {\n            var _a = _this.props, displayNewCodeLegend = _a.displayNewCodeLegend, leakPeriodDate = _a.leakPeriodDate;\n            if (!leakPeriodDate) {\n                return null;\n            }\n            var _b = _this.state, xScale = _b.xScale, yScale = _b.yScale;\n            var yRange = yScale.range();\n            var xRange = xScale.range();\n            var leakStart = Math.max(xScale(leakPeriodDate), xRange[0]);\n            var leakWidth = xRange[xRange.length - 1] - leakStart;\n            if (leakWidth < 1) {\n                return null;\n            }\n            return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(React.Fragment, null,\n                displayNewCodeLegend && _this.renderNewCodeLegend({ leakStart: leakStart, leakWidth: leakWidth, theme: theme }),\n                React.createElement(\"rect\", { className: \"leak-chart-rect\", fill: theme.colors.leakPrimaryColor, height: yRange[0] - yRange[yRange.length - 1], width: leakWidth, x: leakStart, y: yRange[yRange.length - 1] }))); }));\n        };\n        _this.renderLines = function () {\n            var lineGenerator = d3_shape_1.line()\n                .defined(function (d) { return Boolean(d.y || d.y === 0); })\n                .x(function (d) { return _this.state.xScale(d.x); })\n                .y(function (d) { return _this.state.yScale(d.y); });\n            if (_this.props.basisCurve) {\n                lineGenerator.curve(d3_shape_1.curveBasis);\n            }\n            return (React.createElement(\"g\", null, _this.props.series.map(function (serie, idx) { return (React.createElement(\"path\", { className: classNames('line-chart-path', 'line-chart-path-' + idx), d: lineGenerator(serie.data) || undefined, key: serie.name })); })));\n        };\n        _this.renderDots = function () {\n            return (React.createElement(\"g\", null, _this.props.series\n                .map(function (serie, serieIdx) {\n                return serie.data\n                    .map(function (point, idx) {\n                    var pointNotDefined = !point.y && point.y !== 0;\n                    var hasPointBefore = serie.data[idx - 1] && (serie.data[idx - 1].y || serie.data[idx - 1].y === 0);\n                    var hasPointAfter = serie.data[idx + 1] && (serie.data[idx + 1].y || serie.data[idx + 1].y === 0);\n                    if (pointNotDefined || hasPointBefore || hasPointAfter) {\n                        return undefined;\n                    }\n                    return (React.createElement(\"circle\", { className: classNames('line-chart-dot', 'line-chart-dot-' + serieIdx), cx: _this.state.xScale(point.x), cy: _this.state.yScale(point.y), key: serie.name + idx, r: \"2\" }));\n                })\n                    .filter(types_1.isDefined);\n            })\n                .filter(function (dots) { return dots.length > 0; })));\n        };\n        _this.renderAreas = function () {\n            var areaGenerator = d3_shape_1.area()\n                .defined(function (d) { return Boolean(d.y || d.y === 0); })\n                .x(function (d) { return _this.state.xScale(d.x); })\n                .y1(function (d) { return _this.state.yScale(d.y); })\n                .y0(_this.state.yScale(0));\n            if (_this.props.basisCurve) {\n                areaGenerator.curve(d3_shape_1.curveBasis);\n            }\n            return (React.createElement(\"g\", null, _this.props.series.map(function (serie, idx) { return (React.createElement(\"path\", { className: classNames('line-chart-area', 'line-chart-area-' + idx), d: areaGenerator(serie.data) || undefined, key: serie.name })); })));\n        };\n        _this.renderSelectedDate = function () {\n            var _a = _this.state, selectedDateIdx = _a.selectedDateIdx, selectedDateXPos = _a.selectedDateXPos, yScale = _a.yScale;\n            var firstSerie = _this.props.series[0];\n            if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n                return null;\n            }\n            return (React.createElement(\"g\", null,\n                React.createElement(\"line\", { className: \"line-tooltip\", x1: selectedDateXPos, x2: selectedDateXPos, y1: yScale.range()[0], y2: yScale.range()[1] }),\n                _this.props.series.map(function (serie, idx) {\n                    var point = serie.data[selectedDateIdx];\n                    if (!point || (!point.y && point.y !== 0)) {\n                        return null;\n                    }\n                    return (React.createElement(\"circle\", { className: classNames('line-chart-dot', 'line-chart-dot-' + idx), cx: selectedDateXPos, cy: yScale(point.y), key: serie.name, r: \"4\" }));\n                })));\n        };\n        _this.renderClipPath = function () {\n            return (React.createElement(\"defs\", null,\n                React.createElement(\"clipPath\", { id: \"chart-clip\" },\n                    React.createElement(\"rect\", { height: _this.state.yScale.range()[0] + 10, transform: \"translate(0,-5)\", width: _this.state.xScale.range()[1] }))));\n        };\n        _this.renderMouseEventsOverlay = function (zoomEnabled) {\n            var mouseEvents = {};\n            if (zoomEnabled) {\n                mouseEvents.onWheel = _this.handleWheel;\n            }\n            if (_this.props.updateTooltip) {\n                mouseEvents.onMouseEnter = _this.handleMouseEnter;\n                mouseEvents.onMouseMove = _this.handleMouseMove;\n                mouseEvents.onMouseOut = _this.handleMouseOut;\n            }\n            if (_this.props.updateSelectedDate) {\n                mouseEvents.onClick = _this.handleClick;\n            }\n            return (React.createElement(\"rect\", __assign({ className: \"chart-mouse-events-overlay\", height: _this.state.yScale.range()[0], width: _this.state.xScale.range()[1] }, mouseEvents)));\n        };\n        var scales = _this.getScales(props);\n        var selectedDatePos = _this.getSelectedDatePos(scales.xScale, props.selectedDate);\n        _this.state = __assign(__assign({}, scales), selectedDatePos);\n        _this.updateTooltipPos = lodash_1.throttle(_this.updateTooltipPos, 40);\n        _this.handleZoomUpdate = lodash_1.throttle(_this.handleZoomUpdate, 40);\n        return _this;\n    }\n    AdvancedTimeline.prototype.componentDidUpdate = function (prevProps) {\n        var scales;\n        var selectedDatePos;\n        if (this.props.metricType !== prevProps.metricType ||\n            this.props.startDate !== prevProps.startDate ||\n            this.props.endDate !== prevProps.endDate ||\n            this.props.width !== prevProps.width ||\n            this.props.padding !== prevProps.padding ||\n            this.props.height !== prevProps.height ||\n            this.props.series !== prevProps.series) {\n            scales = this.getScales(this.props);\n            if (this.state.selectedDate != null) {\n                selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n            }\n        }\n        if (!lodash_1.isEqual(this.props.selectedDate, prevProps.selectedDate)) {\n            var xScale = scales ? scales.xScale : this.state.xScale;\n            selectedDatePos = this.getSelectedDatePos(xScale, this.props.selectedDate);\n        }\n        if (scales || selectedDatePos) {\n            if (scales) {\n                this.setState(__assign({}, scales));\n            }\n            if (selectedDatePos) {\n                this.setState(__assign({}, selectedDatePos));\n            }\n            if (selectedDatePos && this.props.updateTooltip) {\n                this.props.updateTooltip(selectedDatePos.selectedDate, selectedDatePos.selectedDateXPos, selectedDatePos.selectedDateIdx);\n            }\n        }\n    };\n    AdvancedTimeline.prototype.render = function () {\n        if (!this.props.width || !this.props.height) {\n            return React.createElement(\"div\", null);\n        }\n        var zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n        var isZoomed = Boolean(this.props.startDate || this.props.endDate);\n        return (React.createElement(\"svg\", { className: classNames('line-chart', { 'chart-zoomed': isZoomed }), height: this.props.height, width: this.props.width },\n            zoomEnabled && this.renderClipPath(),\n            React.createElement(\"g\", { transform: \"translate(\" + this.props.padding[3] + \", \" + this.props.padding[0] + \")\" },\n                this.props.leakPeriodDate != null && this.renderLeak(),\n                !this.props.hideGrid && this.renderHorizontalGrid(),\n                !this.props.hideXAxis && this.renderXAxisTicks(),\n                this.props.showAreas && this.renderAreas(),\n                this.renderLines(),\n                this.renderDots(),\n                this.renderSelectedDate(),\n                this.renderMouseEventsOverlay(zoomEnabled))));\n    };\n    AdvancedTimeline.defaultProps = {\n        eventSize: 8,\n        maxYTicksCount: 4,\n        padding: [26, 10, 50, 60],\n        zoomSpeed: 1,\n    };\n    return AdvancedTimeline;\n}(React.PureComponent));\nexports.default = AdvancedTimeline;\n//# sourceMappingURL=AdvancedTimeline.js.map","var api = require(\"!../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./AdvancedTimeline.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".line-tooltip{fill:none;stroke:#666;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}.new-code-legend{fill:#666;font-size:12px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#666;font-size:12px}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport HistoryIcon from 'sonar-ui-common/components/icons/HistoryIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getActivityUrl, getMeasureHistoryUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\nimport { GraphType } from '../../types/project-activity';\nimport { isCustomGraph } from '../activity-graph/utils';\nimport './ActivityLink.css';\n\nexport interface ActivityLinkProps {\n  branchLike?: BranchLike;\n  component: string;\n  graph?: GraphType;\n  label?: string;\n  metric?: string;\n}\n\nexport default function ActivityLink(props: ActivityLinkProps) {\n  const { branchLike, component, graph, label, metric } = props;\n  return (\n    <Link\n      className=\"activity-link\"\n      to={\n        metric !== undefined && graph !== undefined && isCustomGraph(graph)\n          ? getMeasureHistoryUrl(component, metric, branchLike)\n          : getActivityUrl(component, branchLike, graph)\n      }>\n      <HistoryIcon className=\"little-spacer-right\" size={14} />\n      <span>{label || translate('portfolio.activity_link')}</span>\n    </Link>\n  );\n}\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./ActivityLink.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"a.activity-link{border:none}.activity-link>span{border-bottom:1px solid #cae3f2}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport AlertWarnIcon from 'sonar-ui-common/components/icons/AlertWarnIcon';\nimport ChartLegendIcon from 'sonar-ui-common/components/icons/ChartLegendIcon';\n\ninterface Props {\n  className?: string;\n  index: number;\n  metric: string;\n  name: string;\n  showWarning?: boolean;\n  removeMetric?: (metric: string) => void;\n}\n\nexport default class GraphsLegendItem extends React.PureComponent<Props> {\n  handleClick = () => {\n    if (this.props.removeMetric) {\n      this.props.removeMetric(this.props.metric);\n    }\n  };\n\n  render() {\n    const isActionable = this.props.removeMetric != null;\n    const legendClass = classNames(\n      { 'activity-graph-legend-actionable': isActionable },\n      this.props.className\n    );\n    return (\n      <span className={legendClass}>\n        {this.props.showWarning ? (\n          <AlertWarnIcon className=\"spacer-right\" />\n        ) : (\n          <ChartLegendIcon className=\"text-middle spacer-right\" index={this.props.index} />\n        )}\n        <span className=\"text-middle\">{this.props.name}</span>\n        {isActionable && (\n          <ClearButton\n            className=\"button-tiny spacer-left text-middle\"\n            iconProps={{ size: 12 }}\n            onClick={this.handleClick}\n          />\n        )}\n      </span>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Serie } from '../../types/project-activity';\nimport GraphsLegendItem from './GraphsLegendItem';\nimport { hasDataValues } from './utils';\n\nexport interface GraphsLegendCustomProps {\n  removeMetric: (metric: string) => void;\n  series: Serie[];\n}\n\nexport default function GraphsLegendCustom(props: GraphsLegendCustomProps) {\n  const { series } = props;\n  return (\n    <div className=\"activity-graph-legends display-flex-center\">\n      <div className=\"flex-1\">\n        {series.map((serie, idx) => {\n          const hasData = hasDataValues(serie);\n          const legendItem = (\n            <GraphsLegendItem\n              index={idx}\n              metric={serie.name}\n              name={serie.translatedName}\n              removeMetric={props.removeMetric}\n              showWarning={!hasData}\n            />\n          );\n          if (!hasData) {\n            return (\n              <Tooltip\n                key={serie.name}\n                overlay={translate('project_activity.graphs.custom.metric_no_history')}>\n                <span className=\"spacer-left spacer-right\">{legendItem}</span>\n              </Tooltip>\n            );\n          }\n          return (\n            <span className=\"spacer-left spacer-right\" key={serie.name}>\n              {legendItem}\n            </span>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Serie } from '../../types/project-activity';\nimport GraphsLegendItem from './GraphsLegendItem';\n\nexport interface GraphsLegendStaticProps {\n  series: Array<Pick<Serie, 'name' | 'translatedName'>>;\n}\n\nexport default function GraphsLegendStatic({ series }: GraphsLegendStaticProps) {\n  return (\n    <div className=\"activity-graph-legends\">\n      {series.map((serie, idx) => (\n        <GraphsLegendItem\n          className=\"big-spacer-left big-spacer-right\"\n          index={idx}\n          key={serie.name}\n          metric={serie.name}\n          name={serie.translatedName}\n        />\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChartLegendIcon from 'sonar-ui-common/components/icons/ChartLegendIcon';\n\ninterface Props {\n  name: string;\n  index: number;\n  translatedName: string;\n  value: string;\n}\n\nexport default function GraphsTooltipsContent({ name, index, translatedName, value }: Props) {\n  return (\n    <tr className=\"activity-graph-tooltip-line\" key={name}>\n      <td className=\"thin\">\n        <ChartLegendIcon className=\"spacer-right\" index={index} />\n      </td>\n      <td className=\"activity-graph-tooltip-value text-right spacer-right thin\">{value}</td>\n      <td>{translatedName}</td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { MeasureHistory } from '../../types/project-activity';\n\nexport interface GraphsTooltipsContentCoverageProps {\n  addSeparator: boolean;\n  measuresHistory: MeasureHistory[];\n  tooltipIdx: number;\n}\n\nexport default function GraphsTooltipsContentCoverage({\n  addSeparator,\n  measuresHistory,\n  tooltipIdx\n}: GraphsTooltipsContentCoverageProps) {\n  const uncovered = measuresHistory.find(measure => measure.metric === 'uncovered_lines');\n  const coverage = measuresHistory.find(measure => measure.metric === 'coverage');\n  if (!uncovered || !uncovered.history[tooltipIdx] || !coverage || !coverage.history[tooltipIdx]) {\n    return null;\n  }\n  const uncoveredValue = uncovered.history[tooltipIdx].value;\n  const coverageValue = coverage.history[tooltipIdx].value;\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"activity-graph-tooltip-separator\" colSpan={3}>\n            <hr />\n          </td>\n        </tr>\n      )}\n      {uncoveredValue && (\n        <tr className=\"activity-graph-tooltip-line\">\n          <td className=\"activity-graph-tooltip-value text-right spacer-right thin\" colSpan={2}>\n            {formatMeasure(uncoveredValue, 'SHORT_INT')}\n          </td>\n          <td>{translate('metric.uncovered_lines.name')}</td>\n        </tr>\n      )}\n      {coverageValue && (\n        <tr className=\"activity-graph-tooltip-line\">\n          <td className=\"activity-graph-tooltip-value text-right spacer-right thin\" colSpan={2}>\n            {formatMeasure(coverageValue, 'PERCENT')}\n          </td>\n          <td>{translate('metric.coverage.name')}</td>\n        </tr>\n      )}\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { MeasureHistory } from '../../types/project-activity';\n\nexport interface GraphsTooltipsContentDuplicationProps {\n  addSeparator: boolean;\n  measuresHistory: MeasureHistory[];\n  tooltipIdx: number;\n}\n\nexport default function GraphsTooltipsContentDuplication({\n  addSeparator,\n  measuresHistory,\n  tooltipIdx\n}: GraphsTooltipsContentDuplicationProps) {\n  const duplicationDensity = measuresHistory.find(\n    measure => measure.metric === 'duplicated_lines_density'\n  );\n  if (!duplicationDensity || !duplicationDensity.history[tooltipIdx]) {\n    return null;\n  }\n  const duplicationDensityValue = duplicationDensity.history[tooltipIdx].value;\n  if (!duplicationDensityValue) {\n    return null;\n  }\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"activity-graph-tooltip-separator\" colSpan={3}>\n            <hr />\n          </td>\n        </tr>\n      )}\n      <tr className=\"activity-graph-tooltip-line\">\n        <td className=\"activity-graph-tooltip-value text-right spacer-right thin\" colSpan={2}>\n          {formatMeasure(duplicationDensityValue, 'PERCENT')}\n        </td>\n        <td>{translate('metric.duplicated_lines_density.name')}</td>\n      </tr>\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport ProjectEventIcon from 'sonar-ui-common/components/icons/ProjectEventIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  addSeparator: boolean;\n  events: T.AnalysisEvent[];\n}\n\nexport default function GraphsTooltipsContentEvents({ addSeparator, events }: Props) {\n  return (\n    <tbody>\n      {addSeparator && (\n        <tr>\n          <td className=\"activity-graph-tooltip-separator\" colSpan={3}>\n            <hr />\n          </td>\n        </tr>\n      )}\n      <tr className=\"activity-graph-tooltip-line\">\n        <td colSpan={3}>\n          <span>{translate('events')}:</span>\n          {events.map(event => (\n            <span className=\"spacer-left\" key={event.key}>\n              <ProjectEventIcon\n                className={classNames('project-activity-event-icon', event.category)}\n              />\n            </span>\n          ))}\n        </td>\n      </tr>\n    </tbody>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ChartLegendIcon from 'sonar-ui-common/components/icons/ChartLegendIcon';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { MeasureHistory } from '../../types/project-activity';\n\nexport interface GraphsTooltipsContentIssuesProps {\n  index: number;\n  measuresHistory: MeasureHistory[];\n  name: string;\n  tooltipIdx: number;\n  translatedName: string;\n  value: string;\n}\n\nconst METRIC_RATING: T.Dict<string> = {\n  bugs: 'reliability_rating',\n  vulnerabilities: 'security_rating',\n  code_smells: 'sqale_rating'\n};\n\nexport default function GraphsTooltipsContentIssues(props: GraphsTooltipsContentIssuesProps) {\n  const rating = props.measuresHistory.find(\n    measure => measure.metric === METRIC_RATING[props.name]\n  );\n  if (!rating || !rating.history[props.tooltipIdx]) {\n    return null;\n  }\n  const ratingValue = rating.history[props.tooltipIdx].value;\n  return (\n    <tr className=\"activity-graph-tooltip-issues-line\" key={props.name}>\n      <td className=\"thin\">\n        <ChartLegendIcon className=\"spacer-right\" index={props.index} />\n      </td>\n      <td className=\"text-right spacer-right\">\n        <span className=\"activity-graph-tooltip-value\">{props.value}</span>\n        {ratingValue && <Rating className=\"spacer-left\" small={true} value={ratingValue} />}\n      </td>\n      <td>{props.translatedName}</td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DateTimeFormatter from 'sonar-ui-common/components/intl/DateTimeFormatter';\nimport { Popup, PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { MeasureHistory, Serie } from '../../types/project-activity';\nimport GraphsTooltipsContent from './GraphsTooltipsContent';\nimport GraphsTooltipsContentCoverage from './GraphsTooltipsContentCoverage';\nimport GraphsTooltipsContentDuplication from './GraphsTooltipsContentDuplication';\nimport GraphsTooltipsContentEvents from './GraphsTooltipsContentEvents';\nimport GraphsTooltipsContentIssues from './GraphsTooltipsContentIssues';\nimport { DEFAULT_GRAPH } from './utils';\n\ninterface Props {\n  events: T.AnalysisEvent[];\n  formatValue: (tick: number | string) => string;\n  graph: string;\n  graphWidth: number;\n  measuresHistory: MeasureHistory[];\n  selectedDate: Date;\n  series: Serie[];\n  tooltipIdx: number;\n  tooltipPos: number;\n}\n\nconst TOOLTIP_WIDTH = 250;\n\nexport default class GraphsTooltips extends React.PureComponent<Props> {\n  renderContent() {\n    const { tooltipIdx } = this.props;\n\n    return this.props.series.map((serie, idx) => {\n      const point = serie.data[tooltipIdx];\n      if (!point || (!point.y && point.y !== 0)) {\n        return null;\n      }\n      if (this.props.graph === DEFAULT_GRAPH) {\n        return (\n          <GraphsTooltipsContentIssues\n            index={idx}\n            key={serie.name}\n            measuresHistory={this.props.measuresHistory}\n            name={serie.name}\n            tooltipIdx={tooltipIdx}\n            translatedName={serie.translatedName}\n            value={this.props.formatValue(point.y)}\n          />\n        );\n      } else {\n        return (\n          <GraphsTooltipsContent\n            index={idx}\n            key={serie.name}\n            name={serie.name}\n            translatedName={serie.translatedName}\n            value={this.props.formatValue(point.y)}\n          />\n        );\n      }\n    });\n  }\n\n  render() {\n    const { events, measuresHistory, tooltipIdx } = this.props;\n    const top = 30;\n    let left = this.props.tooltipPos + 60;\n    let placement = PopupPlacement.RightTop;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH - 50) {\n      left -= TOOLTIP_WIDTH;\n      placement = PopupPlacement.LeftTop;\n    }\n    const tooltipContent = this.renderContent().filter(isDefined);\n    const addSeparator = tooltipContent.length > 0;\n    return (\n      <Popup\n        className=\"disabled-pointer-events\"\n        placement={placement}\n        style={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"activity-graph-tooltip\">\n          <div className=\"activity-graph-tooltip-title spacer-bottom\">\n            <DateTimeFormatter date={this.props.selectedDate} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>{tooltipContent}</tbody>\n            {this.props.graph === 'coverage' && (\n              <GraphsTooltipsContentCoverage\n                addSeparator={addSeparator}\n                measuresHistory={measuresHistory}\n                tooltipIdx={tooltipIdx}\n              />\n            )}\n            {this.props.graph === 'duplications' && (\n              <GraphsTooltipsContentDuplication\n                addSeparator={addSeparator}\n                measuresHistory={measuresHistory}\n                tooltipIdx={tooltipIdx}\n              />\n            )}\n            {events && events.length > 0 && (\n              <GraphsTooltipsContentEvents addSeparator={addSeparator} events={events} />\n            )}\n          </table>\n        </div>\n      </Popup>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer';\nimport AdvancedTimeline from 'sonar-ui-common/components/charts/AdvancedTimeline';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getShortType } from '../../helpers/measures';\nimport { MeasureHistory, Serie } from '../../types/project-activity';\nimport GraphsLegendCustom from './GraphsLegendCustom';\nimport GraphsLegendStatic from './GraphsLegendStatic';\nimport GraphsTooltips from './GraphsTooltips';\n\ninterface Props {\n  events: T.AnalysisEvent[];\n  graph: string;\n  graphEndDate?: Date;\n  graphStartDate?: Date;\n  leakPeriodDate?: Date;\n  isCustom?: boolean;\n  measuresHistory: MeasureHistory[];\n  metricsType: string;\n  removeCustomMetric?: (metric: string) => void;\n  showAreas: boolean;\n  series: Serie[];\n  selectedDate?: Date;\n  updateGraphZoom?: (from?: Date, to?: Date) => void;\n  updateSelectedDate?: (selectedDate?: Date) => void;\n  updateTooltip: (selectedDate?: Date) => void;\n}\n\ninterface State {\n  tooltipIdx?: number;\n  tooltipXPos?: number;\n}\n\nexport default class GraphHistory extends React.PureComponent<Props, State> {\n  state: State = {};\n\n  formatValue = (tick: string | number) => {\n    return formatMeasure(tick, getShortType(this.props.metricsType));\n  };\n\n  formatTooltipValue = (tick: string | number) => {\n    return formatMeasure(tick, this.props.metricsType);\n  };\n\n  updateTooltip = (selectedDate?: Date, tooltipXPos?: number, tooltipIdx?: number) => {\n    this.props.updateTooltip(selectedDate);\n    this.setState({ tooltipXPos, tooltipIdx });\n  };\n\n  render() {\n    const {\n      events,\n      graph,\n      graphEndDate,\n      graphStartDate,\n      isCustom,\n      leakPeriodDate,\n      measuresHistory,\n      metricsType,\n      selectedDate,\n      series,\n      showAreas\n    } = this.props;\n    const { tooltipIdx, tooltipXPos } = this.state;\n\n    return (\n      <div className=\"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center\">\n        {isCustom && this.props.removeCustomMetric ? (\n          <GraphsLegendCustom removeMetric={this.props.removeCustomMetric} series={series} />\n        ) : (\n          <GraphsLegendStatic series={series} />\n        )}\n\n        <div className=\"flex-1\">\n          <AutoSizer>\n            {({ height, width }) => (\n              <div>\n                <AdvancedTimeline\n                  displayNewCodeLegend={true}\n                  endDate={graphEndDate}\n                  formatYTick={this.formatValue}\n                  height={height}\n                  leakPeriodDate={leakPeriodDate}\n                  metricType={metricsType}\n                  selectedDate={selectedDate}\n                  series={series}\n                  showAreas={showAreas}\n                  startDate={graphStartDate}\n                  updateSelectedDate={this.props.updateSelectedDate}\n                  updateTooltip={this.updateTooltip}\n                  updateZoom={this.props.updateGraphZoom}\n                  width={width}\n                />\n                {selectedDate !== undefined &&\n                  tooltipIdx !== undefined &&\n                  tooltipXPos !== undefined && (\n                    <GraphsTooltips\n                      events={events}\n                      formatValue={this.formatTooltipValue}\n                      graph={graph}\n                      graphWidth={width}\n                      measuresHistory={measuresHistory}\n                      selectedDate={selectedDate}\n                      series={series}\n                      tooltipIdx={tooltipIdx}\n                      tooltipPos={tooltipXPos}\n                    />\n                  )}\n              </div>\n            )}\n          </AutoSizer>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isEqual } from 'lodash';\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getBaseUrl } from 'sonar-ui-common/helpers/urls';\nimport { GraphType, MeasureHistory, Serie } from '../../types/project-activity';\nimport GraphHistory from './GraphHistory';\nimport './styles.css';\nimport { getSeriesMetricType, hasHistoryData, isCustomGraph } from './utils';\n\ninterface Props {\n  analyses: T.ParsedAnalysis[];\n  graph: GraphType;\n  graphs: Serie[][];\n  graphEndDate?: Date;\n  graphStartDate?: Date;\n  leakPeriodDate?: Date;\n  loading: boolean;\n  measuresHistory: MeasureHistory[];\n  removeCustomMetric?: (metric: string) => void;\n  selectedDate?: Date;\n  series: Serie[];\n  updateGraphZoom?: (from?: Date, to?: Date) => void;\n  updateSelectedDate?: (selectedDate?: Date) => void;\n}\n\ninterface State {\n  selectedDate?: Date;\n}\n\nexport default class GraphsHistory extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      selectedDate: props.selectedDate\n    };\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      this.setState({ selectedDate: nextProps.selectedDate });\n    }\n  }\n\n  getSelectedDateEvents = () => {\n    const { selectedDate } = this.state;\n    const { analyses } = this.props;\n    if (analyses && selectedDate) {\n      const analysis = analyses.find(a => a.date.valueOf() === selectedDate.valueOf());\n      if (analysis) {\n        return analysis.events;\n      }\n    }\n    return [];\n  };\n\n  updateTooltip = (selectedDate?: Date) => {\n    this.setState({ selectedDate });\n  };\n\n  render() {\n    const { graph, loading, series } = this.props;\n    const isCustom = isCustomGraph(graph);\n\n    if (loading) {\n      return (\n        <div className=\"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center\">\n          <div className=\"text-center\">\n            <DeferredSpinner loading={loading} />\n          </div>\n        </div>\n      );\n    }\n\n    if (!hasHistoryData(series)) {\n      return (\n        <div className=\"activity-graph-container flex-grow display-flex-column display-flex-stretch display-flex-justify-center\">\n          <div className=\"display-flex-center display-flex-justify-center\">\n            <img\n              alt=\"\" /* Make screen readers ignore this image; it's purely eye candy. */\n              className=\"spacer-right\"\n              height={52}\n              src={`${getBaseUrl()}/images/activity-chart.svg`}\n            />\n            <div className=\"big-spacer-left big text-muted\" style={{ maxWidth: 300 }}>\n              {translate(\n                isCustom\n                  ? 'project_activity.graphs.custom.no_history'\n                  : 'component_measures.no_history'\n              )}\n            </div>\n          </div>\n        </div>\n      );\n    }\n    const events = this.getSelectedDateEvents();\n    const showAreas = [GraphType.coverage, GraphType.duplications].includes(graph);\n    return (\n      <div className=\"display-flex-justify-center display-flex-column display-flex-stretch flex-grow\">\n        {this.props.graphs.map((graphSeries, idx) => (\n          <GraphHistory\n            events={events}\n            graph={graph}\n            graphEndDate={this.props.graphEndDate}\n            graphStartDate={this.props.graphStartDate}\n            isCustom={isCustom}\n            key={idx}\n            leakPeriodDate={this.props.leakPeriodDate}\n            measuresHistory={this.props.measuresHistory}\n            metricsType={getSeriesMetricType(graphSeries)}\n            removeCustomMetric={this.props.removeCustomMetric}\n            selectedDate={this.state.selectedDate}\n            series={graphSeries}\n            showAreas={showAreas}\n            updateGraphZoom={this.props.updateGraphZoom}\n            updateSelectedDate={this.props.updateSelectedDate}\n            updateTooltip={this.updateTooltip}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\n\nexport interface AddGraphMetricPopupProps {\n  elements: string[];\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  metricsTypeFilter?: string[];\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  popupPosition?: any;\n  renderLabel: (element: string) => React.ReactNode;\n  selectedElements: string[];\n}\n\nexport default function AddGraphMetricPopup({\n  elements,\n  metricsTypeFilter,\n  ...props\n}: AddGraphMetricPopupProps) {\n  let footerNode: React.ReactNode = '';\n\n  if (props.selectedElements.length >= 6) {\n    footerNode = (\n      <Alert className=\"spacer-left spacer-right spacer-top\" variant=\"info\">\n        {translate('project_activity.graphs.custom.add_metric_info')}\n      </Alert>\n    );\n  } else if (metricsTypeFilter && metricsTypeFilter.length > 0) {\n    footerNode = (\n      <Alert className=\"spacer-left spacer-right spacer-top\" variant=\"info\">\n        {translateWithParameters(\n          'project_activity.graphs.custom.type_x_message',\n          metricsTypeFilter\n            .map((type: string) => translate('metric.type', type))\n            .sort()\n            .join(', ')\n        )}\n      </Alert>\n    );\n  }\n\n  return (\n    <div className=\"menu abs-width-300\">\n      <MultiSelect\n        allowNewElements={false}\n        allowSelection={props.selectedElements.length < 6}\n        elements={elements}\n        filterSelected={props.filterSelected}\n        footerNode={footerNode}\n        onSearch={props.onSearch}\n        onSelect={(item: string) => elements.includes(item) && props.onSelect(item)}\n        onUnselect={props.onUnselect}\n        placeholder={translate('search.search_for_tags')}\n        renderLabel={props.renderLabel}\n        selectedElements={props.selectedElements}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { find, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { isDiffMetric } from '../../helpers/measures';\nimport AddGraphMetricPopup from './AddGraphMetricPopup';\n\ninterface Props {\n  addMetric: (metric: string) => void;\n  className?: string;\n  metrics: T.Metric[];\n  metricsTypeFilter?: string[];\n  removeMetric: (metric: string) => void;\n  selectedMetrics: string[];\n}\n\ninterface State {\n  metrics: string[];\n  query: string;\n  selectedMetrics: string[];\n}\n\nexport default class AddGraphMetric extends React.PureComponent<Props, State> {\n  state: State = {\n    metrics: [],\n    query: '',\n    selectedMetrics: []\n  };\n\n  filterSelected = (query: string, selectedElements: string[]) => {\n    return selectedElements.filter(element =>\n      this.getLocalizedMetricNameFromKey(element)\n        .toLowerCase()\n        .includes(query.toLowerCase())\n    );\n  };\n\n  filterMetricsElements = (\n    { metricsTypeFilter, metrics, selectedMetrics }: Props,\n    query: string\n  ) => {\n    return metrics\n      .filter(metric => {\n        if (\n          metric.hidden ||\n          isDiffMetric(metric.key) ||\n          ['DATA', 'DISTRIB'].includes(metric.type) ||\n          selectedMetrics.includes(metric.key) ||\n          !getLocalizedMetricName(metric)\n            .toLowerCase()\n            .includes(query.toLowerCase())\n        ) {\n          return false;\n        }\n        if (metricsTypeFilter && metricsTypeFilter.length > 0) {\n          return metricsTypeFilter.includes(metric.type);\n        }\n        return true;\n      })\n      .map(metric => metric.key);\n  };\n\n  getSelectedMetricsElements = (metrics: T.Metric[], selectedMetrics?: string[]) => {\n    const selected = selectedMetrics || this.props.selectedMetrics;\n    return metrics.filter(metric => selected.includes(metric.key)).map(metric => metric.key);\n  };\n\n  getLocalizedMetricNameFromKey = (key: string) => {\n    const metric = find(this.props.metrics, { key });\n    return metric === undefined ? key : getLocalizedMetricName(metric);\n  };\n\n  onSearch = (query: string) => {\n    this.setState({ query });\n    return Promise.resolve();\n  };\n\n  onSelect = (metric: string) => {\n    this.props.addMetric(metric);\n    this.setState(state => {\n      return {\n        selectedMetrics: sortBy([...state.selectedMetrics, metric]),\n        metrics: this.filterMetricsElements(this.props, state.query)\n      };\n    });\n  };\n\n  onUnselect = (metric: string) => {\n    this.props.removeMetric(metric);\n    this.setState(state => {\n      return {\n        metrics: sortBy([...state.metrics, metric]),\n        selectedMetrics: state.selectedMetrics.filter(selected => selected !== metric)\n      };\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    const filteredMetrics = this.filterMetricsElements(this.props, query);\n    const selectedMetrics = this.getSelectedMetricsElements(\n      this.props.metrics,\n      this.props.selectedMetrics\n    );\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        closeOnClick={false}\n        closeOnClickOutside={true}\n        overlay={\n          <AddGraphMetricPopup\n            elements={filteredMetrics}\n            filterSelected={this.filterSelected}\n            metricsTypeFilter={this.props.metricsTypeFilter}\n            onSearch={this.onSearch}\n            onSelect={this.onSelect}\n            onUnselect={this.onUnselect}\n            renderLabel={element => this.getLocalizedMetricNameFromKey(element)}\n            selectedElements={selectedMetrics}\n          />\n        }>\n        <Button className=\"spacer-left\">\n          <span className=\"text-ellipsis text-middle\">\n            {translate('project_activity.graphs.custom.add')}\n          </span>\n          <DropdownIcon className=\"text-top little-spacer-left\" />\n        </Button>\n      </Dropdown>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2021 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { GraphType } from '../../types/project-activity';\nimport AddGraphMetric from './AddGraphMetric';\nimport './styles.css';\nimport { getGraphTypes, isCustomGraph } from './utils';\n\ninterface Props {\n  addCustomMetric?: (metric: string) => void;\n  className?: string;\n  removeCustomMetric?: (metric: string) => void;\n  graph: GraphType;\n  metrics: T.Metric[];\n  metricsTypeFilter?: string[];\n  selectedMetrics?: string[];\n  updateGraph: (graphType: string) => void;\n}\n\nexport default class GraphsHeader extends React.PureComponent<Props> {\n  handleGraphChange = (option: { value: string }) => {\n    if (option.value !== this.props.graph) {\n      this.props.updateGraph(option.value);\n    }\n  };\n\n  render() {\n    const {\n      addCustomMetric,\n      className,\n      graph,\n      metrics,\n      metricsTypeFilter,\n      removeCustomMetric,\n      selectedMetrics = []\n    } = this.props;\n\n    const types = getGraphTypes(addCustomMetric === undefined || removeCustomMetric === undefined);\n\n    const selectOptions = types.map(type => ({\n      label: translate('project_activity.graphs', type),\n      value: type\n    }));\n\n    return (\n      <div className={classNames(className, 'position-relative')}>\n        <Select\n          className=\"pull-left input-medium\"\n          clearable={false}\n          onChange={this.handleGraphChange}\n          options={selectOptions}\n          searchable={false}\n          value={graph}\n        />\n        {isCustomGraph(graph) &&\n          addCustomMetric !== undefined &&\n          removeCustomMetric !== undefined && (\n            <AddGraphMetric\n              addMetric={addCustomMetric}\n              className=\"pull-left spacer-left\"\n              metrics={metrics}\n              metricsTypeFilter={metricsTypeFilter}\n              removeMetric={removeCustomMetric}\n              selectedMetrics={selectedMetrics}\n            />\n          )}\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}